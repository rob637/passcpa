/**
 * CIA Part 2 Flashcards - Batch 6
 * Practice of Internal Auditing - Advanced Topics & Special Engagements
 */

import { CIAFlashcard } from './index';

export const CIA2_FLASHCARDS_BATCH6: CIAFlashcard[] = [
  // Advanced Testing Concepts
  {
    id: 'cia2-fc-b6-001',
    section: 'CIA2',
    type: 'concept',
    topic: 'Testing',
    subtopic: 'Test of Controls',
    front: 'What is the difference between tests of controls and substantive tests?',
    back: 'Tests of Controls: Evaluate whether controls are operating effectively (inspection, observation, inquiry, reperformance)\n\nSubstantive Tests: Verify accuracy/validity of transactions and balances (detail testing, analytical procedures)\n\nBoth may be used together.',
    difficulty: 'medium',
    tags: ['controls testing', 'substantive', 'comparison'],
  },
  {
    id: 'cia2-fc-b6-002',
    section: 'CIA2',
    type: 'concept',
    topic: 'Testing',
    subtopic: 'Dual Purpose',
    front: 'What are dual-purpose tests?',
    back: 'Tests designed to simultaneously achieve control testing and substantive testing objectives. Efficient when testing same population. Example: Testing invoice approval (control) and accuracy of amount (substantive) on same sample.',
    difficulty: 'medium',
    tags: ['dual purpose', 'testing', 'efficiency'],
  },
  {
    id: 'cia2-fc-b6-003',
    section: 'CIA2',
    type: 'concept',
    topic: 'Testing',
    subtopic: 'Control Reliance',
    front: 'When should auditors rely on controls vs perform substantive testing?',
    back: 'Rely on Controls: Strong control environment, controls appear well-designed, cost-effective to test controls, ongoing transaction streams\n\nSubstantive: Weak controls, one-time transactions, high-risk areas, limited transactions to test',
    difficulty: 'hard',
    tags: ['control reliance', 'substantive', 'strategy'],
  },
  {
    id: 'cia2-fc-b6-004',
    section: 'CIA2',
    type: 'concept',
    topic: 'Testing',
    subtopic: 'Direction',
    front: 'What is directional testing?',
    back: 'Tests designed based on audit objective direction:\nCompleteness: Test from source documents TO records (verify all items recorded)\nExistence/Occurrence: Test from records TO source (verify recorded items are real)\n\nDirection ensures test achieves objective.',
    difficulty: 'hard',
    tags: ['directional testing', 'completeness', 'existence'],
  },
  {
    id: 'cia2-fc-b6-005',
    section: 'CIA2',
    type: 'concept',
    topic: 'Testing',
    subtopic: 'Cut-off Testing',
    front: 'What is cut-off testing?',
    back: 'Verifying transactions are recorded in the correct period. Test transactions around period end (before and after). Common areas: Revenue, purchases, inventory, payroll. Critical for accurate financial reporting.',
    difficulty: 'medium',
    tags: ['cut-off', 'period-end', 'timing'],
  },
  // Advanced Analytics
  {
    id: 'cia2-fc-b6-006',
    section: 'CIA2',
    type: 'concept',
    topic: 'Analytics',
    subtopic: 'Ratio Analysis',
    front: 'How are ratios used in audit analytics?',
    back: 'Compare current to prior periods, budget, industry benchmarks. Identify unusual fluctuations requiring investigation. Common ratios: Turnover, margins, liquidity ratios. Significant changes may indicate errors, fraud, or business changes.',
    difficulty: 'medium',
    tags: ['ratios', 'analytics', 'trends'],
  },
  {
    id: 'cia2-fc-b6-007',
    section: 'CIA2',
    type: 'concept',
    topic: 'Analytics',
    subtopic: 'Predictive',
    front: 'How is predictive modeling used in auditing?',
    back: 'Develop expected values based on relationships and historical data. Compare actual to predicted to identify anomalies. Examples: Expected revenue based on units × price, regression models for expense analysis.',
    difficulty: 'hard',
    tags: ['predictive', 'modeling', 'expectations'],
  },
  {
    id: 'cia2-fc-b6-008',
    section: 'CIA2',
    type: 'concept',
    topic: 'Analytics',
    subtopic: 'Text Analytics',
    front: 'How can text analytics be used in auditing?',
    back: 'Analyze unstructured data: emails, contracts, customer feedback. Identify keywords, sentiment, patterns. Fraud detection through communication analysis. Contract review for terms and anomalies. Risk identification from complaint data.',
    difficulty: 'hard',
    tags: ['text analytics', 'unstructured data', 'NLP'],
  },
  {
    id: 'cia2-fc-b6-009',
    section: 'CIA2',
    type: 'concept',
    topic: 'Analytics',
    subtopic: 'Process Mining',
    front: 'What is process mining and its audit applications?',
    back: 'Analyzing event logs to understand actual process flows. Compare to expected process. Identify bottlenecks, bypasses of controls, inefficiencies, unusual paths. Visualizes how processes actually operate vs. design.',
    difficulty: 'hard',
    tags: ['process mining', 'event logs', 'visualization'],
  },
  {
    id: 'cia2-fc-b6-010',
    section: 'CIA2',
    type: 'concept',
    topic: 'Analytics',
    subtopic: 'Visualization',
    front: 'How should data visualization be used in audit?',
    back: 'Present complex data clearly. Dashboards for monitoring. Heat maps for risk areas. Trend charts for patterns. Choose appropriate chart type. Avoid misleading scales. Use visualization to enhance communication of findings.',
    difficulty: 'medium',
    tags: ['visualization', 'dashboards', 'communication'],
  },
  // Control Evaluation
  {
    id: 'cia2-fc-b6-011',
    section: 'CIA2',
    type: 'concept',
    topic: 'Controls',
    subtopic: 'Design vs Operating',
    front: 'What is the difference between design and operating effectiveness?',
    back: 'Design Effectiveness: Control is properly designed to prevent or detect errors/fraud if operated correctly\n\nOperating Effectiveness: Control is actually operating as designed\n\nBoth must be evaluated—control can be well-designed but poorly executed.',
    difficulty: 'medium',
    tags: ['design', 'operating', 'effectiveness'],
  },
  {
    id: 'cia2-fc-b6-012',
    section: 'CIA2',
    type: 'concept',
    topic: 'Controls',
    subtopic: 'Key Controls',
    front: 'How are key controls identified?',
    back: 'Controls addressing significant risks, controls required by regulation, controls preventing material misstatement, detective controls for critical processes. Focus testing on key controls rather than all controls.',
    difficulty: 'medium',
    tags: ['key controls', 'significant', 'focus'],
  },
  {
    id: 'cia2-fc-b6-013',
    section: 'CIA2',
    type: 'concept',
    topic: 'Controls',
    subtopic: 'Compensating',
    front: 'What are compensating controls?',
    back: 'Alternative controls that reduce risk when primary control is missing or weak. Example: If segregation of duties not possible, use supervisory review as compensating control. Must adequately mitigate risk to be acceptable.',
    difficulty: 'medium',
    tags: ['compensating controls', 'alternative', 'mitigation'],
  },
  {
    id: 'cia2-fc-b6-014',
    section: 'CIA2',
    type: 'concept',
    topic: 'Controls',
    subtopic: 'Automated vs Manual',
    front: 'What are the advantages of automated vs manual controls?',
    back: 'Automated: Consistent application, fewer errors, efficient for high-volume, audit trail\n\nManual: Flexibility, handles exceptions, judgment-based\n\nAutomated controls reduce ongoing testing if change management is strong.',
    difficulty: 'medium',
    tags: ['automated', 'manual', 'controls'],
  },
  {
    id: 'cia2-fc-b6-015',
    section: 'CIA2',
    type: 'concept',
    topic: 'Controls',
    subtopic: 'Entity-Level',
    front: 'What are entity-level controls?',
    back: 'Controls operating at organizational level: Tone at top, risk assessment process, monitoring activities, information and communication, board oversight. Affect overall control environment and influence process-level controls.',
    difficulty: 'medium',
    tags: ['entity-level', 'organization', 'environment'],
  },
  // Root Cause Techniques
  {
    id: 'cia2-fc-b6-016',
    section: 'CIA2',
    type: 'concept',
    topic: 'Analysis',
    subtopic: '5 Whys',
    front: 'How is the "5 Whys" technique applied?',
    back: 'Ask "why" repeatedly (typically 5 times) until root cause is identified.\nExample: Error in report → Why? Wrong data → Why? Manual input → Why? No system interface → Why? Budget constraint\nRoot cause: Inadequate system investment.',
    difficulty: 'medium',
    tags: ['5 Whys', 'root cause', 'analysis'],
  },
  {
    id: 'cia2-fc-b6-017',
    section: 'CIA2',
    type: 'concept',
    topic: 'Analysis',
    subtopic: 'Fishbone',
    front: 'What is a fishbone (Ishikawa) diagram?',
    back: 'Visual tool for root cause analysis. Problem on "head," potential causes on "bones." Categories often: People, Process, Technology, Policy, Methods, Environment. Facilitates brainstorming and organizing potential causes.',
    difficulty: 'medium',
    tags: ['fishbone', 'Ishikawa', 'diagram'],
  },
  {
    id: 'cia2-fc-b6-018',
    section: 'CIA2',
    type: 'concept',
    topic: 'Analysis',
    subtopic: 'Pareto',
    front: 'How is Pareto analysis used in auditing?',
    back: '80/20 principle—focus on vital few causes of most issues. Rank causes by frequency or impact. Chart shows cumulative percentage. Prioritize addressing causes with highest impact. Example: 80% of errors from 20% of causes.',
    difficulty: 'medium',
    tags: ['Pareto', '80/20', 'prioritization'],
  },
  // Engagement Types
  {
    id: 'cia2-fc-b6-019',
    section: 'CIA2',
    type: 'concept',
    topic: 'Engagements',
    subtopic: 'Operational',
    front: 'What distinguishes an operational audit?',
    back: 'Evaluates efficiency, effectiveness, and economy of operations. Focuses on: Are objectives being achieved? Are resources used optimally? Are processes efficient? May include performance metrics and benchmarking.',
    difficulty: 'medium',
    tags: ['operational audit', 'efficiency', 'effectiveness'],
  },
  {
    id: 'cia2-fc-b6-020',
    section: 'CIA2',
    type: 'concept',
    topic: 'Engagements',
    subtopic: 'Financial',
    front: 'What are the objectives of a financial audit?',
    back: 'Evaluate reliability and integrity of financial information. Test internal controls over financial reporting. Verify transactions and balances. Assess compliance with accounting standards. Support external audit reliance.',
    difficulty: 'medium',
    tags: ['financial audit', 'reliability', 'controls'],
  },
  {
    id: 'cia2-fc-b6-021',
    section: 'CIA2',
    type: 'concept',
    topic: 'Engagements',
    subtopic: 'Compliance',
    front: 'What are key elements of a compliance audit?',
    back: 'Identify applicable requirements (laws, regulations, policies). Understand compliance processes and controls. Test adherence to requirements. Assess consequences of non-compliance. Report violations to appropriate level.',
    difficulty: 'medium',
    tags: ['compliance audit', 'regulations', 'requirements'],
  },
  {
    id: 'cia2-fc-b6-022',
    section: 'CIA2',
    type: 'concept',
    topic: 'Engagements',
    subtopic: 'IT Audit',
    front: 'What are key areas of IT auditing?',
    back: 'IT governance and strategy, security and access controls, change management, operations and processing, disaster recovery/BCP, system development, data management, vendor management, emerging technology, regulatory compliance.',
    difficulty: 'medium',
    tags: ['IT audit', 'technology', 'areas'],
  },
  {
    id: 'cia2-fc-b6-023',
    section: 'CIA2',
    type: 'concept',
    topic: 'Engagements',
    subtopic: 'Vendor Audit',
    front: 'What should be considered in third-party/vendor audits?',
    back: 'Contractual right to audit, data security and privacy, performance against SLAs, financial stability, regulatory compliance, subcontractor management, business continuity, access controls, incident response, exit planning.',
    difficulty: 'hard',
    tags: ['vendor audit', 'third party', 'outsourcing'],
  },
  // Special Investigations
  {
    id: 'cia2-fc-b6-024',
    section: 'CIA2',
    type: 'concept',
    topic: 'Investigation',
    subtopic: 'Fraud Investigation',
    front: 'What are the phases of a fraud investigation?',
    back: 'Predication: Sufficient basis to investigate\nPlanning: Team, scope, approach\nEvidence Collection: Documents, interviews, analytics\nAnalysis: Evaluate evidence\nReporting: Findings to stakeholders\nResolution: Recovery, discipline, prosecution',
    difficulty: 'hard',
    tags: ['fraud investigation', 'phases', 'forensic'],
  },
  {
    id: 'cia2-fc-b6-025',
    section: 'CIA2',
    type: 'concept',
    topic: 'Investigation',
    subtopic: 'Evidence Handling',
    front: 'What are best practices for evidence handling in investigations?',
    back: 'Maintain chain of custody, document collection methods, preserve originals, use forensic tools for digital evidence, secure storage, limit access, avoid evidence contamination, work with legal counsel, consider admissibility.',
    difficulty: 'hard',
    tags: ['evidence', 'chain of custody', 'forensic'],
  },
  {
    id: 'cia2-fc-b6-026',
    section: 'CIA2',
    type: 'concept',
    topic: 'Investigation',
    subtopic: 'Interview Subject',
    front: 'What techniques are used when interviewing a fraud suspect?',
    back: 'Admission-seeking interview as last step. Build rapport initially. Use non-confrontational approach. Observe body language. Use silence strategically. Obtain written statement if admission made. Have corroborating witness. Involve HR/Legal.',
    difficulty: 'hard',
    tags: ['interview', 'fraud suspect', 'techniques'],
  },
  // Quality and Supervision
  {
    id: 'cia2-fc-b6-027',
    section: 'CIA2',
    type: 'standard',
    topic: 'Supervision',
    subtopic: 'Requirements',
    front: 'What does Standard 2340 require for engagement supervision?',
    back: 'Engagements must be properly supervised to ensure objectives achieved, quality assured, and staff developed. Supervision includes: directing, reviewing work, providing coaching, approving before issuance.',
    difficulty: 'medium',
    tags: ['supervision', '2340', 'quality'],
    reference: 'Standard 2340',
  },
  {
    id: 'cia2-fc-b6-028',
    section: 'CIA2',
    type: 'concept',
    topic: 'Quality',
    subtopic: 'Work Paper Review',
    front: 'What should supervisory review of working papers include?',
    back: 'Verify objectives achieved, evidence sufficient and appropriate, conclusions supported, proper documentation, cross-referencing, compliance with standards, timely completion, professional quality. Document reviewer sign-off.',
    difficulty: 'medium',
    tags: ['work paper review', 'supervision', 'quality'],
  },
  {
    id: 'cia2-fc-b6-029',
    section: 'CIA2',
    type: 'concept',
    topic: 'Quality',
    subtopic: 'Review Notes',
    front: 'How should review notes be handled?',
    back: 'Document questions and required revisions clearly. Auditor addresses each note. Reviewer verifies resolution. Clear notes after satisfied. Retain evidence of review process. Use review notes for coaching and development.',
    difficulty: 'medium',
    tags: ['review notes', 'clearing', 'process'],
  },
  // Knowledge Management
  {
    id: 'cia2-fc-b6-030',
    section: 'CIA2',
    type: 'concept',
    topic: 'Knowledge',
    subtopic: 'Lessons Learned',
    front: 'How should lessons learned be captured from audits?',
    back: 'Post-engagement debrief, document what worked well and challenges, capture best practices, share across team, update methodologies, incorporate into training, reference in future audits of similar areas.',
    difficulty: 'medium',
    tags: ['lessons learned', 'knowledge', 'improvement'],
  },
  {
    id: 'cia2-fc-b6-031',
    section: 'CIA2',
    type: 'concept',
    topic: 'Knowledge',
    subtopic: 'Permanent File',
    front: 'What should be maintained in a permanent audit file?',
    back: 'Organizational charts, process documentation, contracts, policies and procedures, prior audit findings, key personnel, system information, regulatory requirements. Updated regularly. Referenced in current engagements.',
    difficulty: 'medium',
    tags: ['permanent file', 'documentation', 'reference'],
  },
  // Emerging Engagement Types
  {
    id: 'cia2-fc-b6-032',
    section: 'CIA2',
    type: 'concept',
    topic: 'Engagements',
    subtopic: 'Culture Audit',
    front: 'What is a culture audit?',
    back: 'Assesses organizational culture and its alignment with stated values. Methods: Surveys, focus groups, observation, review of incentives/consequences. Areas: Ethics, risk culture, compliance culture, innovation, psychological safety.',
    difficulty: 'hard',
    tags: ['culture audit', 'soft controls', 'values'],
  },
  {
    id: 'cia2-fc-b6-033',
    section: 'CIA2',
    type: 'concept',
    topic: 'Engagements',
    subtopic: 'Cyber Audit',
    front: 'What are key focus areas for cybersecurity audits?',
    back: 'Security governance, vulnerability management, incident response, access management, data protection, network security, security awareness, third-party risk, penetration testing, regulatory compliance (GDPR, HIPAA, etc.).',
    difficulty: 'hard',
    tags: ['cybersecurity', 'audit', 'security'],
  },
  {
    id: 'cia2-fc-b6-034',
    section: 'CIA2',
    type: 'concept',
    topic: 'Engagements',
    subtopic: 'ESG Audit',
    front: 'What should an ESG audit cover?',
    back: 'Environmental: Emissions, waste, energy, climate risk\nSocial: Labor practices, D&I, community impact\nGovernance: Board composition, ethics, transparency\n\nAudit: Data accuracy, disclosure completeness, program effectiveness, regulatory compliance.',
    difficulty: 'hard',
    tags: ['ESG', 'sustainability', 'audit'],
  },
  {
    id: 'cia2-fc-b6-035',
    section: 'CIA2',
    type: 'concept',
    topic: 'Engagements',
    subtopic: 'AI/Algorithm Audit',
    front: 'What should be considered when auditing AI/ML systems?',
    back: 'Model governance, data quality and bias, explainability, accuracy/performance monitoring, ethical considerations, regulatory compliance, change management, testing and validation, human oversight, documentation.',
    difficulty: 'hard',
    tags: ['AI', 'algorithm', 'model audit'],
  },
  // Communication Excellence
  {
    id: 'cia2-fc-b6-036',
    section: 'CIA2',
    type: 'concept',
    topic: 'Communication',
    subtopic: 'Writing',
    front: 'What are best practices for writing audit reports?',
    back: 'Use active voice, be concise, avoid jargon, organize logically, start with key message, use headings and visuals, proofread carefully, tailor to audience, quantify when possible, maintain professional tone.',
    difficulty: 'easy',
    tags: ['writing', 'reports', 'communication'],
  },
  {
    id: 'cia2-fc-b6-037',
    section: 'CIA2',
    type: 'concept',
    topic: 'Communication',
    subtopic: 'Exit Meeting',
    front: 'What should occur in an exit meeting/closing conference?',
    back: 'Review findings and recommendations, verify factual accuracy, discuss management responses, agree on action plans and timelines, address disagreements, discuss report distribution, explain follow-up process.',
    difficulty: 'medium',
    tags: ['exit meeting', 'closing', 'communication'],
  },
  {
    id: 'cia2-fc-b6-038',
    section: 'CIA2',
    type: 'concept',
    topic: 'Communication',
    subtopic: 'Disagreement',
    front: 'How should auditors handle disagreements with management on findings?',
    back: 'Listen to management perspective, verify facts, consider alternative views, stand by conclusions if evidence supports, document disagreement in report if not resolved, escalate significant disagreements per CAE guidance.',
    difficulty: 'medium',
    tags: ['disagreement', 'conflict', 'resolution'],
  },
  // Audit Technology
  {
    id: 'cia2-fc-b6-039',
    section: 'CIA2',
    type: 'concept',
    topic: 'Technology',
    subtopic: 'Audit Management',
    front: 'What features should audit management software provide?',
    back: 'Risk assessment and planning, engagement scheduling, work paper documentation, time tracking, issue management, report generation, follow-up tracking, analytics, collaboration, security, and audit trail.',
    difficulty: 'medium',
    tags: ['audit software', 'management', 'technology'],
  },
  {
    id: 'cia2-fc-b6-040',
    section: 'CIA2',
    type: 'concept',
    topic: 'Technology',
    subtopic: 'RPA in Audit',
    front: 'How can RPA (Robotic Process Automation) enhance internal audit?',
    back: 'Automate repetitive tasks: Data extraction, reconciliations, testing procedures, follow-up tracking, report generation. Frees auditors for higher-value analysis. Increases test coverage. Reduces errors. Enables continuous testing.',
    difficulty: 'hard',
    tags: ['RPA', 'automation', 'efficiency'],
  },
];
