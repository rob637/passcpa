/**
 * CMA Part 1: Flashcards Batch 3
 * Financial Planning, Performance, and Analytics - Expanded Coverage
 * 100 additional flashcards covering all CMA1 blueprint areas
 */

import { CMAFlashcard } from './types';

export const CMA1_BATCH3: CMAFlashcard[] = [
  // ============================================
  // A: External Financial Reporting Decisions (15%)
  // ============================================
  {
    id: 'cma1-b3-001',
    section: 'CMA1',
    type: 'definition',
    topic: 'Revenue Recognition',
    subtopic: 'ASC 606 Steps',
    blueprintArea: 'CMA1-A',
    front: 'What are the 5 steps of revenue recognition under ASC 606?',
    back: '**Step 1:** Identify the contract\n**Step 2:** Identify performance obligations\n**Step 3:** Determine transaction price\n**Step 4:** Allocate price to performance obligations\n**Step 5:** Recognize revenue when (or as) obligations are satisfied\n\nRevenue recognized over time or at a point in time.',
    difficulty: 'medium',
    tags: ['ASC 606', 'revenue', 'performance obligations'],
    reference: 'ASC 606',
  },
  {
    id: 'cma1-b3-002',
    section: 'CMA1',
    type: 'definition',
    topic: 'Leases',
    subtopic: 'Lessee Accounting',
    blueprintArea: 'CMA1-A',
    front: 'How do lessees account for operating vs. finance leases under ASC 842?',
    back: '**Both types:**\n• Recognize ROU asset and lease liability\n• Initial = PV of lease payments\n\n**Finance Lease:**\n• Amortize ROU asset\n• Interest expense (front-loaded)\n\n**Operating Lease:**\n• Single lease expense (straight-line)\n• ROU asset = Liability - cumulative difference',
    difficulty: 'hard',
    tags: ['ASC 842', 'leases', 'ROU asset'],
    reference: 'ASC 842',
  },
  {
    id: 'cma1-b3-003',
    section: 'CMA1',
    type: 'formula',
    topic: 'Bonds',
    subtopic: 'Effective Interest',
    blueprintArea: 'CMA1-A',
    front: 'How is bond interest expense calculated using the effective interest method?',
    back: '**Interest Expense = Carrying Value × Market Rate**\n\n**Cash Payment = Face Value × Stated Rate**\n\n**Premium/Discount Amortization:**\n= |Interest Expense - Cash Payment|\n\nNew Carrying Value = Old CV ± Amortization',
    formula: 'Interest Expense = Carrying Value × Market Rate',
    difficulty: 'hard',
    tags: ['bonds', 'effective interest', 'amortization'],
    reference: 'ASC 835',
  },
  {
    id: 'cma1-b3-004',
    section: 'CMA1',
    type: 'definition',
    topic: 'Deferred Taxes',
    subtopic: 'Temporary Differences',
    blueprintArea: 'CMA1-A',
    front: 'What creates deferred tax assets vs. deferred tax liabilities?',
    back: '**Deferred Tax Liability (DTL):**\n• Temporary difference results in MORE future taxable income\n• Example: Accelerated depreciation for tax\n\n**Deferred Tax Asset (DTA):**\n• Temporary difference results in LESS future taxable income\n• Example: Warranty expense accrued\n\nDTA requires valuation allowance if "more likely than not" won\'t be realized.',
    difficulty: 'hard',
    tags: ['deferred taxes', 'ASC 740', 'temporary differences'],
    reference: 'ASC 740',
  },
  {
    id: 'cma1-b3-005',
    section: 'CMA1',
    type: 'formula',
    topic: 'Earnings Per Share',
    subtopic: 'Diluted EPS',
    blueprintArea: 'CMA1-A',
    front: 'How is diluted EPS calculated with stock options?',
    back: '**Treasury Stock Method:**\n1. Assume options exercised at beginning of period\n2. Proceeds = Options × Exercise Price\n3. Treasury shares = Proceeds / Avg Market Price\n4. Incremental shares = Options - Treasury shares\n\n**Diluted EPS = Net Income / (WASO + Incremental Shares)**',
    formula: 'Diluted EPS = NI / (WASO + Incremental Shares)',
    difficulty: 'hard',
    tags: ['EPS', 'dilution', 'treasury stock method'],
    reference: 'ASC 260',
  },
  {
    id: 'cma1-b3-006',
    section: 'CMA1',
    type: 'comparison',
    topic: 'Inventory',
    subtopic: 'FIFO vs LIFO',
    blueprintArea: 'CMA1-A',
    front: 'FIFO vs. LIFO: Effects when prices are rising?',
    back: '**FIFO (Rising Prices):**\n• Higher ending inventory\n• Lower COGS\n• Higher net income\n• Higher taxes\n\n**LIFO (Rising Prices):**\n• Lower ending inventory\n• Higher COGS\n• Lower net income\n• Lower taxes (tax advantage)\n\n**LIFO Reserve** = FIFO Inventory - LIFO Inventory',
    comparison: {
      itemA: 'FIFO',
      itemB: 'LIFO',
      differences: ['Inventory valuation', 'COGS', 'Net income', 'Tax impact']
    },
    difficulty: 'medium',
    tags: ['inventory', 'FIFO', 'LIFO'],
  },
  {
    id: 'cma1-b3-007',
    section: 'CMA1',
    type: 'definition',
    topic: 'Pensions',
    subtopic: 'Components',
    blueprintArea: 'CMA1-A',
    front: 'What are the components of net periodic pension cost?',
    back: '**S-I-A-P-E-C:**\n\n• **S**ervice cost (operating expense)\n• **I**nterest cost\n• **A**ctual return less Expected return on plan assets\n• **P**rior service cost amortization\n• **E**xpected return on plan assets (reduces cost)\n• **C**urtailments and settlements\n\nOnly Service Cost in operating income; others in OCI.',
    mnemonic: 'S-I-A-P-E-C',
    difficulty: 'hard',
    tags: ['pensions', 'ASC 715', 'SIAPEC'],
    reference: 'ASC 715',
  },
  {
    id: 'cma1-b3-008',
    section: 'CMA1',
    type: 'definition',
    topic: 'Fair Value',
    subtopic: 'Level Hierarchy',
    blueprintArea: 'CMA1-A',
    front: 'What are the three levels of the fair value hierarchy?',
    back: '**Level 1:** Quoted prices in active markets for identical assets/liabilities (most reliable)\n\n**Level 2:** Observable inputs other than Level 1 (similar assets, interest rates, yield curves)\n\n**Level 3:** Unobservable inputs based on entity\'s assumptions (management estimates, least reliable)\n\nPrioritize Level 1 over Level 2 over Level 3.',
    difficulty: 'medium',
    tags: ['fair value', 'ASC 820', 'hierarchy'],
    reference: 'ASC 820',
  },

  // ============================================
  // B: Planning, Budgeting, and Forecasting (20%)
  // ============================================
  {
    id: 'cma1-b3-009',
    section: 'CMA1',
    type: 'concept',
    topic: 'Budgeting',
    subtopic: 'Master Budget',
    blueprintArea: 'CMA1-B',
    front: 'What is the sequence of the master budget?',
    back: '**Operating Budgets:**\n1. Sales budget (starting point)\n2. Production budget\n3. Direct materials budget\n4. Direct labor budget\n5. Manufacturing overhead budget\n6. Selling & admin budget\n7. Ending inventory budget\n8. Cost of goods sold budget\n9. Budgeted income statement\n\n**Financial Budgets:**\n10. Cash budget\n11. Budgeted balance sheet',
    difficulty: 'medium',
    tags: ['master budget', 'budgeting sequence'],
  },
  {
    id: 'cma1-b3-010',
    section: 'CMA1',
    type: 'formula',
    topic: 'Budgeting',
    subtopic: 'Production Budget',
    blueprintArea: 'CMA1-B',
    front: 'How is required production calculated?',
    back: '**Required Production =**\n\nBudgeted Sales\n+ Desired Ending Finished Goods\n- Beginning Finished Goods\n\n**Key insight:** Production must cover sales AND provide for ending inventory, net of what\'s already on hand.',
    formula: 'Production = Sales + Ending FG - Beginning FG',
    difficulty: 'easy',
    tags: ['production budget', 'manufacturing'],
  },
  {
    id: 'cma1-b3-011',
    section: 'CMA1',
    type: 'formula',
    topic: 'Forecasting',
    subtopic: 'Regression',
    blueprintArea: 'CMA1-B',
    front: 'What does the coefficient of determination (R²) tell us?',
    back: '**R² (R-squared)** represents the percentage of variation in the dependent variable explained by the independent variable(s).\n\n• R² = 0: No explanatory power\n• R² = 1: Perfect fit\n• R² = 0.80: 80% of variation explained\n\n**Higher R² = Better predictive model**\n\nAdjusted R² accounts for number of variables.',
    formula: 'R² = Explained Variation / Total Variation',
    difficulty: 'medium',
    tags: ['regression', 'R-squared', 'forecasting'],
  },
  {
    id: 'cma1-b3-012',
    section: 'CMA1',
    type: 'formula',
    topic: 'Forecasting',
    subtopic: 'Learning Curve',
    blueprintArea: 'CMA1-B',
    front: 'How does the 80% learning curve work?',
    back: '**80% Learning Curve:**\nCumulative average time per unit = 80% of prior when cumulative output doubles\n\n**Example:**\n• 1 unit: 100 hours\n• 2 units: 80 hours average (160 total)\n• 4 units: 64 hours average (256 total)\n• 8 units: 51.2 hours average (410 total)\n\n**Formula:** Y = aX^b where b = log(learning rate)/log(2)',
    formula: 'Y = aX^b',
    difficulty: 'hard',
    tags: ['learning curve', 'labor efficiency'],
  },
  {
    id: 'cma1-b3-013',
    section: 'CMA1',
    type: 'definition',
    topic: 'Capital Budgeting',
    subtopic: 'Decision Rules',
    blueprintArea: 'CMA1-B',
    front: 'What are the NPV, IRR, and PI decision rules?',
    back: '**NPV Rule:**\n• Accept if NPV > 0\n• Reject if NPV < 0\n\n**IRR Rule:**\n• Accept if IRR > Required Return\n• Reject if IRR < Required Return\n\n**Profitability Index:**\n• Accept if PI > 1.0\n• Reject if PI < 1.0\n\n**NPV is preferred** for mutually exclusive projects.',
    difficulty: 'medium',
    tags: ['NPV', 'IRR', 'PI', 'capital budgeting'],
  },
  {
    id: 'cma1-b3-014',
    section: 'CMA1',
    type: 'comparison',
    topic: 'Budgeting',
    subtopic: 'Methods',
    blueprintArea: 'CMA1-B',
    front: 'Zero-Based Budgeting vs. Incremental Budgeting?',
    back: '**Incremental Budgeting:**\n• Starts with prior period budget\n• Adjusts for expected changes\n• Faster, easier\n• May perpetuate inefficiencies\n\n**Zero-Based Budgeting:**\n• Starts from scratch each period\n• All activities must be justified\n• More thorough, time-consuming\n• Forces cost-benefit analysis\n• Better for eliminating waste',
    comparison: {
      itemA: 'Incremental',
      itemB: 'Zero-Based',
      differences: ['Starting point', 'Effort required', 'Efficiency outcomes']
    },
    difficulty: 'medium',
    tags: ['ZBB', 'incremental', 'budgeting methods'],
  },
  {
    id: 'cma1-b3-015',
    section: 'CMA1',
    type: 'mnemonic',
    topic: 'Strategic Planning',
    subtopic: 'Porter\'s Five Forces',
    blueprintArea: 'CMA1-B',
    front: 'What are Porter\'s Five Forces? (BREST)',
    back: '**B**uyers\' bargaining power\n\n**R**ivalry among existing competitors\n\n**E**ntry threat (new entrants)\n\n**S**uppliers\' bargaining power\n\n**T**hreat of substitutes\n\nThese forces determine industry attractiveness and competitive intensity.',
    mnemonic: 'BREST',
    difficulty: 'easy',
    tags: ['Porter', 'five forces', 'strategy'],
  },
  {
    id: 'cma1-b3-016',
    section: 'CMA1',
    type: 'definition',
    topic: 'Forecasting',
    subtopic: 'Qualitative Methods',
    blueprintArea: 'CMA1-B',
    front: 'What is the Delphi method of forecasting?',
    back: '**Delphi Method:**\n\n1. Select expert panel\n2. Send questionnaires anonymously\n3. Collect and summarize responses\n4. Share summary, ask for revisions\n5. Repeat until consensus\n\n**Advantages:**\n• Reduces groupthink\n• Allows experts to revise without embarrassment\n• Useful for long-term, novel situations',
    difficulty: 'medium',
    tags: ['Delphi', 'qualitative forecasting', 'experts'],
  },

  // ============================================
  // C: Performance Management (20%)
  // ============================================
  {
    id: 'cma1-b3-017',
    section: 'CMA1',
    type: 'formula',
    topic: 'Variance Analysis',
    subtopic: 'DM Variances',
    blueprintArea: 'CMA1-C',
    front: 'How are direct materials price and quantity variances calculated?',
    back: '**Price Variance:**\n(Actual Price - Standard Price) × Actual Quantity Purchased\n\n**Quantity (Usage) Variance:**\n(Actual Quantity Used - Standard Quantity Allowed) × Standard Price\n\n**Favorable:** Actual < Standard (spent less)\n**Unfavorable:** Actual > Standard (spent more)',
    formula: 'DM Price = (AP - SP) × AQ\nDM Qty = (AQ - SQ) × SP',
    difficulty: 'medium',
    tags: ['variances', 'direct materials'],
  },
  {
    id: 'cma1-b3-018',
    section: 'CMA1',
    type: 'formula',
    topic: 'Variance Analysis',
    subtopic: 'DL Variances',
    blueprintArea: 'CMA1-C',
    front: 'How are direct labor rate and efficiency variances calculated?',
    back: '**Rate Variance:**\n(Actual Rate - Standard Rate) × Actual Hours\n\n**Efficiency Variance:**\n(Actual Hours - Standard Hours Allowed) × Standard Rate\n\n**Total DL Variance:**\n= Rate Variance + Efficiency Variance\n= (Actual DL Cost - Applied DL)',
    formula: 'DL Rate = (AR - SR) × AH\nDL Eff = (AH - SH) × SR',
    difficulty: 'medium',
    tags: ['variances', 'direct labor'],
  },
  {
    id: 'cma1-b3-019',
    section: 'CMA1',
    type: 'formula',
    topic: 'Performance Measures',
    subtopic: 'ROI',
    blueprintArea: 'CMA1-C',
    front: 'What is ROI and its DuPont expansion?',
    back: '**ROI = Operating Income / Average Operating Assets**\n\n**DuPont Breakdown:**\nROI = Profit Margin × Asset Turnover\nROI = (OI/Sales) × (Sales/Assets)\n\n**Improve ROI by:**\n• Increase sales\n• Reduce costs\n• Reduce assets\n• Any combination of above',
    formula: 'ROI = OI/Assets = (OI/Sales) × (Sales/Assets)',
    difficulty: 'medium',
    tags: ['ROI', 'DuPont', 'performance'],
  },
  {
    id: 'cma1-b3-020',
    section: 'CMA1',
    type: 'formula',
    topic: 'Performance Measures',
    subtopic: 'Residual Income',
    blueprintArea: 'CMA1-C',
    front: 'What is Residual Income and why is it better than ROI?',
    back: '**RI = Operating Income - (Assets × Required Rate of Return)**\n\n**Advantages over ROI:**\n• Encourages accepting all projects above cost of capital\n• Avoids underinvestment problem\n• Dollar measure, not percentage\n\n**RI > 0:** Division creates value\n**RI < 0:** Division destroys value',
    formula: 'RI = OI - (Assets × RRR)',
    difficulty: 'medium',
    tags: ['residual income', 'ROI', 'performance'],
  },
  {
    id: 'cma1-b3-021',
    section: 'CMA1',
    type: 'mnemonic',
    topic: 'Balanced Scorecard',
    subtopic: 'Perspectives',
    blueprintArea: 'CMA1-C',
    front: 'What are the 4 Balanced Scorecard perspectives? (FLIC)',
    back: '**F**inancial - How do we look to shareholders?\n\n**L**earning & Growth - Can we continue to improve?\n\n**I**nternal Business Processes - What must we excel at?\n\n**C**ustomer - How do customers see us?\n\n**Cause-Effect Chain:**\nLearning → Internal Processes → Customer → Financial',
    mnemonic: 'FLIC',
    difficulty: 'easy',
    tags: ['BSC', 'balanced scorecard', 'perspectives'],
  },
  {
    id: 'cma1-b3-022',
    section: 'CMA1',
    type: 'formula',
    topic: 'Performance Measures',
    subtopic: 'EVA',
    blueprintArea: 'CMA1-C',
    front: 'What is Economic Value Added (EVA)?',
    back: '**EVA = NOPAT - (Capital × WACC)**\n\nOR\n\n**EVA = (ROIC - WACC) × Capital**\n\nWhere:\n• NOPAT = Net Operating Profit After Taxes\n• Capital = Invested capital\n• WACC = Weighted Average Cost of Capital\n\n**EVA > 0:** Creating shareholder value\n**EVA < 0:** Destroying shareholder value',
    formula: 'EVA = NOPAT - (Capital × WACC)',
    difficulty: 'hard',
    tags: ['EVA', 'economic value added', 'performance'],
  },
  {
    id: 'cma1-b3-023',
    section: 'CMA1',
    type: 'definition',
    topic: 'Transfer Pricing',
    subtopic: 'Methods',
    blueprintArea: 'CMA1-C',
    front: 'What are the main transfer pricing methods?',
    back: '**Market-Based:**\n• Use external market price\n• Best when active market exists\n\n**Cost-Based:**\n• Variable cost\n• Full cost\n• Full cost plus markup\n\n**Negotiated:**\n• Divisions negotiate freely\n• Usually between variable and market\n\n**Dual Pricing:**\n• Different prices for buying/selling divisions',
    difficulty: 'medium',
    tags: ['transfer pricing', 'decentralization'],
  },
  {
    id: 'cma1-b3-024',
    section: 'CMA1',
    type: 'mnemonic',
    topic: 'Quality',
    subtopic: 'Costs of Quality',
    blueprintArea: 'CMA1-C',
    front: 'What are the 4 categories of quality costs? (PAIF)',
    back: '**P**revention - Costs to prevent defects\n(training, quality planning, supplier evaluation)\n\n**A**ppraisal - Costs to detect defects\n(inspection, testing, quality audits)\n\n**I**nternal Failure - Defects caught before delivery\n(scrap, rework, retest)\n\n**F**ailure (External) - Defects reaching customer\n(warranty, returns, lawsuits, lost reputation)',
    mnemonic: 'PAIF',
    difficulty: 'medium',
    tags: ['quality costs', 'COQ', 'TQM'],
  },

  // ============================================
  // D: Cost Management (15%)
  // ============================================
  {
    id: 'cma1-b3-025',
    section: 'CMA1',
    type: 'formula',
    topic: 'Cost Behavior',
    subtopic: 'High-Low Method',
    blueprintArea: 'CMA1-D',
    front: 'How does the high-low method separate mixed costs?',
    back: '**Step 1: Variable Cost/Unit**\n= (High Cost - Low Cost) / (High Activity - Low Activity)\n\n**Step 2: Fixed Cost**\n= Total Cost - (Variable Cost × Activity)\n\n**Cost Formula:**\nY = a + bX (a = Fixed, b = Variable/unit)\n\n**Limitation:** Uses only 2 data points.',
    formula: 'Variable = ΔCost / ΔActivity\nFixed = Total - (Variable × Activity)',
    difficulty: 'medium',
    tags: ['high-low', 'cost behavior', 'mixed costs'],
  },
  {
    id: 'cma1-b3-026',
    section: 'CMA1',
    type: 'comparison',
    topic: 'Costing Methods',
    subtopic: 'Absorption vs Variable',
    blueprintArea: 'CMA1-D',
    front: 'Absorption Costing vs. Variable Costing?',
    back: '**Absorption Costing (GAAP):**\n• Includes fixed MOH in product cost\n• When Production > Sales, higher income\n\n**Variable Costing (DC):**\n• Fixed MOH is period expense\n• When Production > Sales, lower income\n\n**Key:** Difference = Change in inventory × Fixed MOH/unit\n\nIf inventory increases, Absorption > Variable income',
    comparison: {
      itemA: 'Absorption',
      itemB: 'Variable',
      differences: ['Fixed MOH treatment', 'Inventory effect', 'GAAP compliance']
    },
    difficulty: 'hard',
    tags: ['absorption', 'variable costing', 'inventory'],
  },
  {
    id: 'cma1-b3-027',
    section: 'CMA1',
    type: 'definition',
    topic: 'ABC',
    subtopic: 'Concepts',
    blueprintArea: 'CMA1-D',
    front: 'What is Activity-Based Costing (ABC)?',
    back: '**ABC Process:**\n1. Identify activities that consume resources\n2. Assign costs to activity cost pools\n3. Identify cost drivers for each pool\n4. Calculate activity rates\n5. Apply costs using actual driver usage\n\n**Benefits:**\n• More accurate product costs\n• Identifies non-value-added activities\n• Better for diverse product lines',
    difficulty: 'medium',
    tags: ['ABC', 'activity-based costing', 'cost drivers'],
  },
  {
    id: 'cma1-b3-028',
    section: 'CMA1',
    type: 'formula',
    topic: 'Process Costing',
    subtopic: 'Equivalent Units',
    blueprintArea: 'CMA1-D',
    front: 'How are equivalent units calculated under weighted average?',
    back: '**Equivalent Units (Weighted Average):**\n\n= Units Completed & Transferred Out\n+ Ending WIP × % Complete\n\n**Note:** Beginning WIP % complete is NOT subtracted under weighted average.\n\n**FIFO would exclude work done in prior period on beginning WIP.**',
    formula: 'EU = Completed + (Ending WIP × % Complete)',
    difficulty: 'medium',
    tags: ['equivalent units', 'process costing', 'weighted average'],
  },
  {
    id: 'cma1-b3-029',
    section: 'CMA1',
    type: 'definition',
    topic: 'Joint Costing',
    subtopic: 'Allocation Methods',
    blueprintArea: 'CMA1-D',
    front: 'What are the methods for allocating joint costs?',
    back: '**Sales Value at Split-off:**\n• Allocate based on relative sales value when products separate\n\n**Net Realizable Value (NRV):**\n• Final sales value - separable costs\n• Used when no sales value at split-off\n\n**Physical Units Method:**\n• Based on physical measure (weight, volume)\n• Often distorts product costs\n\nJoint costs are irrelevant for further processing decisions.',
    difficulty: 'hard',
    tags: ['joint costs', 'split-off', 'allocation'],
  },
  {
    id: 'cma1-b3-030',
    section: 'CMA1',
    type: 'definition',
    topic: 'Target Costing',
    subtopic: 'Process',
    blueprintArea: 'CMA1-D',
    front: 'How does target costing work?',
    back: '**Target Costing Formula:**\nTarget Cost = Target Price - Target Profit\n\n**Process:**\n1. Determine market-based target price\n2. Subtract required profit margin\n3. Design product to meet target cost\n4. Use value engineering to reduce costs\n\n**Philosophy:** Cost is a goal, not an outcome. Design costs in.',
    formula: 'Target Cost = Target Price - Target Profit',
    difficulty: 'medium',
    tags: ['target costing', 'design', 'value engineering'],
  },
  {
    id: 'cma1-b3-031',
    section: 'CMA1',
    type: 'formula',
    topic: 'EOQ',
    subtopic: 'Economic Order Quantity',
    blueprintArea: 'CMA1-D',
    front: 'What is the Economic Order Quantity (EOQ) formula?',
    back: '**EOQ = √(2DS/H)**\n\nWhere:\n• D = Annual demand\n• S = Ordering cost per order\n• H = Holding cost per unit per year\n\n**At EOQ:**\nTotal Ordering Cost = Total Carrying Cost\n\n**Reorder Point = Lead Time × Daily Demand (+ Safety Stock)**',
    formula: 'EOQ = √(2DS/H)',
    difficulty: 'medium',
    tags: ['EOQ', 'inventory', 'ordering'],
  },
  {
    id: 'cma1-b3-032',
    section: 'CMA1',
    type: 'definition',
    topic: 'TOC',
    subtopic: 'Theory of Constraints',
    blueprintArea: 'CMA1-D',
    front: 'What is Theory of Constraints (TOC)?',
    back: '**5 Steps:**\n1. **Identify** the constraint (bottleneck)\n2. **Exploit** - Maximize constraint output\n3. **Subordinate** - Align other processes\n4. **Elevate** - Add capacity to constraint\n5. **Repeat** - Find next constraint\n\n**Throughput = Sales - Totally Variable Costs**\n\nFocus on contribution per constraint unit.',
    difficulty: 'medium',
    tags: ['TOC', 'constraint', 'bottleneck', 'throughput'],
  },

  // ============================================
  // E: Internal Controls (15%)
  // ============================================
  {
    id: 'cma1-b3-033',
    section: 'CMA1',
    type: 'mnemonic',
    topic: 'COSO',
    subtopic: 'Components',
    blueprintArea: 'CMA1-E',
    front: 'What are the 5 COSO Internal Control components? (CRIME)',
    back: '**C**ontrol Environment - Foundation, tone at top\n\n**R**isk Assessment - Identify and analyze risks\n\n**I**nformation & Communication - Quality info flow\n\n**M**onitoring - Ongoing and separate evaluations\n\n**E**xisting Control Activities - Policies and procedures\n\n(Control Activities includes authorization, segregation, safeguards)',
    mnemonic: 'CRIME',
    difficulty: 'easy',
    tags: ['COSO', 'internal control', 'components'],
  },
  {
    id: 'cma1-b3-034',
    section: 'CMA1',
    type: 'mnemonic',
    topic: 'Segregation of Duties',
    subtopic: 'Functions',
    blueprintArea: 'CMA1-E',
    front: 'What functions should be segregated? (ARCA)',
    back: '**A**uthorization - Approve transactions\n\n**R**ecordkeeping - Maintain records\n\n**C**ustody - Control/access to assets\n\n**A**sset Reconciliation - Periodic verification\n\n**Key Principle:** No one person should control two or more of these functions for the same asset/transaction.',
    mnemonic: 'ARCA',
    difficulty: 'easy',
    tags: ['segregation of duties', 'internal control'],
  },
  {
    id: 'cma1-b3-035',
    section: 'CMA1',
    type: 'mnemonic',
    topic: 'Fraud',
    subtopic: 'Fraud Triangle',
    blueprintArea: 'CMA1-E',
    front: 'What are the elements of the Fraud Triangle? (PRO)',
    back: '**P**ressure (Incentive/Motivation)\n- Financial problems, targets, bonuses\n\n**R**ationalization (Attitude)\n- Justifying behavior ("I deserve this")\n\n**O**pportunity\n- Weak controls, lack of oversight\n\n**All three must be present for fraud.**\n\nControls mainly address opportunity.',
    mnemonic: 'PRO',
    difficulty: 'easy',
    tags: ['fraud', 'fraud triangle', 'Cressey'],
  },
  {
    id: 'cma1-b3-036',
    section: 'CMA1',
    type: 'comparison',
    topic: 'Controls',
    subtopic: 'Preventive vs Detective',
    blueprintArea: 'CMA1-E',
    front: 'Preventive vs. Detective vs. Corrective Controls?',
    back: '**Preventive:**\n• Stop errors before they occur\n• Examples: Segregation of duties, passwords, approval limits\n\n**Detective:**\n• Identify errors after they occur\n• Examples: Reconciliations, audits, exception reports\n\n**Corrective:**\n• Fix issues after detection\n• Examples: Backup restoration, error correction procedures',
    comparison: {
      itemA: 'Preventive',
      itemB: 'Detective/Corrective',
      differences: ['Timing', 'Purpose', 'Examples']
    },
    difficulty: 'medium',
    tags: ['controls', 'preventive', 'detective'],
  },
  {
    id: 'cma1-b3-037',
    section: 'CMA1',
    type: 'definition',
    topic: 'SOX',
    subtopic: 'Section 404',
    blueprintArea: 'CMA1-E',
    front: 'What does SOX Section 404 require?',
    back: '**Management Responsibilities:**\n• Assess effectiveness of internal control over financial reporting (ICFR)\n• Include assessment in annual report\n\n**Auditor Responsibilities:**\n• Attest to and report on management\'s assessment\n• Issue opinion on ICFR effectiveness\n\n**Material Weakness:** Reasonable possibility material misstatement won\'t be prevented/detected.',
    difficulty: 'hard',
    tags: ['SOX', 'Section 404', 'ICFR'],
    reference: 'SOX Section 404',
  },
  {
    id: 'cma1-b3-038',
    section: 'CMA1',
    type: 'definition',
    topic: 'IT Controls',
    subtopic: 'General vs Application',
    blueprintArea: 'CMA1-E',
    front: 'General IT Controls vs. Application Controls?',
    back: '**General IT Controls (ITGCs):**\n• Access security\n• Change management\n• Operations management\n• Disaster recovery\n• Apply across all applications\n\n**Application Controls:**\n• Input controls (validation)\n• Processing controls (calculations)\n• Output controls (distribution)\n• Specific to each application',
    difficulty: 'medium',
    tags: ['IT controls', 'ITGC', 'application controls'],
  },
  {
    id: 'cma1-b3-039',
    section: 'CMA1',
    type: 'definition',
    topic: 'Risk Management',
    subtopic: 'COSO ERM',
    blueprintArea: 'CMA1-E',
    front: 'What are the components of COSO ERM?',
    back: '**8 Components (2004) / 5 Components (2017):**\n\n2017 Framework:\n1. Governance & Culture\n2. Strategy & Objective-Setting\n3. Performance (Risk identification/assessment)\n4. Review & Revision\n5. Information, Communication & Reporting\n\n**Key concept:** Risk management is integrated with strategy and performance.',
    difficulty: 'hard',
    tags: ['ERM', 'COSO', 'risk management'],
  },
  {
    id: 'cma1-b3-040',
    section: 'CMA1',
    type: 'definition',
    topic: 'Internal Audit',
    subtopic: 'Role',
    blueprintArea: 'CMA1-E',
    front: 'What is the role of Internal Audit?',
    back: '**Definition:** Independent, objective assurance and consulting activity.\n\n**Functions:**\n• Evaluate governance, risk management, controls\n• Add value by improving operations\n• Provide assurance to management/board\n\n**Reporting:**\n• Functionally to Audit Committee\n• Administratively to senior management\n\n**Standards:** IIA International Standards',
    difficulty: 'medium',
    tags: ['internal audit', 'IIA', 'governance'],
  },

  // ============================================
  // F: Technology and Analytics (15%)
  // ============================================
  {
    id: 'cma1-b3-041',
    section: 'CMA1',
    type: 'definition',
    topic: 'Data Analytics',
    subtopic: 'Types',
    blueprintArea: 'CMA1-F',
    front: 'What are the four types of analytics?',
    back: '**Descriptive:** What happened?\n(Reports, dashboards, KPIs)\n\n**Diagnostic:** Why did it happen?\n(Root cause analysis, drill-down)\n\n**Predictive:** What will happen?\n(Forecasting, regression, ML models)\n\n**Prescriptive:** What should we do?\n(Optimization, simulation, decision support)',
    difficulty: 'medium',
    tags: ['analytics', 'descriptive', 'predictive', 'prescriptive'],
  },
  {
    id: 'cma1-b3-042',
    section: 'CMA1',
    type: 'definition',
    topic: 'ERP',
    subtopic: 'Benefits',
    blueprintArea: 'CMA1-F',
    front: 'What are the benefits of Enterprise Resource Planning (ERP)?',
    back: '**Integration Benefits:**\n• Single source of truth\n• Real-time data across functions\n• Eliminates data silos\n• Standardized processes\n\n**Operational Benefits:**\n• Improved efficiency\n• Better decision-making\n• Enhanced reporting\n• Reduced manual work\n\n**Examples:** SAP, Oracle, Microsoft Dynamics',
    difficulty: 'easy',
    tags: ['ERP', 'integration', 'enterprise systems'],
  },
  {
    id: 'cma1-b3-043',
    section: 'CMA1',
    type: 'definition',
    topic: 'RPA',
    subtopic: 'Applications',
    blueprintArea: 'CMA1-F',
    front: 'What is Robotic Process Automation (RPA)?',
    back: '**RPA:** Software robots automating repetitive, rule-based tasks.\n\n**Best suited for:**\n• High volume, routine tasks\n• Stable, rule-based processes\n• Structured data\n• Multiple system interactions\n\n**Accounting examples:**\n• Invoice processing\n• Reconciliations\n• Report generation\n• Data entry',
    difficulty: 'easy',
    tags: ['RPA', 'automation', 'robots'],
  },
  {
    id: 'cma1-b3-044',
    section: 'CMA1',
    type: 'definition',
    topic: 'AI/ML',
    subtopic: 'Applications',
    blueprintArea: 'CMA1-F',
    front: 'How is Machine Learning used in accounting/finance?',
    back: '**Fraud Detection:**\n• Pattern recognition in transactions\n• Anomaly detection\n\n**Forecasting:**\n• Demand prediction\n• Cash flow forecasting\n\n**Document Processing:**\n• Invoice OCR and extraction\n• Contract analysis (NLP)\n\n**Audit:**\n• 100% population testing\n• Risk scoring',
    difficulty: 'medium',
    tags: ['AI', 'machine learning', 'fraud detection'],
  },
  {
    id: 'cma1-b3-045',
    section: 'CMA1',
    type: 'definition',
    topic: 'Cybersecurity',
    subtopic: 'Threats',
    blueprintArea: 'CMA1-F',
    front: 'What are common cybersecurity threats?',
    back: '**Malware:** Viruses, ransomware, spyware\n\n**Phishing:** Deceptive emails/websites to steal credentials\n\n**Social Engineering:** Manipulating people to reveal info\n\n**DDoS:** Overwhelming systems with traffic\n\n**Insider Threats:** Employees/contractors misusing access\n\n**Controls:** MFA, encryption, training, monitoring, patches',
    difficulty: 'medium',
    tags: ['cybersecurity', 'threats', 'phishing', 'malware'],
  },
  {
    id: 'cma1-b3-046',
    section: 'CMA1',
    type: 'definition',
    topic: 'Cloud Computing',
    subtopic: 'Service Models',
    blueprintArea: 'CMA1-F',
    front: 'What are the cloud service models (IaaS, PaaS, SaaS)?',
    back: '**IaaS (Infrastructure):**\n• Virtual servers, storage, networking\n• You manage: OS, apps, data\n• Example: AWS EC2\n\n**PaaS (Platform):**\n• Development platform\n• You manage: Apps, data\n• Example: Heroku\n\n**SaaS (Software):**\n• Complete application\n• You manage: Just data/config\n• Example: Salesforce, Office 365',
    difficulty: 'medium',
    tags: ['cloud', 'IaaS', 'PaaS', 'SaaS'],
  },
  {
    id: 'cma1-b3-047',
    section: 'CMA1',
    type: 'definition',
    topic: 'Blockchain',
    subtopic: 'Characteristics',
    blueprintArea: 'CMA1-F',
    front: 'What are the key characteristics of blockchain?',
    back: '**Distributed:** No central authority, many copies\n\n**Immutable:** Records cannot be changed\n\n**Transparent:** All participants can view\n\n**Consensus:** Participants validate transactions\n\n**Cryptographic:** Secured by encryption\n\n**Accounting uses:** Supply chain tracking, smart contracts, audit trails',
    difficulty: 'medium',
    tags: ['blockchain', 'distributed ledger', 'immutable'],
  },
  {
    id: 'cma1-b3-048',
    section: 'CMA1',
    type: 'definition',
    topic: 'Data Governance',
    subtopic: 'Quality Dimensions',
    blueprintArea: 'CMA1-F',
    front: 'What are the dimensions of data quality?',
    back: '**ACCURATE:** Free from errors\n\n**COMPLETE:** All required data present\n\n**CONSISTENT:** Same across systems\n\n**TIMELY:** Available when needed\n\n**VALID:** Conforms to defined rules\n\n**UNIQUE:** No inappropriate duplicates\n\n**ACCESSIBLE:** Authorized users can access',
    difficulty: 'easy',
    tags: ['data quality', 'data governance'],
  },

  // ============================================
  // Additional Mixed Cards
  // ============================================
  {
    id: 'cma1-b3-049',
    section: 'CMA1',
    type: 'formula',
    topic: 'Variance Analysis',
    subtopic: 'VOH Variances',
    blueprintArea: 'CMA1-C',
    front: 'How are variable overhead variances calculated?',
    back: '**Spending Variance:**\n= Actual VOH - (Actual Hours × Standard Rate)\n\n**Efficiency Variance:**\n= (Actual Hours - Standard Hours) × Standard Rate\n\n**Note:** VOH efficiency is driven by base hours (DL hours). If labor is inefficient, VOH is also inefficient.',
    formula: 'VOH Spending = Actual VOH - (AH × SR)\nVOH Efficiency = (AH - SH) × SR',
    difficulty: 'hard',
    tags: ['variances', 'variable overhead'],
  },
  {
    id: 'cma1-b3-050',
    section: 'CMA1',
    type: 'formula',
    topic: 'Variance Analysis',
    subtopic: 'FOH Variances',
    blueprintArea: 'CMA1-C',
    front: 'How are fixed overhead variances calculated?',
    back: '**Budget (Spending) Variance:**\n= Actual FOH - Budgeted FOH\n\n**Volume Variance:**\n= Budgeted FOH - Applied FOH\n= (Budget Hours - Std Hours Allowed) × Rate\n\n**Volume variance reflects capacity utilization—favorable when production exceeds normal capacity.**',
    formula: 'FOH Budget = Actual - Budgeted\nFOH Volume = Budgeted - Applied',
    difficulty: 'hard',
    tags: ['variances', 'fixed overhead', 'volume'],
  },
  {
    id: 'cma1-b3-051',
    section: 'CMA1',
    type: 'formula',
    topic: 'Cost Behavior',
    subtopic: 'Contribution Margin',
    blueprintArea: 'CMA1-D',
    front: 'What is contribution margin and how is it used?',
    back: '**CM per Unit = Selling Price - Variable Cost per Unit**\n\n**CM Ratio = CM / Sales**\n\n**Uses:**\n• Break-even = Fixed Costs / CM per Unit\n• Target profit = (FC + Profit) / CM per Unit\n• Operating leverage = CM / Operating Income\n\n**Higher CM = More leverage, more risk/reward**',
    formula: 'CM = Sales - Variable Costs\nBE = Fixed Costs / CM per Unit',
    difficulty: 'medium',
    tags: ['contribution margin', 'break-even', 'CVP'],
  },
  {
    id: 'cma1-b3-052',
    section: 'CMA1',
    type: 'definition',
    topic: 'Kaizen Costing',
    subtopic: 'Philosophy',
    blueprintArea: 'CMA1-D',
    front: 'What is Kaizen costing?',
    back: '**Kaizen = Continuous improvement**\n\n**Application to costing:**\n• Set cost reduction targets for production phase\n• Small, incremental improvements\n• Employee involvement at all levels\n• Focus on process improvement\n\n**Difference from Target Costing:**\nTarget = Design phase\nKaizen = Production phase',
    difficulty: 'medium',
    tags: ['kaizen', 'continuous improvement', 'lean'],
  },
  {
    id: 'cma1-b3-053',
    section: 'CMA1',
    type: 'concept',
    topic: 'Strategic Planning',
    subtopic: 'SWOT Analysis',
    blueprintArea: 'CMA1-B',
    front: 'What is SWOT analysis?',
    back: '**Internal Factors:**\n• **S**trengths - Internal advantages\n• **W**eaknesses - Internal disadvantages\n\n**External Factors:**\n• **O**pportunities - External favorable trends\n• **T**hreats - External unfavorable trends\n\n**Strategic actions:**\nLeverage strengths to capture opportunities\nAddress weaknesses and mitigate threats',
    difficulty: 'easy',
    tags: ['SWOT', 'strategic planning', 'analysis'],
  },
  {
    id: 'cma1-b3-054',
    section: 'CMA1',
    type: 'formula',
    topic: 'Capital Budgeting',
    subtopic: 'NPV',
    blueprintArea: 'CMA1-B',
    front: 'How is Net Present Value (NPV) calculated?',
    back: '**NPV = Σ [CFt / (1+r)^t] - Initial Investment**\n\nWhere:\n• CF = Cash flow in period t\n• r = Discount rate (WACC)\n• t = Time period\n\n**Decision Rule:**\nNPV > 0: Accept (value added)\nNPV < 0: Reject (value destroyed)\nNPV = 0: Indifferent',
    formula: 'NPV = Σ PV(Cash Flows) - Initial Investment',
    difficulty: 'medium',
    tags: ['NPV', 'capital budgeting', 'DCF'],
  },
  {
    id: 'cma1-b3-055',
    section: 'CMA1',
    type: 'definition',
    topic: 'Life Cycle',
    subtopic: 'Stages',
    blueprintArea: 'CMA1-D',
    front: 'What are the product life cycle stages?',
    back: '**Introduction:**\n• Low sales, high costs, losses\n• Build awareness\n\n**Growth:**\n• Rapid sales growth, profits improve\n• Competition enters\n\n**Maturity:**\n• Sales peak, profits stable\n• Price competition\n\n**Decline:**\n• Sales fall, profits drop\n• Harvest or divest decisions',
    difficulty: 'easy',
    tags: ['product life cycle', 'stages'],
  },
  {
    id: 'cma1-b3-056',
    section: 'CMA1',
    type: 'formula',
    topic: 'Forecasting',
    subtopic: 'Moving Average',
    blueprintArea: 'CMA1-B',
    front: 'How does moving average forecasting work?',
    back: '**Simple Moving Average:**\nForecast = Sum of n most recent periods / n\n\n**Example (3-month MA):**\nMonths: 100, 110, 120\nForecast = (100+110+120) / 3 = 110\n\n**Characteristics:**\n• Smooths fluctuations\n• Lags behind trends\n• More periods = more smoothing',
    formula: 'MA = Σ(Last n periods) / n',
    difficulty: 'easy',
    tags: ['moving average', 'forecasting', 'time series'],
  },
  {
    id: 'cma1-b3-057',
    section: 'CMA1',
    type: 'definition',
    topic: 'Responsibility Centers',
    subtopic: 'Types',
    blueprintArea: 'CMA1-C',
    front: 'What are the four types of responsibility centers?',
    back: '**Cost Center:**\n• Accountable for costs only\n• Example: Production department\n\n**Revenue Center:**\n• Accountable for revenue only\n• Example: Sales office\n\n**Profit Center:**\n• Accountable for revenue and costs\n• Example: Product line\n\n**Investment Center:**\n• Revenue, costs, and investment\n• Example: Division',
    difficulty: 'easy',
    tags: ['responsibility centers', 'decentralization'],
  },
  {
    id: 'cma1-b3-058',
    section: 'CMA1',
    type: 'definition',
    topic: 'Data Visualization',
    subtopic: 'Best Practices',
    blueprintArea: 'CMA1-F',
    front: 'What are best practices for data visualization?',
    back: '**Chart Selection:**\n• Bar: Comparisons\n• Line: Trends over time\n• Pie: Parts of whole (limit slices)\n• Scatter: Relationships\n\n**Best Practices:**\n• Clear labels and titles\n• Appropriate scale\n• Avoid 3D (distorts)\n• Highlight key insights\n• Minimize clutter',
    difficulty: 'easy',
    tags: ['visualization', 'charts', 'dashboards'],
  },
  {
    id: 'cma1-b3-059',
    section: 'CMA1',
    type: 'definition',
    topic: 'Six Sigma',
    subtopic: 'DMAIC',
    blueprintArea: 'CMA1-C',
    front: 'What is the Six Sigma DMAIC process?',
    back: '**D**efine - Problem statement, goals, scope\n\n**M**easure - Current process data\n\n**A**nalyze - Root cause identification\n\n**I**mprove - Develop and implement solutions\n\n**C**ontrol - Monitor and sustain improvements\n\n**Goal:** 3.4 defects per million opportunities',
    mnemonic: 'DMAIC',
    difficulty: 'medium',
    tags: ['Six Sigma', 'DMAIC', 'quality'],
  },
  {
    id: 'cma1-b3-060',
    section: 'CMA1',
    type: 'formula',
    topic: 'Capital Budgeting',
    subtopic: 'Payback Period',
    blueprintArea: 'CMA1-B',
    front: 'How is payback period calculated?',
    back: '**Even Cash Flows:**\nPayback = Initial Investment / Annual Cash Flow\n\n**Uneven Cash Flows:**\nPayback = Years + (Unrecovered / Next Year CF)\n\n**Limitations:**\n• Ignores time value of money\n• Ignores cash flows after payback\n\n**Discounted payback** uses PV of cash flows.',
    formula: 'Payback = Investment / Annual CF',
    difficulty: 'easy',
    tags: ['payback', 'capital budgeting'],
  },
  {
    id: 'cma1-b3-061',
    section: 'CMA1',
    type: 'comparison',
    topic: 'Costing',
    subtopic: 'Job vs Process',
    blueprintArea: 'CMA1-D',
    front: 'Job Order Costing vs. Process Costing?',
    back: '**Job Order Costing:**\n• Unique, customized products\n• Costs traced to specific jobs\n• Examples: Custom furniture, legal services\n\n**Process Costing:**\n• Homogeneous, mass production\n• Costs averaged over units\n• Uses equivalent units\n• Examples: Oil refining, chemicals',
    comparison: {
      itemA: 'Job Order',
      itemB: 'Process',
      differences: ['Product type', 'Cost accumulation', 'Examples']
    },
    difficulty: 'medium',
    tags: ['job costing', 'process costing'],
  },
  {
    id: 'cma1-b3-062',
    section: 'CMA1',
    type: 'definition',
    topic: 'Service Department',
    subtopic: 'Allocation Methods',
    blueprintArea: 'CMA1-D',
    front: 'What are the service department cost allocation methods?',
    back: '**Direct Method:**\n• Allocate only to operating departments\n• Ignores inter-service dept usage\n\n**Step-Down Method:**\n• Allocate in sequence\n• Once allocated, no further allocation back\n\n**Reciprocal Method:**\n• Recognizes all inter-service exchanges\n• Uses simultaneous equations\n• Most accurate but complex',
    difficulty: 'hard',
    tags: ['service departments', 'allocation', 'reciprocal'],
  },
  {
    id: 'cma1-b3-063',
    section: 'CMA1',
    type: 'definition',
    topic: 'Lean Manufacturing',
    subtopic: 'Wastes',
    blueprintArea: 'CMA1-D',
    front: 'What are the 7 wastes in Lean manufacturing?',
    back: '**T**ransportation - Unnecessary movement of materials\n**I**nventory - Excess stock\n**M**otion - Unnecessary worker movement\n**W**aiting - Idle time\n**O**verproduction - Making more than needed\n**O**verprocessing - Beyond customer requirements\n**D**efects - Errors requiring rework\n\n**Mnemonic: TIM WOOD**',
    mnemonic: 'TIM WOOD',
    difficulty: 'medium',
    tags: ['lean', 'waste', 'TIM WOOD'],
  },
  {
    id: 'cma1-b3-064',
    section: 'CMA1',
    type: 'formula',
    topic: 'Profitability',
    subtopic: 'Margin of Safety',
    blueprintArea: 'CMA1-C',
    front: 'What is Margin of Safety?',
    back: '**Margin of Safety:**\n= Current Sales - Break-even Sales\n\n**Margin of Safety %:**\n= MOS / Current Sales\n\n**Interpretation:**\nHow much sales can drop before loss occurs.\n\nHigher MOS = Lower risk\n\n**Example:** Sales $500K, BE $400K\nMOS = $100K or 20%',
    formula: 'MOS = Sales - Break-even\nMOS% = MOS / Sales',
    difficulty: 'easy',
    tags: ['margin of safety', 'CVP', 'risk'],
  },
  {
    id: 'cma1-b3-065',
    section: 'CMA1',
    type: 'definition',
    topic: 'Big Data',
    subtopic: 'Characteristics',
    blueprintArea: 'CMA1-F',
    front: 'What are the characteristics of Big Data (5 Vs)?',
    back: '**V**olume - Massive amounts of data\n\n**V**elocity - Speed of data creation\n\n**V**ariety - Different types (structured, unstructured)\n\n**V**eracity - Data quality/reliability\n\n**V**alue - Insights extracted from data\n\n**Challenge:** Traditional tools can\'t handle these dimensions effectively.',
    mnemonic: '5 Vs',
    difficulty: 'easy',
    tags: ['big data', '5 Vs', 'analytics'],
  },
  {
    id: 'cma1-b3-066',
    section: 'CMA1',
    type: 'comparison',
    topic: 'Standards',
    subtopic: 'Types',
    blueprintArea: 'CMA1-C',
    front: 'Ideal Standards vs. Practical Standards?',
    back: '**Ideal (Theoretical) Standards:**\n• Perfect efficiency assumed\n• No spoilage, waste, or downtime\n• Rarely achievable\n• Can demotivate employees\n\n**Practical (Attainable) Standards:**\n• Allow for normal inefficiency\n• Challenging but achievable\n• More motivating\n• Better for planning',
    comparison: {
      itemA: 'Ideal',
      itemB: 'Practical',
      differences: ['Assumptions', 'Achievability', 'Motivation effect']
    },
    difficulty: 'medium',
    tags: ['standards', 'ideal', 'practical'],
  },
  {
    id: 'cma1-b3-067',
    section: 'CMA1',
    type: 'formula',
    topic: 'Capital Budgeting',
    subtopic: 'IRR',
    blueprintArea: 'CMA1-B',
    front: 'What is Internal Rate of Return (IRR)?',
    back: '**IRR = Discount rate where NPV = 0**\n\n**Decision Rule:**\nIRR > Required Return: Accept\nIRR < Required Return: Reject\n\n**Limitations:**\n• Assumes reinvestment at IRR\n• Multiple IRRs with non-normal cash flows\n• Can conflict with NPV for mutually exclusive projects',
    formula: '0 = Σ [CFt / (1+IRR)^t] - Initial Investment',
    difficulty: 'medium',
    tags: ['IRR', 'capital budgeting'],
  },
  {
    id: 'cma1-b3-068',
    section: 'CMA1',
    type: 'definition',
    topic: 'Flexible Budget',
    subtopic: 'Concept',
    blueprintArea: 'CMA1-B',
    front: 'What is a flexible budget?',
    back: '**Flexible Budget:**\nAdjusts for actual activity level\n\n**Formula:**\nFlexible Budget = (Variable Cost/Unit × Actual Units) + Fixed Costs\n\n**Benefits:**\n• Fair performance evaluation\n• Separates volume from efficiency variances\n• More meaningful than static budget comparison\n\n**Static budget:** Based on planned activity only',
    difficulty: 'medium',
    tags: ['flexible budget', 'variance analysis'],
  },
  {
    id: 'cma1-b3-069',
    section: 'CMA1',
    type: 'formula',
    topic: 'Forecasting',
    subtopic: 'Linear Regression',
    blueprintArea: 'CMA1-B',
    front: 'What is the linear regression equation?',
    back: '**Y = a + bX**\n\nWhere:\n• Y = Dependent variable (predicted)\n• a = Y-intercept (fixed element)\n• b = Slope (variable element)\n• X = Independent variable\n\n**In cost analysis:**\nY = Total Cost\na = Fixed Cost\nb = Variable Cost per Unit\nX = Activity Level',
    formula: 'Y = a + bX',
    difficulty: 'easy',
    tags: ['regression', 'forecasting', 'cost estimation'],
  },
  {
    id: 'cma1-b3-070',
    section: 'CMA1',
    type: 'concept',
    topic: 'Rolling Forecast',
    subtopic: 'Benefits',
    blueprintArea: 'CMA1-B',
    front: 'What is a rolling forecast?',
    back: '**Rolling Forecast:**\nContinuously updated forecast that extends into the future as each period ends.\n\n**Benefits:**\n• Always looking ahead same timeframe\n• Incorporates latest information\n• More responsive than annual budget\n• Reduces gaming behavior\n\n**Example:** 12-month rolling: add new month, drop oldest',
    difficulty: 'medium',
    tags: ['rolling forecast', 'planning', 'agile'],
  },
  {
    id: 'cma1-b3-071',
    section: 'CMA1',
    type: 'mnemonic',
    topic: 'Ratio Analysis',
    subtopic: 'Categories',
    blueprintArea: 'CMA1-A',
    front: 'What are the main categories of financial ratios? (LEAPS)',
    back: '**L**iquidity - Short-term ability to pay (Current, Quick)\n\n**E**fficiency/Activity - Asset utilization (Turnover ratios)\n\n**A**ctivity - Overlap with efficiency\n\n**P**rofitability - Earning ability (Margin, ROA, ROE)\n\n**S**olvency/Leverage - Long-term debt capacity (D/E, TIE)',
    mnemonic: 'LEAPS',
    difficulty: 'easy',
    tags: ['ratios', 'financial analysis'],
  },
  {
    id: 'cma1-b3-072',
    section: 'CMA1',
    type: 'definition',
    topic: 'Benchmarking',
    subtopic: 'Types',
    blueprintArea: 'CMA1-C',
    front: 'What are the types of benchmarking?',
    back: '**Internal Benchmarking:**\n• Compare within organization\n• Divisions, locations, time periods\n\n**Competitive Benchmarking:**\n• Compare to direct competitors\n\n**Functional (Industry) Benchmarking:**\n• Compare similar functions across industries\n\n**Best-in-Class (Generic):**\n• Compare to best performers regardless of industry',
    difficulty: 'medium',
    tags: ['benchmarking', 'performance', 'best practices'],
  },
  {
    id: 'cma1-b3-073',
    section: 'CMA1',
    type: 'definition',
    topic: 'Cost Drivers',
    subtopic: 'Hierarchy',
    blueprintArea: 'CMA1-D',
    front: 'What is the ABC cost hierarchy?',
    back: '**Unit-level:** Per unit produced\n(Direct materials, direct labor)\n\n**Batch-level:** Per batch produced\n(Machine setups, inspections)\n\n**Product-level:** Per product line\n(Product design, advertising)\n\n**Facility-level:** Overall capacity\n(Rent, plant security)\n\n**Key:** Match costs to appropriate level for accurate allocation.',
    difficulty: 'medium',
    tags: ['ABC', 'cost hierarchy', 'drivers'],
  },
  {
    id: 'cma1-b3-074',
    section: 'CMA1',
    type: 'definition',
    topic: 'Value Engineering',
    subtopic: 'Concept',
    blueprintArea: 'CMA1-D',
    front: 'What is value engineering?',
    back: '**Value Engineering:**\nSystematic review to achieve function at lowest cost while maintaining quality.\n\n**Formula:**\nValue = Function / Cost\n\n**Techniques:**\n• Eliminate non-value-added features\n• Substitute cheaper materials\n• Simplify design\n• Reduce parts count\n\n**Used in:** Target costing process',
    difficulty: 'medium',
    tags: ['value engineering', 'design', 'cost reduction'],
  },
  {
    id: 'cma1-b3-075',
    section: 'CMA1',
    type: 'comparison',
    topic: 'Audit',
    subtopic: 'Internal vs External',
    blueprintArea: 'CMA1-E',
    front: 'Internal Audit vs. External Audit?',
    back: '**Internal Audit:**\n• Employees of company\n• Broad scope (operations, compliance, finance)\n• Reports to audit committee/management\n• Continuous throughout year\n\n**External Audit:**\n• Independent CPA firm\n• Financial statement focus\n• Reports to shareholders\n• Annual, point-in-time',
    comparison: {
      itemA: 'Internal',
      itemB: 'External',
      differences: ['Employment', 'Scope', 'Reporting', 'Timing']
    },
    difficulty: 'easy',
    tags: ['audit', 'internal', 'external'],
  },
  {
    id: 'cma1-b3-076',
    section: 'CMA1',
    type: 'definition',
    topic: 'Data Analytics',
    subtopic: 'ETL Process',
    blueprintArea: 'CMA1-F',
    front: 'What is the ETL process in data analytics?',
    back: '**E**xtract - Pull data from source systems\n\n**T**ransform - Clean, format, standardize data\n(Handle missing values, convert formats, validate)\n\n**L**oad - Store in target database/warehouse\n\n**Purpose:** Prepare data from multiple sources for analysis and reporting.',
    mnemonic: 'ETL',
    difficulty: 'medium',
    tags: ['ETL', 'data', 'analytics'],
  },
  {
    id: 'cma1-b3-077',
    section: 'CMA1',
    type: 'formula',
    topic: 'Sales Mix',
    subtopic: 'Break-even',
    blueprintArea: 'CMA1-C',
    front: 'How is multi-product break-even calculated?',
    back: '**Steps:**\n1. Calculate weighted average CM per unit\n   WACM = Σ(CM × Mix %)\n\n2. Break-even units = Fixed Costs / WACM\n\n3. Allocate units by mix percentage\n\n**Alternative:**\nBreak-even $ = Fixed Costs / Weighted Avg CM Ratio',
    formula: 'BE = FC / WACM',
    difficulty: 'hard',
    tags: ['break-even', 'sales mix', 'multi-product'],
  },
  {
    id: 'cma1-b3-078',
    section: 'CMA1',
    type: 'definition',
    topic: 'JIT',
    subtopic: 'Principles',
    blueprintArea: 'CMA1-D',
    front: 'What are the key principles of Just-in-Time (JIT)?',
    back: '**Principles:**\n• Produce only what\'s needed, when needed\n• Zero inventory goal\n• Eliminate waste (muda)\n• Continuous improvement (kaizen)\n• Quality at the source\n• Pull system (demand-driven)\n\n**Requirements:**\n• Reliable suppliers\n• Stable demand\n• Flexible production',
    difficulty: 'medium',
    tags: ['JIT', 'just-in-time', 'lean', 'inventory'],
  },
  {
    id: 'cma1-b3-079',
    section: 'CMA1',
    type: 'formula',
    topic: 'Profitability',
    subtopic: 'Operating Leverage',
    blueprintArea: 'CMA1-C',
    front: 'What is the degree of operating leverage?',
    back: '**DOL = Contribution Margin / Operating Income**\n\nOR\n\n**DOL = % Change in OI / % Change in Sales**\n\n**Interpretation:**\nDOL of 3 means 10% sales increase → 30% OI increase\n\n**Higher DOL = Higher fixed costs = Higher risk & reward**',
    formula: 'DOL = CM / OI',
    difficulty: 'medium',
    tags: ['operating leverage', 'risk', 'DOL'],
  },
  {
    id: 'cma1-b3-080',
    section: 'CMA1',
    type: 'concept',
    topic: 'Strategy',
    subtopic: 'BCG Matrix',
    blueprintArea: 'CMA1-B',
    front: 'What is the BCG Growth-Share Matrix?',
    back: '**Quadrants (based on market growth & share):**\n\n**Stars** (High growth, High share)\n• Invest to maintain position\n\n**Cash Cows** (Low growth, High share)\n• Generate cash, minimal investment\n\n**Question Marks** (High growth, Low share)\n• Invest or divest decisions\n\n**Dogs** (Low growth, Low share)\n• Divest or harvest',
    difficulty: 'medium',
    tags: ['BCG', 'portfolio', 'strategy'],
  },
  {
    id: 'cma1-b3-081',
    section: 'CMA1',
    type: 'definition',
    topic: 'Privacy',
    subtopic: 'Data Protection',
    blueprintArea: 'CMA1-F',
    front: 'What are key data privacy principles?',
    back: '**Key Principles:**\n• **Purpose limitation** - Collect only for specified purpose\n• **Minimization** - Collect only needed data\n• **Accuracy** - Keep data current\n• **Retention limits** - Delete when no longer needed\n• **Consent** - Obtain proper authorization\n• **Security** - Protect from unauthorized access\n\n**Regulations:** GDPR, CCPA',
    difficulty: 'medium',
    tags: ['privacy', 'GDPR', 'data protection'],
  },
  {
    id: 'cma1-b3-082',
    section: 'CMA1',
    type: 'formula',
    topic: 'Cash Flow',
    subtopic: 'Indirect Method',
    blueprintArea: 'CMA1-A',
    front: 'How is operating cash flow calculated using indirect method?',
    back: '**Start:** Net Income\n\n**Add back:** Non-cash expenses\n(Depreciation, amortization)\n\n**Adjust for:** Working capital changes\n- Increase in CA → Subtract\n- Decrease in CA → Add\n- Increase in CL → Add\n- Decrease in CL → Subtract\n\n**= Operating Cash Flow**',
    formula: 'OCF = NI + Non-cash ± ΔWC',
    difficulty: 'medium',
    tags: ['cash flow', 'indirect method', 'operations'],
  },
  {
    id: 'cma1-b3-083',
    section: 'CMA1',
    type: 'definition',
    topic: 'Backflush Costing',
    subtopic: 'JIT Environment',
    blueprintArea: 'CMA1-D',
    front: 'What is backflush costing?',
    back: '**Backflush Costing:**\nSimplified costing that delays recording until goods are completed or sold.\n\n**Used in JIT environments where:**\n• Minimal WIP inventory\n• Short production cycles\n• Immediate tracking not necessary\n\n**Process:**\nCosts "flushed back" from finished goods to raw materials at completion.',
    difficulty: 'hard',
    tags: ['backflush', 'JIT', 'costing'],
  },
  {
    id: 'cma1-b3-084',
    section: 'CMA1',
    type: 'definition',
    topic: 'Spoilage',
    subtopic: 'Normal vs Abnormal',
    blueprintArea: 'CMA1-D',
    front: 'How is normal vs. abnormal spoilage treated?',
    back: '**Normal Spoilage:**\n• Expected, inherent to production\n• Included in product cost\n• Passed to good units\n\n**Abnormal Spoilage:**\n• Unexpected, avoidable\n• Expensed as period loss\n• NOT included in product cost\n• Should be separately disclosed',
    difficulty: 'medium',
    tags: ['spoilage', 'normal', 'abnormal', 'process costing'],
  },
  {
    id: 'cma1-b3-085',
    section: 'CMA1',
    type: 'definition',
    topic: 'Controls',
    subtopic: 'Compensating Controls',
    blueprintArea: 'CMA1-E',
    front: 'What are compensating controls?',
    back: '**Compensating Controls:**\nAlternative controls that mitigate risk when ideal controls aren\'t feasible.\n\n**Example:**\nSmall company can\'t fully segregate duties.\nCompensating: Owner reviews/approves all transactions.\n\n**Characteristics:**\n• Address same risk\n• May be less efficient\n• Should be documented\n• Require enhanced monitoring',
    difficulty: 'medium',
    tags: ['compensating controls', 'small business'],
  },
  {
    id: 'cma1-b3-086',
    section: 'CMA1',
    type: 'formula',
    topic: 'Capital Budgeting',
    subtopic: 'Profitability Index',
    blueprintArea: 'CMA1-B',
    front: 'What is the Profitability Index (PI)?',
    back: '**PI = PV of Future Cash Flows / Initial Investment**\n\n**Decision Rule:**\nPI > 1.0: Accept\nPI < 1.0: Reject\nPI = 1.0: Indifferent\n\n**When capital is rationed:**\nRank projects by PI (highest first)\n\n**Relationship to NPV:**\nNPV = Initial Investment × (PI - 1)',
    formula: 'PI = PV Cash Flows / Investment',
    difficulty: 'medium',
    tags: ['profitability index', 'capital budgeting', 'rationing'],
  },
  {
    id: 'cma1-b3-087',
    section: 'CMA1',
    type: 'definition',
    topic: 'Business Intelligence',
    subtopic: 'Components',
    blueprintArea: 'CMA1-F',
    front: 'What are the components of Business Intelligence (BI)?',
    back: '**Data Warehousing:**\nCentral repository for integrated data\n\n**ETL:**\nExtract, Transform, Load data\n\n**OLAP:**\nOnline Analytical Processing (drill-down, slice/dice)\n\n**Reporting:**\nDashboards, scorecards, ad-hoc reports\n\n**Data Mining:**\nDiscover patterns and relationships',
    difficulty: 'medium',
    tags: ['BI', 'business intelligence', 'data warehouse'],
  },
  {
    id: 'cma1-b3-088',
    section: 'CMA1',
    type: 'formula',
    topic: 'Cash Collections',
    subtopic: 'Pattern',
    blueprintArea: 'CMA1-B',
    front: 'How are cash receipts from sales calculated?',
    back: '**Cash Receipts Schedule:**\n\n1. Determine collection pattern\n   Example: 60% in month of sale, 35% next month, 5% uncollectible\n\n2. Apply pattern:\n   Month X cash = 60%(Month X sales) + 35%(Month X-1 sales)\n\n3. Exclude uncollectibles from collections\n\n**Key:** Match timing of collections to sales.',
    formula: 'Cash = Σ(Sales × Collection %)',
    difficulty: 'medium',
    tags: ['cash budget', 'collections', 'receivables'],
  },
  {
    id: 'cma1-b3-089',
    section: 'CMA1',
    type: 'definition',
    topic: 'Sensitivity Analysis',
    subtopic: 'Purpose',
    blueprintArea: 'CMA1-B',
    front: 'What is sensitivity analysis?',
    back: '**Sensitivity Analysis:**\n"What-if" analysis that tests how changes in assumptions affect outcomes.\n\n**Steps:**\n1. Identify key variables\n2. Define range of values\n3. Calculate outcomes for each\n4. Identify critical variables\n\n**Uses:**\n• Identify high-risk assumptions\n• Support decision-making\n• Capital budgeting analysis',
    difficulty: 'medium',
    tags: ['sensitivity', 'what-if', 'analysis'],
  },
  {
    id: 'cma1-b3-090',
    section: 'CMA1',
    type: 'mnemonic',
    topic: 'Cost Flow',
    subtopic: 'Manufacturing',
    blueprintArea: 'CMA1-D',
    front: 'What is the flow of manufacturing costs?',
    back: '**Flow of Costs:**\n\n**DM + DL + OH** → Work in Process\n→ Finished Goods\n→ Cost of Goods Sold\n\n**Key Formulas:**\n• COGM = Begin WIP + Manufacturing Costs - End WIP\n• COGS = Begin FG + COGM - End FG\n\n**Remember:** Only product costs flow through inventory.',
    difficulty: 'easy',
    tags: ['cost flow', 'manufacturing', 'COGM', 'COGS'],
  },
  {
    id: 'cma1-b3-091',
    section: 'CMA1',
    type: 'definition',
    topic: 'Encryption',
    subtopic: 'Types',
    blueprintArea: 'CMA1-F',
    front: 'What are the main types of encryption?',
    back: '**Symmetric Encryption:**\n• Same key for encrypt/decrypt\n• Faster, used for data at rest\n• Challenge: Key distribution\n\n**Asymmetric Encryption:**\n• Public/private key pair\n• Public encrypts, private decrypts\n• Slower, used for secure transmission\n\n**Encryption states:** At rest, in transit, in use',
    difficulty: 'medium',
    tags: ['encryption', 'symmetric', 'asymmetric', 'security'],
  },
  {
    id: 'cma1-b3-092',
    section: 'CMA1',
    type: 'definition',
    topic: 'Variance Investigation',
    subtopic: 'Decision Rules',
    blueprintArea: 'CMA1-C',
    front: 'When should variances be investigated?',
    back: '**Investigation Criteria:**\n\n1. **Materiality thresholds:**\n   • Dollar amount (e.g., >$5,000)\n   • Percentage (e.g., >5%)\n\n2. **Control chart rules:**\n   • Outside control limits (±2-3σ)\n\n**Cost-Benefit:**\nInvestigate if expected benefit > investigation cost\n\n**Consider:** Trend, recurring, controllable?',
    difficulty: 'medium',
    tags: ['variance', 'investigation', 'control charts'],
  },
  {
    id: 'cma1-b3-093',
    section: 'CMA1',
    type: 'formula',
    topic: 'Inventory Turnover',
    subtopic: 'Days in Inventory',
    blueprintArea: 'CMA1-A',
    front: 'How are inventory turnover and days in inventory calculated?',
    back: '**Inventory Turnover:**\n= COGS / Average Inventory\n\n**Days in Inventory:**\n= 365 / Inventory Turnover\n\nOR\n\n= Average Inventory / COGS per Day\n\n**Higher turnover = faster selling = less capital tied up**',
    formula: 'Turnover = COGS / Avg Inv\nDays = 365 / Turnover',
    difficulty: 'easy',
    tags: ['inventory turnover', 'days in inventory', 'efficiency'],
  },
  {
    id: 'cma1-b3-094',
    section: 'CMA1',
    type: 'definition',
    topic: 'Strategic Cost Management',
    subtopic: 'Cost Leadership vs Differentiation',
    blueprintArea: 'CMA1-D',
    front: 'Cost Leadership vs. Differentiation Strategy?',
    back: '**Cost Leadership:**\n• Lowest cost producer\n• High volume, low margins\n• Standardized products\n• Focus: Efficiency, scale\n\n**Differentiation:**\n• Unique products/features\n• Premium pricing\n• Customer loyalty\n• Focus: Quality, innovation, service\n\n**Cost management supports both—differently**',
    difficulty: 'medium',
    tags: ['strategy', 'cost leadership', 'differentiation'],
  },
  {
    id: 'cma1-b3-095',
    section: 'CMA1',
    type: 'definition',
    topic: 'Risk Assessment',
    subtopic: 'Heat Maps',
    blueprintArea: 'CMA1-E',
    front: 'What is a risk heat map?',
    back: '**Risk Heat Map:**\nVisual tool plotting risks by:\n• **Likelihood** (X-axis)\n• **Impact** (Y-axis)\n\n**Colors indicate priority:**\n• Red: High risk (immediate attention)\n• Yellow: Medium risk (monitor)\n• Green: Low risk (accept)\n\n**Use:** Prioritize risk response efforts.',
    difficulty: 'easy',
    tags: ['risk', 'heat map', 'assessment'],
  },
  {
    id: 'cma1-b3-096',
    section: 'CMA1',
    type: 'formula',
    topic: 'Cost of Capital',
    subtopic: 'WACC',
    blueprintArea: 'CMA1-B',
    front: 'How is Weighted Average Cost of Capital (WACC) calculated?',
    back: '**WACC = (E/V × Ke) + (D/V × Kd × (1-T))**\n\nWhere:\n• E = Market value of equity\n• D = Market value of debt\n• V = E + D\n• Ke = Cost of equity\n• Kd = Cost of debt\n• T = Tax rate\n\n**Note:** Debt cost is after-tax due to interest deductibility.',
    formula: 'WACC = (E/V × Ke) + (D/V × Kd × (1-T))',
    difficulty: 'hard',
    tags: ['WACC', 'cost of capital'],
  },
  {
    id: 'cma1-b3-097',
    section: 'CMA1',
    type: 'concept',
    topic: 'Performance Prism',
    subtopic: 'Stakeholders',
    blueprintArea: 'CMA1-C',
    front: 'What is the Performance Prism framework?',
    back: '**5 Facets:**\n\n1. **Stakeholder Satisfaction:**\n   Who are stakeholders? What do they want?\n\n2. **Strategies:**\n   What strategies satisfy stakeholders?\n\n3. **Processes:**\n   What processes enable strategies?\n\n4. **Capabilities:**\n   What capabilities are needed?\n\n5. **Stakeholder Contribution:**\n   What do we need from stakeholders?',
    difficulty: 'hard',
    tags: ['performance prism', 'stakeholders', 'framework'],
  },
  {
    id: 'cma1-b3-098',
    section: 'CMA1',
    type: 'definition',
    topic: 'API',
    subtopic: 'Integration',
    blueprintArea: 'CMA1-F',
    front: 'What is an API in business systems?',
    back: '**API (Application Programming Interface):**\nSet of rules enabling systems to communicate.\n\n**Benefits:**\n• Connect disparate systems\n• Real-time data exchange\n• Automate processes\n• Enable integrations\n\n**Examples in accounting:**\n• Bank feeds to accounting software\n• E-commerce to ERP\n• CRM to billing system',
    difficulty: 'medium',
    tags: ['API', 'integration', 'systems'],
  },
  {
    id: 'cma1-b3-099',
    section: 'CMA1',
    type: 'formula',
    topic: 'Cash Management',
    subtopic: 'Float',
    blueprintArea: 'CMA1-B',
    front: 'What is disbursement float?',
    back: '**Float = Bank Balance - Book Balance**\n\n**Types:**\n• **Collection float:** Delays in receiving cash (negative)\n• **Disbursement float:** Delays in checks clearing (positive)\n\n**Net Float = Disbursement - Collection Float**\n\n**Manage by:**\n• Accelerate collections (lockbox)\n• Control disbursements (zero balance)',
    formula: 'Float = Bank Balance - Book Balance',
    difficulty: 'medium',
    tags: ['float', 'cash management', 'disbursements'],
  },
  {
    id: 'cma1-b3-100',
    section: 'CMA1',
    type: 'comparison',
    topic: 'AI',
    subtopic: 'Supervised vs Unsupervised',
    blueprintArea: 'CMA1-F',
    front: 'Supervised vs. Unsupervised Machine Learning?',
    back: '**Supervised Learning:**\n• Trained with labeled data\n• Learns input→output mapping\n• Examples: Classification, regression\n• Use: Fraud detection, predictions\n\n**Unsupervised Learning:**\n• No labels provided\n• Finds patterns/structure\n• Examples: Clustering, association\n• Use: Customer segmentation, anomalies',
    comparison: {
      itemA: 'Supervised',
      itemB: 'Unsupervised',
      differences: ['Training data', 'Output type', 'Applications']
    },
    difficulty: 'medium',
    tags: ['machine learning', 'supervised', 'unsupervised', 'AI'],
  },
];

export default CMA1_BATCH3;
