/**
 * CMA Part 1: Financial Planning, Performance, and Analytics - Flashcard Definitions
 * Key terms and concepts for CMA Part 1
 */

import { CMAFlashcard } from './types';

export const CMA1_DEFINITIONS: CMAFlashcard[] = [
  // ============================================
  // A: External Financial Reporting Decisions (15%)
  // ============================================
  {
    id: 'cma1-def-001',
    section: 'CMA1',
    type: 'definition',
    topic: 'External Reporting',
    subtopic: 'Revenue Recognition',
    blueprintArea: 'CMA1-A',
    front: 'What is the 5-step revenue recognition model under ASC 606?',
    back: '1) Identify the contract with a customer\n2) Identify performance obligations in the contract\n3) Determine the transaction price\n4) Allocate transaction price to performance obligations\n5) Recognize revenue when (or as) performance obligations are satisfied',
    difficulty: 'medium',
    tags: ['revenue', 'ASC 606', 'GAAP'],
    reference: 'ASC 606',
  },
  {
    id: 'cma1-def-002',
    section: 'CMA1',
    type: 'definition',
    topic: 'External Reporting',
    subtopic: 'Inventory Valuation',
    blueprintArea: 'CMA1-A',
    front: 'What is the Lower of Cost or Net Realizable Value (LCNRV) rule?',
    back: 'Inventory must be written down when Net Realizable Value (NRV) falls below cost.\n\nNRV = Estimated selling price - Costs to complete and sell\n\nPurpose: Conservatism principle - don\'t overstate assets',
    example: 'Inventory cost $100, NRV $80 → Write down to $80, recognize $20 loss',
    difficulty: 'medium',
    tags: ['inventory', 'LCNRV', 'valuation'],
    reference: 'ASC 330',
  },
  {
    id: 'cma1-def-003',
    section: 'CMA1',
    type: 'definition',
    topic: 'External Reporting',
    subtopic: 'Balance Sheet',
    blueprintArea: 'CMA1-A',
    front: 'What is the difference between current and non-current assets?',
    back: '**Current Assets:** Expected to be converted to cash, sold, or consumed within ONE year or the operating cycle (whichever is longer)\n\n**Non-current Assets:** Not expected to be realized within one year\n- Property, Plant & Equipment\n- Intangibles\n- Long-term investments',
    difficulty: 'easy',
    tags: ['balance sheet', 'classification'],
  },
  {
    id: 'cma1-def-004',
    section: 'CMA1',
    type: 'definition',
    topic: 'External Reporting',
    subtopic: 'Lease Accounting',
    blueprintArea: 'CMA1-A',
    front: 'What are the two types of leases under ASC 842?',
    back: '**Finance Lease (5 criteria - any one triggers):**\n1) Ownership transfers at end\n2) Bargain purchase option\n3) Lease term ≥ 75% of asset life\n4) PV of payments ≥ 90% of fair value\n5) Asset is specialized\n\n**Operating Lease:** All other leases\n\nBoth require right-of-use asset and lease liability',
    difficulty: 'hard',
    tags: ['leases', 'ASC 842'],
    reference: 'ASC 842',
  },

  // ============================================
  // B: Planning, Budgeting, and Forecasting (20%)
  // ============================================
  {
    id: 'cma1-def-005',
    section: 'CMA1',
    type: 'definition',
    topic: 'Budgeting',
    subtopic: 'Master Budget',
    blueprintArea: 'CMA1-B',
    front: 'What is a Master Budget and what are its components?',
    back: 'A comprehensive financial plan combining all departmental budgets.\n\n**Operating Budgets:**\n• Sales budget (starting point)\n• Production budget\n• Direct materials, labor, overhead\n• Selling & administrative\n\n**Financial Budgets:**\n• Capital expenditure\n• Cash budget\n• Budgeted financial statements',
    difficulty: 'medium',
    tags: ['master budget', 'planning'],
  },
  {
    id: 'cma1-def-006',
    section: 'CMA1',
    type: 'definition',
    topic: 'Budgeting',
    subtopic: 'Flexible Budgets',
    blueprintArea: 'CMA1-B',
    front: 'What is a Flexible Budget?',
    back: 'A budget that adjusts for changes in activity level.\n\nFlexible Budget = (Variable cost per unit × Actual units) + Fixed costs\n\n**Purpose:** Provides meaningful variance analysis by comparing actual results to what SHOULD have happened at actual volume, not budgeted volume.',
    example: 'If actual production was 12,000 units vs budget of 10,000, the flexible budget recalculates costs at 12,000 units',
    difficulty: 'medium',
    tags: ['flexible budget', 'variance'],
  },
  {
    id: 'cma1-def-007',
    section: 'CMA1',
    type: 'definition',
    topic: 'Budgeting',
    subtopic: 'Zero-Based Budgeting',
    blueprintArea: 'CMA1-B',
    front: 'What is Zero-Based Budgeting (ZBB)?',
    back: 'Budgeting method where ALL expenses must be justified for each new period, starting from zero.\n\n**Advantages:**\n• Eliminates budgetary slack\n• Allocates resources to priorities\n• Reduces unnecessary spending\n\n**Disadvantages:**\n• Time-consuming\n• Requires significant effort\n• May reduce long-term planning',
    difficulty: 'medium',
    tags: ['ZBB', 'budgeting methods'],
  },
  {
    id: 'cma1-def-008',
    section: 'CMA1',
    type: 'definition',
    topic: 'Forecasting',
    subtopic: 'Rolling Budget',
    blueprintArea: 'CMA1-B',
    front: 'What is a Rolling (Continuous) Budget?',
    back: 'A budget that continuously adds a new period (month/quarter) as each period ends.\n\n**Example:** 12-month rolling budget always looks 12 months ahead\n\n**Advantages:**\n• Always planning one period ahead\n• More relevant than static annual budget\n• Incorporates recent information',
    difficulty: 'easy',
    tags: ['rolling budget', 'forecasting'],
  },

  // ============================================
  // C: Performance Management (20%)
  // ============================================
  {
    id: 'cma1-def-009',
    section: 'CMA1',
    type: 'definition',
    topic: 'Performance Management',
    subtopic: 'Responsibility Centers',
    blueprintArea: 'CMA1-C',
    front: 'What are the four types of Responsibility Centers?',
    back: '1) **Cost Center:** Responsible for costs only\n   Example: Manufacturing department\n\n2) **Revenue Center:** Responsible for revenues only\n   Example: Sales office\n\n3) **Profit Center:** Responsible for revenues AND costs\n   Example: Product line division\n\n4) **Investment Center:** Responsible for revenues, costs, AND invested capital\n   Example: Subsidiary company',
    difficulty: 'medium',
    tags: ['responsibility accounting', 'decentralization'],
  },
  {
    id: 'cma1-def-010',
    section: 'CMA1',
    type: 'definition',
    topic: 'Performance Management',
    subtopic: 'Balanced Scorecard',
    blueprintArea: 'CMA1-C',
    front: 'What are the four perspectives of the Balanced Scorecard?',
    back: '1) **Financial:** "How do we look to shareholders?"\n   Measures: ROI, EVA, profit margin\n\n2) **Customer:** "How do customers see us?"\n   Measures: Satisfaction, retention, market share\n\n3) **Internal Business Process:** "What must we excel at?"\n   Measures: Quality, cycle time, productivity\n\n4) **Learning & Growth:** "Can we continue to improve?"\n   Measures: Employee training, innovation, IT capabilities',
    difficulty: 'medium',
    tags: ['balanced scorecard', 'performance measurement'],
    imaReference: 'IMA SMA 4DD',
  },
  {
    id: 'cma1-def-011',
    section: 'CMA1',
    type: 'definition',
    topic: 'Performance Management',
    subtopic: 'Transfer Pricing',
    blueprintArea: 'CMA1-C',
    front: 'What are the three main transfer pricing methods?',
    back: '1) **Market-Based:** Use external market price\n   Best when competitive market exists\n\n2) **Cost-Based:** Use cost plus markup\n   • Variable cost\n   • Full (absorption) cost\n   • Cost plus profit margin\n\n3) **Negotiated:** Divisions negotiate price\n   Range: Variable cost to Market price\n\n**Optimal:** Market price when available',
    difficulty: 'medium',
    tags: ['transfer pricing', 'decentralization'],
  },

  // ============================================
  // D: Cost Management (15%)
  // ============================================
  {
    id: 'cma1-def-012',
    section: 'CMA1',
    type: 'definition',
    topic: 'Cost Management',
    subtopic: 'Cost Behavior',
    blueprintArea: 'CMA1-D',
    front: 'What is the difference between variable, fixed, and mixed costs?',
    back: '**Variable Costs:** Change in total proportionally with activity\n- Per unit cost stays constant\n- Examples: Direct materials, direct labor\n\n**Fixed Costs:** Remain constant in total regardless of activity\n- Per unit cost decreases as volume increases\n- Examples: Rent, depreciation, salaries\n\n**Mixed (Semi-variable) Costs:** Contain both fixed and variable components\n- Example: Utilities (base charge + usage)',
    difficulty: 'easy',
    tags: ['cost behavior', 'cost classification'],
  },
  {
    id: 'cma1-def-013',
    section: 'CMA1',
    type: 'definition',
    topic: 'Cost Management',
    subtopic: 'Activity-Based Costing',
    blueprintArea: 'CMA1-D',
    front: 'What is Activity-Based Costing (ABC) and how does it differ from traditional costing?',
    back: '**ABC:** Allocates overhead costs based on activities that drive costs.\n\n**Traditional Costing:** Uses one or few allocation bases (direct labor hours, machine hours)\n\n**ABC Process:**\n1) Identify activities\n2) Assign costs to activity cost pools\n3) Identify cost drivers\n4) Calculate activity rates\n5) Allocate to products\n\n**Best for:** Diverse products, high overhead, complex operations',
    difficulty: 'medium',
    tags: ['ABC', 'cost allocation'],
  },
  {
    id: 'cma1-def-014',
    section: 'CMA1',
    type: 'definition',
    topic: 'Cost Management',
    subtopic: 'Absorption vs Variable Costing',
    blueprintArea: 'CMA1-D',
    front: 'What is the difference between Absorption and Variable Costing?',
    back: '**Absorption (Full) Costing:**\n- Product costs: DM + DL + Variable OH + Fixed OH\n- Required for external reporting (GAAP)\n- Fixed OH is inventoriable cost\n\n**Variable (Direct) Costing:**\n- Product costs: DM + DL + Variable OH only\n- Fixed OH is period cost\n- Used for internal decision-making\n\n**Key Impact:** When production ≠ sales:\n- Prod > Sales: Absorption income > Variable income\n- Prod < Sales: Absorption income < Variable income',
    difficulty: 'hard',
    tags: ['absorption costing', 'variable costing'],
  },

  // ============================================
  // E: Internal Controls (15%)
  // ============================================
  {
    id: 'cma1-def-015',
    section: 'CMA1',
    type: 'definition',
    topic: 'Internal Controls',
    subtopic: 'COSO Framework',
    blueprintArea: 'CMA1-E',
    front: 'What are the five components of the COSO Internal Control Framework?',
    back: '1) **Control Environment:** Tone at the top, integrity, ethical values\n\n2) **Risk Assessment:** Identify and analyze risks\n\n3) **Control Activities:** Policies and procedures\n   - Authorization, segregation of duties, reconciliations\n\n4) **Information & Communication:** Relevant information flows\n\n5) **Monitoring Activities:** Ongoing and separate evaluations\n\n**Mnemonic:** "CRIME" - Control environment, Risk assessment, Information, Monitoring, cE(activities)',
    mnemonic: 'CRIME',
    difficulty: 'medium',
    tags: ['COSO', 'internal control'],
    imaReference: 'COSO 2013',
  },
  {
    id: 'cma1-def-016',
    section: 'CMA1',
    type: 'definition',
    topic: 'Internal Controls',
    subtopic: 'Segregation of Duties',
    blueprintArea: 'CMA1-E',
    front: 'What are the key functions that should be segregated?',
    back: 'Four functions to separate:\n\n1) **Authorization:** Approve transactions\n2) **Recording:** Record in accounting system\n3) **Custody:** Physical access to assets\n4) **Reconciliation:** Verify records match assets\n\n**Purpose:** Prevent and detect errors and fraud\n\n**Example:** Person who approves purchases should not sign checks or receive goods',
    difficulty: 'easy',
    tags: ['segregation of duties', 'internal control'],
  },
  {
    id: 'cma1-def-017',
    section: 'CMA1',
    type: 'definition',
    topic: 'Internal Controls',
    subtopic: 'ERM',
    blueprintArea: 'CMA1-E',
    front: 'What is Enterprise Risk Management (ERM)?',
    back: 'A process to identify, assess, and manage risks across the entire organization.\n\n**COSO ERM Components:**\n• Governance & Culture\n• Strategy & Objective Setting\n• Performance (identify, assess, respond)\n• Review & Revision\n• Information, Communication & Reporting\n\n**Risk Responses:** Avoid, Reduce, Share, Accept',
    difficulty: 'medium',
    tags: ['ERM', 'risk management'],
    imaReference: 'COSO ERM 2017',
  },

  // ============================================
  // F: Technology and Analytics (15%)
  // ============================================
  {
    id: 'cma1-def-018',
    section: 'CMA1',
    type: 'definition',
    topic: 'Technology',
    subtopic: 'ERP Systems',
    blueprintArea: 'CMA1-F',
    front: 'What is an Enterprise Resource Planning (ERP) system?',
    back: 'Integrated software system that manages all business processes using a shared database.\n\n**Key Modules:**\n• Finance & Accounting\n• Human Resources\n• Supply Chain Management\n• Manufacturing\n• Sales & CRM\n\n**Benefits:** Real-time data, eliminates silos, improves efficiency\n\n**Challenges:** High cost, implementation risk, training needs',
    difficulty: 'easy',
    tags: ['ERP', 'technology'],
  },
  {
    id: 'cma1-def-019',
    section: 'CMA1',
    type: 'definition',
    topic: 'Analytics',
    subtopic: 'Data Analytics Types',
    blueprintArea: 'CMA1-F',
    front: 'What are the four types of data analytics?',
    back: '1) **Descriptive:** What happened?\n   - Historical data, dashboards, reports\n\n2) **Diagnostic:** Why did it happen?\n   - Root cause analysis, drill-down\n\n3) **Predictive:** What will happen?\n   - Forecasting, machine learning, regression\n\n4) **Prescriptive:** What should we do?\n   - Optimization, simulation, recommendations\n\n**Complexity increases** from descriptive to prescriptive',
    difficulty: 'medium',
    tags: ['analytics', 'data'],
  },
  {
    id: 'cma1-def-020',
    section: 'CMA1',
    type: 'definition',
    topic: 'Analytics',
    subtopic: 'Regression Analysis',
    blueprintArea: 'CMA1-F',
    front: 'What is regression analysis and how is it used in management accounting?',
    back: '**Regression Analysis:** Statistical method to estimate relationships between variables.\n\n**Simple Linear Regression:**\nY = a + bX\n- Y = Dependent variable (cost)\n- X = Independent variable (activity)\n- a = Fixed cost (intercept)\n- b = Variable cost per unit (slope)\n\n**Uses:**\n• Cost estimation\n• Forecasting\n• Variance analysis\n• Sales projections',
    formula: 'Y = a + bX',
    difficulty: 'medium',
    tags: ['regression', 'statistics'],
  },
];
