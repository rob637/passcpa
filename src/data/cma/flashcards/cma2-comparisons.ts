/**
 * CMA Part 2: Comparisons Flashcards
 * Side-by-side comparison cards for commonly confused CMA Part 2 concepts
 * 15 comparison flashcards
 */

import { CMAFlashcard } from './types';

export const CMA2_COMPARISONS: CMAFlashcard[] = [
  {
    id: 'cma2-comp-001',
    section: 'CMA2',
    type: 'comparison',
    topic: 'Corporate Finance',
    subtopic: 'NPV vs IRR',
    blueprintArea: 'CMA2-E',
    front: 'NPV vs. IRR: When do they conflict?',
    back: '**NPV:** Dollar value created. Assumes reinvestment at WACC. Preferred for mutually exclusive projects.\n\n**IRR:** Return rate where NPV=0. Assumes reinvestment at IRR. May give multiple rates with non-conventional cash flows.\n\n**Conflict:** Different scale, timing, or life. ALWAYS prefer NPV.',
    comparison: {
      itemA: 'Net Present Value (NPV)',
      itemB: 'Internal Rate of Return (IRR)',
      differences: [
        'Measure: Dollar amount vs. Percentage',
        'Reinvestment assumption: At WACC vs. At IRR',
        'Multiple solutions: Never vs. Possible with non-conventional CF',
        'Mutually exclusive ranking: Reliable vs. May conflict with NPV',
      ],
    },
    difficulty: 'hard',
    tags: ['NPV', 'IRR', 'capital budgeting'],
  },
  {
    id: 'cma2-comp-002',
    section: 'CMA2',
    type: 'comparison',
    topic: 'Financial Analysis',
    subtopic: 'FCFF vs FCFE',
    blueprintArea: 'CMA2-A',
    front: 'Free Cash Flow to Firm (FCFF) vs. Free Cash Flow to Equity (FCFE)?',
    back: '**FCFF:** Cash available to ALL capital providers (debt + equity). = EBIT(1-T) + Dep - CapEx - ΔWC. Discount at WACC.\n\n**FCFE:** Cash available to EQUITY holders only. = FCFF - Interest(1-T) + Net borrowing. Discount at cost of equity.',
    comparison: {
      itemA: 'FCFF',
      itemB: 'FCFE',
      differences: [
        'Recipients: All investors vs. Equity holders only',
        'Discount rate: WACC vs. Cost of equity',
        'Debt effects: Before debt payments vs. After debt payments',
        'Valuation: Enterprise value vs. Equity value directly',
      ],
    },
    difficulty: 'hard',
    tags: ['FCFF', 'FCFE', 'valuation'],
  },
  {
    id: 'cma2-comp-003',
    section: 'CMA2',
    type: 'comparison',
    topic: 'Risk Management',
    subtopic: 'Forwards vs Futures vs Options',
    blueprintArea: 'CMA2-D',
    front: 'Forward Contracts vs. Futures vs. Options?',
    back: '**Forwards:** Private, customized, counterparty risk, no daily settlement, held to maturity.\n\n**Futures:** Exchange-traded, standardized, marked-to-market daily, margin required, highly liquid.\n\n**Options:** Right (not obligation) to buy/sell. Premium paid upfront. Asymmetric payoff.',
    comparison: {
      itemA: 'Forwards/Futures',
      itemB: 'Options',
      differences: [
        'Obligation: Both parties obligated vs. Holder has right, not obligation',
        'Upfront cost: None (forward) / Margin (future) vs. Premium paid',
        'Upside potential: Limited (locked in) vs. Unlimited (for holder)',
        'Downside risk: Unlimited vs. Limited to premium (for holder)',
      ],
    },
    difficulty: 'hard',
    tags: ['derivatives', 'hedging', 'risk management'],
  },
  {
    id: 'cma2-comp-004',
    section: 'CMA2',
    type: 'comparison',
    topic: 'Capital Structure',
    subtopic: 'Trade-Off vs Pecking Order',
    blueprintArea: 'CMA2-B',
    front: 'Trade-Off Theory vs. Pecking Order Theory of capital structure?',
    back: '**Trade-Off:** Optimal D/E balances tax shield benefits of debt against financial distress costs. Predicts target leverage ratio.\n\n**Pecking Order:** Firms prefer: retained earnings → debt → equity (due to information asymmetry). No target ratio—firm uses cheapest available source.',
    comparison: {
      itemA: 'Trade-Off Theory',
      itemB: 'Pecking Order Theory',
      differences: [
        'Optimal ratio: Yes, target exists vs. No target ratio',
        'Debt motive: Tax shield vs. Less information asymmetry than equity',
        'Prediction: Firms revert to target vs. Profitable firms have less debt',
        'Equity issuance: Neutral vs. Negative signal (last resort)',
      ],
    },
    difficulty: 'hard',
    tags: ['capital structure', 'trade-off theory', 'pecking order'],
  },
  {
    id: 'cma2-comp-005',
    section: 'CMA2',
    type: 'comparison',
    topic: 'Ethics',
    subtopic: 'IMA Standards',
    blueprintArea: 'CMA2-F',
    front: 'IMA\'s Four Standards of Ethical Professional Practice?',
    back: '**Competence:** Maintain skills, follow laws, provide accurate info.\n**Confidentiality:** Don\'t disclose without authorization, inform subordinates.\n**Integrity:** Avoid conflicts, refrain from subverting goals, communicate all info.\n**Credibility:** Communicate fairly/objectively, disclose all relevant info.',
    comparison: {
      itemA: 'Competence & Confidentiality',
      itemB: 'Integrity & Credibility',
      differences: [
        'Focus: Technical skill + Information protection vs. Ethical behavior + Fair communication',
        'Key word: Maintain/Protect vs. Avoid conflicts/Disclose',
        'Violation example: Using outdated methods/Sharing insider info vs. COI not disclosed/Biased reporting',
        'Mnemonic: C² + I² (CCIC)',
      ],
    },
    difficulty: 'medium',
    tags: ['IMA ethics', 'professional standards'],
  },
  {
    id: 'cma2-comp-006',
    section: 'CMA2',
    type: 'comparison',
    topic: 'Decision Analysis',
    subtopic: 'Relevant vs Sunk Costs',
    blueprintArea: 'CMA2-C',
    front: 'Relevant Costs vs. Sunk Costs vs. Opportunity Costs?',
    back: '**Relevant:** Future costs that DIFFER between alternatives. Include in analysis.\n\n**Sunk:** Past costs already incurred, CANNOT be changed. Exclude from analysis.\n\n**Opportunity:** Benefit FOREGONE from next best alternative. Always relevant if applicable.',
    comparison: {
      itemA: 'Sunk Costs',
      itemB: 'Opportunity Costs',
      differences: [
        'Timing: Past vs. Future foregone benefit',
        'Decision relevance: Irrelevant (exclude) vs. Relevant (include)',
        'Recorded in books: Usually yes vs. Usually no (implicit)',
        'Example: R&D already spent vs. Rent from unused warehouse',
      ],
    },
    difficulty: 'medium',
    tags: ['relevant costs', 'sunk costs', 'opportunity costs'],
  },
  {
    id: 'cma2-comp-007',
    section: 'CMA2',
    type: 'comparison',
    topic: 'Corporate Finance',
    subtopic: 'Operating vs Financial Leverage',
    blueprintArea: 'CMA2-B',
    front: 'Operating Leverage vs. Financial Leverage?',
    back: '**Operating:** Impact of fixed operating costs on EBIT. DOL = CM/EBIT. Higher fixed costs → higher DOL → more EBIT sensitivity to sales changes.\n\n**Financial:** Impact of fixed financing costs (interest) on EPS. DFL = EBIT/(EBIT-I). Higher debt → higher DFL → more EPS sensitivity to EBIT changes.',
    comparison: {
      itemA: 'Operating Leverage (DOL)',
      itemB: 'Financial Leverage (DFL)',
      differences: [
        'Source: Fixed operating costs vs. Fixed financing costs (interest)',
        'Measures: Sales to EBIT sensitivity vs. EBIT to EPS sensitivity',
        'Formula: CM / EBIT vs. EBIT / (EBIT - Interest)',
        'Risk type: Business risk vs. Financial risk',
      ],
    },
    difficulty: 'hard',
    tags: ['operating leverage', 'financial leverage', 'DTL'],
  },
  {
    id: 'cma2-comp-008',
    section: 'CMA2',
    type: 'comparison',
    topic: 'Financial Analysis',
    subtopic: 'Horizontal vs Vertical Analysis',
    blueprintArea: 'CMA2-A',
    front: 'Horizontal (Trend) Analysis vs. Vertical (Common-Size) Analysis?',
    back: '**Horizontal:** Compares line items ACROSS periods. Shows growth trends. % change = (Current - Prior) / Prior.\n\n**Vertical:** Compares line items WITHIN a period. Shows composition. BS items as % of total assets; IS items as % of revenue.',
    comparison: {
      itemA: 'Horizontal Analysis',
      itemB: 'Vertical Analysis',
      differences: [
        'Direction: Across time periods vs. Within single period',
        'Base: Prior period amount vs. Total assets or Revenue',
        'Shows: Growth/trends vs. Composition/structure',
        'Cross-company: Difficult if sizes differ vs. Enables comparison across sizes',
      ],
    },
    difficulty: 'easy',
    tags: ['financial analysis', 'horizontal', 'vertical'],
  },
  {
    id: 'cma2-comp-009',
    section: 'CMA2',
    type: 'comparison',
    topic: 'Risk Management',
    subtopic: 'Systematic vs Unsystematic Risk',
    blueprintArea: 'CMA2-D',
    front: 'Systematic Risk vs. Unsystematic Risk?',
    back: '**Systematic (Market):** Affects entire market. Cannot be diversified away. Measured by beta. Examples: interest rates, inflation, recessions.\n\n**Unsystematic (Specific):** Affects individual firm/industry. CAN be diversified away. Examples: management changes, lawsuits, product recalls.',
    comparison: {
      itemA: 'Systematic Risk',
      itemB: 'Unsystematic Risk',
      differences: [
        'Scope: Entire market vs. Individual firm/industry',
        'Diversification: Cannot eliminate vs. Can be diversified away',
        'Measured by: Beta (CAPM) vs. Standard deviation (partly)',
        'Compensation: Market risk premium vs. Not compensated in CAPM',
      ],
    },
    difficulty: 'medium',
    tags: ['systematic risk', 'unsystematic risk', 'diversification'],
  },
  {
    id: 'cma2-comp-010',
    section: 'CMA2',
    type: 'comparison',
    topic: 'International Finance',
    subtopic: 'Transaction vs Translation Exposure',
    blueprintArea: 'CMA2-B',
    front: 'Transaction Exposure vs. Translation Exposure vs. Economic Exposure?',
    back: '**Transaction:** Existing foreign currency obligations. Real cash flow impact. Hedge with forwards/options.\n\n**Translation:** Converting foreign sub financials. Accounting effect only (OCI). Current rate or temporal method.\n\n**Economic:** Long-term effect on competitive position and future cash flows.',
    comparison: {
      itemA: 'Transaction Exposure',
      itemB: 'Translation Exposure',
      differences: [
        'Nature: Real cash flow impact vs. Accounting/reporting impact',
        'Source: Existing receivables/payables vs. Financial statement conversion',
        'Income statement: Transaction gains/losses vs. OCI (current rate method)',
        'Hedging: Common (forwards, options) vs. Less common (balance sheet hedge)',
      ],
    },
    difficulty: 'hard',
    tags: ['foreign exchange exposure', 'international finance'],
  },
  {
    id: 'cma2-comp-011',
    section: 'CMA2',
    type: 'comparison',
    topic: 'Decision Analysis',
    subtopic: 'Sensitivity vs Scenario Analysis',
    blueprintArea: 'CMA2-C',
    front: 'Sensitivity Analysis vs. Scenario Analysis vs. Monte Carlo Simulation?',
    back: '**Sensitivity:** Change ONE variable at a time. Shows which input matters most (tornado diagram).\n\n**Scenario:** Change MULTIPLE variables simultaneously (best/worst/base case). More realistic but limited scenarios.\n\n**Monte Carlo:** Thousands of random iterations from probability distributions. Full probability distribution of outcomes.',
    comparison: {
      itemA: 'Sensitivity Analysis',
      itemB: 'Monte Carlo Simulation',
      differences: [
        'Variables changed: One at a time vs. All simultaneously (probabilistic)',
        'Output: Range of NPV per variable vs. Full probability distribution',
        'Complexity: Low vs. High (requires software)',
        'Correlations: Ignored vs. Can be modeled',
      ],
    },
    difficulty: 'hard',
    tags: ['sensitivity', 'scenario', 'Monte Carlo', 'risk analysis'],
  },
  {
    id: 'cma2-comp-012',
    section: 'CMA2',
    type: 'comparison',
    topic: 'Transfer Pricing',
    subtopic: 'Market vs Cost-Based TP',
    blueprintArea: 'CMA2-C',
    front: 'Market-Based vs. Cost-Based Transfer Pricing?',
    back: '**Market-based:** Uses external market price. Best for goal congruence when competitive market exists. Arm\'s-length.\n\n**Cost-based:** Uses variable cost, full cost, or cost-plus. May not promote goal congruence. May incentivize inefficiency if costs are passed through.',
    comparison: {
      itemA: 'Market-Based Transfer Price',
      itemB: 'Cost-Based Transfer Price',
      differences: [
        'Goal congruence: High (if market exists) vs. Variable',
        'Simplicity: Requires market vs. Easy to compute',
        'Selling div profit: Yes vs. Only with cost-plus markup',
        'Efficiency incentive: Strong vs. Weak (cost pass-through risk)',
      ],
    },
    difficulty: 'medium',
    tags: ['transfer pricing', 'market price', 'cost-based'],
  },
  {
    id: 'cma2-comp-013',
    section: 'CMA2',
    type: 'comparison',
    topic: 'Corporate Finance',
    subtopic: 'Dividends vs Repurchases',
    blueprintArea: 'CMA2-B',
    front: 'Cash Dividends vs. Stock Repurchases?',
    back: '**Cash dividends:** Regular cash payment. Creates expectations. Taxed as ordinary income (usually). Signals stability.\n\n**Repurchases:** Flexible—can stop anytime. Capital gains tax (deferred). Increases EPS. Offsets dilution. No commitment.',
    comparison: {
      itemA: 'Cash Dividends',
      itemB: 'Stock Repurchases',
      differences: [
        'Tax treatment: Ordinary income vs. Capital gains (deferred)',
        'Commitment: Creates expectation (sticky) vs. Flexible, no commitment',
        'EPS effect: No change in shares vs. Reduces shares, increases EPS',
        'Signal: Stability/maturity vs. Undervaluation/excess cash',
      ],
    },
    difficulty: 'medium',
    tags: ['dividend policy', 'stock repurchase', 'payout'],
  },
  {
    id: 'cma2-comp-014',
    section: 'CMA2',
    type: 'comparison',
    topic: 'Financial Analysis',
    subtopic: 'PE vs EV/EBITDA',
    blueprintArea: 'CMA2-A',
    front: 'P/E Ratio vs. EV/EBITDA Multiple?',
    back: '**P/E:** Market Price ÷ EPS. Equity-based. Affected by capital structure and taxes. Most common stock valuation metric.\n\n**EV/EBITDA:** Enterprise Value ÷ EBITDA. Capital-structure neutral. Better for comparing firms with different leverage. Used in M&A.',
    comparison: {
      itemA: 'Price/Earnings (P/E)',
      itemB: 'EV/EBITDA',
      differences: [
        'Perspective: Equity value vs. Total enterprise value',
        'Capital structure: Affected by leverage vs. Capital-structure neutral',
        'Denominator: After interest and tax vs. Before interest, tax, D&A',
        'Use: Stock valuation vs. M&A and cross-border comparisons',
      ],
    },
    difficulty: 'hard',
    tags: ['valuation multiples', 'P/E', 'EV/EBITDA'],
  },
  {
    id: 'cma2-comp-015',
    section: 'CMA2',
    type: 'comparison',
    topic: 'Risk Management',
    subtopic: 'ERM vs Traditional Risk',
    blueprintArea: 'CMA2-D',
    front: 'Enterprise Risk Management (ERM) vs. Traditional Risk Management?',
    back: '**Traditional:** Silo-based. Each department manages own risks. Focus on insurable/hazard risks. Reactive.\n\n**ERM:** Holistic, company-wide approach. All risk categories (strategic, operational, financial, compliance). Proactive, linked to strategy.',
    comparison: {
      itemA: 'Traditional Risk Management',
      itemB: 'Enterprise Risk Management',
      differences: [
        'Scope: Individual risks in silos vs. All risks across enterprise',
        'Approach: Reactive vs. Proactive and strategic',
        'Risk types: Insurable/hazard vs. Strategic + operational + financial + compliance',
        'Ownership: Risk manager/dept vs. Board + C-suite + all managers',
      ],
    },
    difficulty: 'medium',
    tags: ['ERM', 'COSO ERM', 'risk management'],
  },
];
