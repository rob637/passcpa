/**
 * CMA Part 2: Strategic Financial Management - Flashcard Definitions
 * Key terms and concepts for CMA Part 2
 */

import { CMAFlashcard } from './types';

export const CMA2_DEFINITIONS: CMAFlashcard[] = [
  // ============================================
  // A: Financial Statement Analysis (20%)
  // ============================================
  {
    id: 'cma2-def-001',
    section: 'CMA2',
    type: 'definition',
    topic: 'Financial Analysis',
    subtopic: 'Liquidity Ratios',
    blueprintArea: 'CMA2-A',
    front: 'What are the key liquidity ratios and their interpretation?',
    back: '**Current Ratio** = Current Assets / Current Liabilities\n• Measures short-term debt-paying ability\n• Generally: >2.0 is good, <1.0 is concerning\n\n**Quick (Acid-Test) Ratio** = (Cash + Securities + Receivables) / Current Liabilities\n• Excludes inventory and prepaid\n• More stringent test of liquidity\n\n**Cash Ratio** = (Cash + Cash Equivalents) / Current Liabilities\n• Most conservative liquidity measure',
    difficulty: 'easy',
    tags: ['liquidity', 'ratios'],
  },
  {
    id: 'cma2-def-002',
    section: 'CMA2',
    type: 'definition',
    topic: 'Financial Analysis',
    subtopic: 'Profitability Ratios',
    blueprintArea: 'CMA2-A',
    front: 'What are the key profitability ratios?',
    back: '**Gross Profit Margin** = Gross Profit / Net Sales\n• Measures production efficiency\n\n**Operating Profit Margin** = Operating Income / Net Sales\n• Measures operational efficiency\n\n**Net Profit Margin** = Net Income / Net Sales\n• Bottom-line profitability\n\n**Return on Assets (ROA)** = Net Income / Average Total Assets\n\n**Return on Equity (ROE)** = Net Income / Average Stockholders\' Equity',
    difficulty: 'medium',
    tags: ['profitability', 'ratios'],
  },
  {
    id: 'cma2-def-003',
    section: 'CMA2',
    type: 'definition',
    topic: 'Financial Analysis',
    subtopic: 'Leverage Ratios',
    blueprintArea: 'CMA2-A',
    front: 'What are the key leverage (solvency) ratios?',
    back: '**Debt-to-Equity** = Total Debt / Total Equity\n• Higher = more leveraged, riskier\n\n**Debt Ratio** = Total Debt / Total Assets\n• Portion of assets financed by debt\n\n**Times Interest Earned (TIE)** = EBIT / Interest Expense\n• Ability to meet interest payments\n• Higher is better (>3.0 generally safe)\n\n**Fixed Charge Coverage** = (EBIT + Lease pmts) / (Interest + Lease pmts)\n• Includes lease obligations',
    difficulty: 'medium',
    tags: ['leverage', 'solvency', 'ratios'],
  },
  {
    id: 'cma2-def-004',
    section: 'CMA2',
    type: 'definition',
    topic: 'Financial Analysis',
    subtopic: 'DuPont Analysis',
    blueprintArea: 'CMA2-A',
    front: 'What is DuPont Analysis and how is it calculated?',
    back: '**DuPont Analysis** breaks down ROE into component parts:\n\n**3-Factor Model:**\nROE = Profit Margin × Asset Turnover × Equity Multiplier\nROE = (NI/Sales) × (Sales/Assets) × (Assets/Equity)\n\n**5-Factor Model (Extended):**\nROE = Tax Burden × Interest Burden × Operating Margin × Asset Turnover × Equity Multiplier\n\n**Purpose:** Identify drivers of ROE changes',
    difficulty: 'hard',
    tags: ['DuPont', 'ROE', 'financial analysis'],
  },

  // ============================================
  // B: Corporate Finance (20%)
  // ============================================
  {
    id: 'cma2-def-005',
    section: 'CMA2',
    type: 'definition',
    topic: 'Corporate Finance',
    subtopic: 'Capital Structure',
    blueprintArea: 'CMA2-B',
    front: 'What is Capital Structure and what are the key considerations?',
    back: '**Capital Structure:** Mix of debt and equity financing\n\n**Key Considerations:**\n• Cost of capital (debt is cheaper than equity)\n• Financial risk (more debt = more risk)\n• Tax shield (interest is tax-deductible)\n• Financial flexibility\n• Credit ratings impact\n\n**Optimal Structure:** Minimizes WACC while maintaining acceptable risk level',
    difficulty: 'medium',
    tags: ['capital structure', 'financing'],
  },
  {
    id: 'cma2-def-006',
    section: 'CMA2',
    type: 'definition',
    topic: 'Corporate Finance',
    subtopic: 'WACC',
    blueprintArea: 'CMA2-B',
    front: 'What is Weighted Average Cost of Capital (WACC)?',
    back: '**WACC** = Weighted average of all capital sources\n\nWACC = (E/V × Re) + (D/V × Rd × (1-T))\n\nWhere:\n• E = Market value of equity\n• D = Market value of debt\n• V = Total value (E + D)\n• Re = Cost of equity\n• Rd = Cost of debt\n• T = Tax rate\n\n**Use:** Discount rate for capital budgeting, benchmark for evaluating projects',
    difficulty: 'medium',
    tags: ['WACC', 'cost of capital'],
  },
  {
    id: 'cma2-def-007',
    section: 'CMA2',
    type: 'definition',
    topic: 'Corporate Finance',
    subtopic: 'Working Capital',
    blueprintArea: 'CMA2-B',
    front: 'What is Working Capital Management?',
    back: '**Working Capital** = Current Assets - Current Liabilities\n\n**Components to manage:**\n• Cash management\n• Accounts receivable\n• Inventory\n• Accounts payable\n\n**Cash Conversion Cycle** = DSO + DIO - DPO\n• DSO: Days Sales Outstanding\n• DIO: Days Inventory Outstanding\n• DPO: Days Payables Outstanding\n\n**Goal:** Minimize investment while maintaining operations',
    difficulty: 'medium',
    tags: ['working capital', 'cash cycle'],
  },
  {
    id: 'cma2-def-008',
    section: 'CMA2',
    type: 'definition',
    topic: 'Corporate Finance',
    subtopic: 'Dividend Policy',
    blueprintArea: 'CMA2-B',
    front: 'What are the main dividend policy theories?',
    back: '**1. Dividend Irrelevance (M&M):**\nDividends don\'t affect value in perfect markets\n\n**2. Bird-in-Hand:**\nInvestors prefer certain dividends to uncertain capital gains\n\n**3. Tax Preference:**\nLower tax on capital gains favors retention\n\n**4. Signaling:**\nDividend changes signal management\'s confidence\n\n**5. Residual:**\nPay dividends only after funding positive NPV projects',
    difficulty: 'hard',
    tags: ['dividends', 'payout policy'],
  },

  // ============================================
  // C: Decision Analysis (25%)
  // ============================================
  {
    id: 'cma2-def-009',
    section: 'CMA2',
    type: 'definition',
    topic: 'Decision Analysis',
    subtopic: 'Relevant Costs',
    blueprintArea: 'CMA2-C',
    front: 'What are Relevant Costs and Irrelevant Costs?',
    back: '**Relevant Costs:** Future costs that DIFFER between alternatives\n• Avoidable costs\n• Opportunity costs\n• Incremental costs\n• Out-of-pocket costs\n\n**Irrelevant Costs:** Do NOT differ between alternatives\n• Sunk costs (already incurred)\n• Committed costs\n• Allocated fixed costs\n\n**Key Test:** Does the cost change based on the decision?',
    difficulty: 'medium',
    tags: ['relevant costs', 'decision making'],
  },
  {
    id: 'cma2-def-010',
    section: 'CMA2',
    type: 'definition',
    topic: 'Decision Analysis',
    subtopic: 'CVP Analysis',
    blueprintArea: 'CMA2-C',
    front: 'What is Cost-Volume-Profit (CVP) Analysis?',
    back: '**CVP Analysis:** Examines relationship between costs, volume, and profit\n\n**Key Concepts:**\n• Contribution Margin = Sales - Variable Costs\n• CM Ratio = CM / Sales\n• Break-even = FC / CM per unit (units) or FC / CM ratio (dollars)\n\n**Assumptions:**\n• Linear relationships\n• Costs can be separated into fixed/variable\n• Sales mix is constant\n• Units produced = units sold',
    difficulty: 'medium',
    tags: ['CVP', 'break-even'],
  },
  {
    id: 'cma2-def-011',
    section: 'CMA2',
    type: 'definition',
    topic: 'Decision Analysis',
    subtopic: 'Special Order',
    blueprintArea: 'CMA2-C',
    front: 'How do you evaluate a Special Order decision?',
    back: '**Accept if:** Incremental Revenue > Incremental Costs\n\n**Considerations:**\n1. Is there excess capacity?\n2. What are the relevant costs? (usually variable costs only)\n3. Will it affect regular sales?\n4. Any opportunity costs?\n5. Qualitative factors (customer relationships, precedent)\n\n**Minimum price** = Variable costs + Opportunity cost (if any)',
    difficulty: 'medium',
    tags: ['special order', 'decision analysis'],
  },
  {
    id: 'cma2-def-012',
    section: 'CMA2',
    type: 'definition',
    topic: 'Decision Analysis',
    subtopic: 'Make or Buy',
    blueprintArea: 'CMA2-C',
    front: 'How do you evaluate a Make-or-Buy decision?',
    back: '**Compare:**\n• Make costs: Variable manufacturing + Avoidable fixed + Opportunity cost\n• Buy costs: Purchase price + Related costs\n\n**Relevant costs to Make:**\n• Direct materials\n• Direct labor\n• Variable overhead\n• Avoidable fixed costs\n• Opportunity cost of capacity\n\n**Qualitative factors:**\n• Quality control\n• Supplier reliability\n• Core competency\n• Confidentiality',
    difficulty: 'medium',
    tags: ['make or buy', 'outsourcing'],
  },
  {
    id: 'cma2-def-013',
    section: 'CMA2',
    type: 'definition',
    topic: 'Decision Analysis',
    subtopic: 'Constraints',
    blueprintArea: 'CMA2-C',
    front: 'What is the Theory of Constraints (TOC)?',
    back: '**Theory of Constraints:** Focus on identifying and managing bottlenecks\n\n**5 Steps:**\n1. IDENTIFY the constraint\n2. EXPLOIT the constraint (maximize throughput)\n3. SUBORDINATE other activities to constraint\n4. ELEVATE the constraint (increase capacity)\n5. REPEAT (don\'t let inertia become constraint)\n\n**Key Metric:**\nThroughput per unit of constraint resource\n\n**Ranking:** Prioritize products by CM per constraint unit',
    difficulty: 'hard',
    tags: ['TOC', 'constraints', 'bottleneck'],
  },

  // ============================================
  // D: Risk Management (10%)
  // ============================================
  {
    id: 'cma2-def-014',
    section: 'CMA2',
    type: 'definition',
    topic: 'Risk Management',
    subtopic: 'Types of Risk',
    blueprintArea: 'CMA2-D',
    front: 'What are the main types of financial risk?',
    back: '**Market Risk:** Price movements (equity, interest rate, currency, commodity)\n\n**Credit Risk:** Counterparty may default\n\n**Liquidity Risk:** Cannot meet obligations or sell assets quickly\n\n**Operational Risk:** Internal processes, people, systems failures\n\n**Strategic Risk:** Business model, competitive, regulatory changes\n\n**Systematic Risk:** Affects entire market (non-diversifiable)\n\n**Unsystematic Risk:** Firm-specific (diversifiable)',
    difficulty: 'medium',
    tags: ['risk types', 'risk management'],
  },
  {
    id: 'cma2-def-015',
    section: 'CMA2',
    type: 'definition',
    topic: 'Risk Management',
    subtopic: 'Hedging',
    blueprintArea: 'CMA2-D',
    front: 'What are the main hedging instruments?',
    back: '**Forwards:** Customized OTC contracts to buy/sell at future date\n\n**Futures:** Standardized exchange-traded forwards\n\n**Options:**\n• Call - right to buy\n• Put - right to sell\n• Premium paid upfront\n\n**Swaps:** Exchange of cash flows\n• Interest rate swaps (fixed ↔ floating)\n• Currency swaps\n\n**Natural Hedges:** Matching assets & liabilities in same currency/terms',
    difficulty: 'hard',
    tags: ['hedging', 'derivatives'],
  },
  {
    id: 'cma2-def-016',
    section: 'CMA2',
    type: 'definition',
    topic: 'Risk Management',
    subtopic: 'VaR',
    blueprintArea: 'CMA2-D',
    front: 'What is Value at Risk (VaR)?',
    back: '**Value at Risk (VaR):** Maximum expected loss over a time period at a given confidence level\n\n**Example:** "1-day 95% VaR of $1 million"\n= 95% confident won\'t lose more than $1M in 1 day\n\n**Methods:**\n• Historical simulation\n• Variance-covariance (parametric)\n• Monte Carlo simulation\n\n**Limitations:**\n• Doesn\'t measure worst case\n• Assumes normal distributions\n• Backward-looking',
    difficulty: 'hard',
    tags: ['VaR', 'risk measurement'],
  },

  // ============================================
  // E: Investment Decisions (15%)
  // ============================================
  {
    id: 'cma2-def-017',
    section: 'CMA2',
    type: 'definition',
    topic: 'Investment Decisions',
    subtopic: 'Capital Budgeting Methods',
    blueprintArea: 'CMA2-E',
    front: 'What are the main capital budgeting methods?',
    back: '**1. NPV (Net Present Value):**\nPV of cash inflows - Initial investment\nAccept if NPV > 0\n\n**2. IRR (Internal Rate of Return):**\nDiscount rate where NPV = 0\nAccept if IRR > Required return\n\n**3. Payback Period:**\nTime to recover initial investment\nIgnores time value of money\n\n**4. Discounted Payback:**\nPayback using discounted cash flows\n\n**5. Profitability Index (PI):**\nPI = PV of inflows / Initial investment\nAccept if PI > 1',
    difficulty: 'medium',
    tags: ['capital budgeting', 'NPV', 'IRR'],
  },
  {
    id: 'cma2-def-018',
    section: 'CMA2',
    type: 'definition',
    topic: 'Investment Decisions',
    subtopic: 'NPV vs IRR',
    blueprintArea: 'CMA2-E',
    front: 'When do NPV and IRR conflict, and which should be preferred?',
    back: '**Conflicts occur with:**\n• Mutually exclusive projects\n• Different investment sizes\n• Different timing of cash flows\n\n**Reasons for conflict:**\n• Different reinvestment rate assumptions\n  - NPV assumes reinvestment at WACC\n  - IRR assumes reinvestment at IRR\n\n**NPV is preferred because:**\n• More realistic reinvestment assumption\n• Measures absolute value creation\n• Works with unconventional cash flows\n• Additive across projects',
    difficulty: 'hard',
    tags: ['NPV', 'IRR', 'capital budgeting'],
  },
  {
    id: 'cma2-def-019',
    section: 'CMA2',
    type: 'definition',
    topic: 'Investment Decisions',
    subtopic: 'Real Options',
    blueprintArea: 'CMA2-E',
    front: 'What are Real Options in capital budgeting?',
    back: '**Real Options:** Managerial flexibility to modify projects after inception\n\n**Types:**\n• **Option to Expand:** Scale up if successful\n• **Option to Abandon:** Exit if unsuccessful\n• **Option to Defer:** Wait for more information\n• **Option to Contract:** Scale down\n• **Option to Switch:** Change inputs/outputs\n\n**Value:** Traditional NPV understates projects with significant flexibility\n\n**Strategic NPV** = Traditional NPV + Value of Real Options',
    difficulty: 'hard',
    tags: ['real options', 'flexibility'],
  },

  // ============================================
  // F: Professional Ethics (10%)
  // ============================================
  {
    id: 'cma2-def-020',
    section: 'CMA2',
    type: 'definition',
    topic: 'Professional Ethics',
    subtopic: 'IMA Statement',
    blueprintArea: 'CMA2-F',
    front: 'What are the four Standards of Ethical Conduct from IMA?',
    back: '**1. Competence:**\n• Maintain professional expertise\n• Perform duties according to laws and standards\n• Provide accurate information\n\n**2. Confidentiality:**\n• Keep information confidential\n• Don\'t use information for personal gain\n\n**3. Integrity:**\n• Avoid conflicts of interest\n• Refrain from activities that discredit profession\n\n**4. Credibility:**\n• Communicate fairly and objectively\n• Disclose all relevant information',
    mnemonic: 'CCIC - Competence, Confidentiality, Integrity, Credibility',
    difficulty: 'easy',
    tags: ['IMA ethics', 'professional standards'],
    imaReference: 'IMA Statement of Ethical Professional Practice',
  },
  {
    id: 'cma2-def-021',
    section: 'CMA2',
    type: 'definition',
    topic: 'Professional Ethics',
    subtopic: 'Ethical Conflict Resolution',
    blueprintArea: 'CMA2-F',
    front: 'What are the steps to resolve an ethical conflict?',
    back: '**IMA Resolution Steps:**\n\n1. **Discuss** with immediate supervisor (unless involved)\n\n2. **Clarify** ethical issues through confidential discussion with IMA Ethics Counselor\n\n3. **Consult** your organization\'s ethics hotline or committee\n\n4. **Consider** consulting with attorney about obligations\n\n5. **If unresolved,** resignation may be appropriate, but don\'t go public\n\n**Key:** Maintain confidentiality throughout process',
    difficulty: 'medium',
    tags: ['ethics', 'conflict resolution'],
    imaReference: 'IMA Statement of Ethical Professional Practice',
  },
  {
    id: 'cma2-def-022',
    section: 'CMA2',
    type: 'definition',
    topic: 'Professional Ethics',
    subtopic: 'Corporate Governance',
    blueprintArea: 'CMA2-F',
    front: 'What are the key principles of good corporate governance?',
    back: '**Key Principles:**\n\n1. **Rights of shareholders** - Equitable treatment\n\n2. **Role of stakeholders** - Recognize interests of all stakeholders\n\n3. **Disclosure & transparency** - Accurate, timely information\n\n4. **Board responsibilities:**\n  • Independent directors\n  • Audit committee oversight\n  • Executive compensation\n  • Risk management\n\n5. **Ethical behavior** - Code of conduct, whistleblower protection',
    difficulty: 'medium',
    tags: ['governance', 'board'],
  },
  // ============================================
  // Additional Definitions (Batch 2)
  // ============================================
  {
    id: 'cma2-def-023',
    section: 'CMA2',
    type: 'definition',
    topic: 'Corporate Finance',
    subtopic: 'Capital Structure',
    blueprintArea: 'CMA2-B',
    front: 'What is the Modigliani-Miller theorem without taxes?',
    back: '**M&M Proposition I (No Taxes):**\nFirm value is independent of capital structure.\n\n**M&M Proposition II (No Taxes):**\nCost of equity increases linearly with leverage.\nrE = rA + (D/E)(rA - rD)\n\n**Assumptions:**\n• No taxes\n• No bankruptcy costs\n• Perfect capital markets\n• Symmetric information\n\n**Reality:** Taxes and costs make structure matter',
    formula: 'rE = rA + (D/E)(rA - rD)',
    difficulty: 'hard',
    tags: ['M&M', 'capital structure', 'leverage'],
  },
  {
    id: 'cma2-def-028',
    section: 'CMA2',
    type: 'definition',
    topic: 'Decision Analysis',
    subtopic: 'Sensitivity Analysis',
    blueprintArea: 'CMA2-C',
    front: 'What is sensitivity analysis in capital budgeting?',
    back: '**Sensitivity Analysis:** Examines how NPV changes when ONE input variable changes while others remain constant.\n\n**Process:**\n1. Identify key variables (price, volume, cost)\n2. Calculate base case NPV\n3. Change each variable individually\n4. Measure impact on NPV\n\n**Output:** Tornado diagram showing which variables have most impact\n\n**Limitations:**\n• One variable at a time\n• Doesn\'t show probability\n• Use scenario analysis for combined changes',
    difficulty: 'medium',
    tags: ['sensitivity', 'capital budgeting', 'risk'],
  },
  {
    id: 'cma2-def-030',
    section: 'CMA2',
    type: 'definition',
    topic: 'Investment Decisions',
    subtopic: 'MIRR',
    blueprintArea: 'CMA2-C',
    front: 'What is the Modified Internal Rate of Return (MIRR)?',
    back: '**MIRR:** Addresses IRR problems by assuming reinvestment at cost of capital.\n\n**Calculation:**\n1. Find terminal value of cash inflows (at WACC)\n2. Find PV of cash outflows\n3. Solve for rate that equates them\n\nMIRR = (Terminal Value / PV of costs)^(1/n) - 1\n\n**Advantages over IRR:**\n• Realistic reinvestment assumption\n• Single solution (no multiple IRRs)\n• Better for mutually exclusive projects',
    formula: 'MIRR = (FV inflows / PV outflows)^(1/n) - 1',
    difficulty: 'hard',
    tags: ['MIRR', 'IRR', 'capital budgeting'],
  },
  {
    id: 'cma2-def-031',
    section: 'CMA2',
    type: 'definition',
    topic: 'Risk Management',
    subtopic: 'Enterprise Risk Management',
    blueprintArea: 'CMA2-D',
    front: 'What is COSO ERM and its key components?',
    back: '**COSO ERM (2017 Framework):**\n\n**5 Components & 20 Principles:**\n\n1. **Governance & Culture:**\n   - Board oversight, risk culture\n\n2. **Strategy & Objective-Setting:**\n   - Align risk appetite with strategy\n\n3. **Performance:**\n   - Identify and assess risks\n   - Prioritize risks\n   - Implement responses\n\n4. **Review & Revision:**\n   - Monitor performance\n   - Review changes\n\n5. **Information, Communication & Reporting**\n\n**Goal:** Integrate risk with strategy',
    difficulty: 'medium',
    tags: ['COSO ERM', 'risk management', 'framework'],
  },
  {
    id: 'cma2-def-032',
    section: 'CMA2',
    type: 'definition',
    topic: 'Financial Analysis',
    subtopic: 'Free Cash Flow',
    blueprintArea: 'CMA2-A',
    front: 'What is the difference between FCFF and FCFE?',
    back: '**Free Cash Flow to Firm (FCFF):**\nCash available to all capital providers (debt + equity)\n\nFCFF = EBIT(1-T) + D&A - CapEx - ΔWC\n\n**Free Cash Flow to Equity (FCFE):**\nCash available to equity holders only\n\nFCFE = FCFF - Interest(1-T) + Net Borrowing\n-- or --\nFCFE = NI + D&A - CapEx - ΔWC + Net Borrowing\n\n**Valuation Use:**\n• FCFF → Discount at WACC\n• FCFE → Discount at Cost of Equity',
    formula: 'FCFF = EBIT(1-T) + D&A - CapEx - ΔWC\nFCFE = NI + D&A - CapEx - ΔWC + Net Debt',
    difficulty: 'hard',
    tags: ['FCF', 'FCFF', 'FCFE', 'valuation'],
  },
];
