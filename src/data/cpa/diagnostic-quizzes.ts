/**
 * CPA Diagnostic Quizzes
 * 25-question assessments for each CPA section to identify knowledge gaps.
 * Covers FAR, AUD, REG, BAR, ISC, TCP blueprint areas.
 */
import type { DiagnosticQuiz } from '../../../types/diagnostic';

// Blueprint area display names
export const CPA_AREA_NAMES: Record<string, string> = {
  'FAR-I': 'Conceptual Framework & Financial Reporting',
  'FAR-II': 'Select Financial Statement Accounts',
  'FAR-III': 'Select Transactions',
  'FAR-IV': 'State and Local Governments',
  'FAR-V': 'Not-for-Profit Entities',
  'AUD-I': 'Ethics & Professional Responsibilities',
  'AUD-II': 'Assessing Risk & Planned Response',
  'AUD-III': 'Performing Procedures & Obtaining Evidence',
  'AUD-IV': 'Forming Conclusions & Reporting',
  'REG-I': 'Ethics, Responsibilities & Federal Tax Procedures',
  'REG-II': 'Business Law',
  'REG-III': 'Federal Taxation of Individuals',
  'REG-IV': 'Federal Taxation of Entities',
  'REG-V': 'Federal Taxation of Property Transactions',
  'BAR-I': 'Business Analysis',
  'BAR-II': 'Technical Accounting & Reporting',
  'BAR-III': 'State and Local Governments',
  'ISC-I': 'Information Systems',
  'ISC-II': 'Security, Confidentiality & Privacy',
  'ISC-III': 'System and Organization Controls',
  'TCP-I': 'Tax Compliance for Individuals & PFP',
  'TCP-II': 'Entity Tax Compliance',
  'TCP-III': 'Entity Tax Planning',
  'TCP-IV': 'Property Transactions',
};

export const FAR_DIAGNOSTIC: DiagnosticQuiz = {
  courseId: 'cpa',
  section: 'FAR',
  title: 'FAR Diagnostic Assessment',
  description: 'Assess your readiness for Financial Accounting and Reporting',
  timeLimit: 35,
  passingScore: 65,
  questions: [
    {
      id: 'far-d01',
      question: 'Under U.S. GAAP, which organization has the authority to establish accounting standards for nongovernmental entities?',
      options: ['SEC', 'FASB', 'AICPA', 'GASB'],
      correctAnswer: 1,
      blueprintArea: 'FAR-I',
      topic: 'Standard-Setting',
      difficulty: 'easy',
      explanation: 'FASB establishes GAAP for nongovernmental entities. GASB sets standards for state/local governments.',
    },
    {
      id: 'far-d02',
      question: 'Which qualitative characteristic of accounting information means the information is free from error and bias?',
      options: ['Relevance', 'Faithful representation', 'Comparability', 'Timeliness'],
      correctAnswer: 1,
      blueprintArea: 'FAR-I',
      topic: 'Conceptual Framework',
      difficulty: 'easy',
      explanation: 'Faithful representation means complete, neutral, and free from error.',
    },
    {
      id: 'far-d03',
      question: 'When should revenue be recognized under ASC 606?',
      options: ['When cash is received', 'When performance obligations are satisfied', 'When the contract is signed', 'At the end of the reporting period'],
      correctAnswer: 1,
      blueprintArea: 'FAR-I',
      topic: 'Revenue Recognition',
      difficulty: 'medium',
      explanation: 'ASC 606 requires revenue recognition when (or as) performance obligations are satisfied.',
    },
    {
      id: 'far-d04',
      question: 'A company has accounts receivable of $100,000 and estimates 5% will be uncollectible. Under the allowance method, the adjusting entry credits:',
      options: ['Accounts Receivable for $5,000', 'Bad Debt Expense for $5,000', 'Allowance for Doubtful Accounts for $5,000', 'Cash for $5,000'],
      correctAnswer: 2,
      blueprintArea: 'FAR-II',
      topic: 'Receivables',
      difficulty: 'easy',
      explanation: 'The adjusting entry debits Bad Debt Expense and credits Allowance for Doubtful Accounts.',
    },
    {
      id: 'far-d05',
      question: 'Under FIFO during rising prices, compared to LIFO, which statement is true?',
      options: ['FIFO results in lower net income', 'FIFO results in higher ending inventory', 'FIFO results in higher COGS', 'FIFO results in lower total assets'],
      correctAnswer: 1,
      blueprintArea: 'FAR-II',
      topic: 'Inventory',
      difficulty: 'medium',
      explanation: 'FIFO assigns the most recent (higher) costs to COGS, leaving older (lower) costs in ending inventory — wait, actually in rising prices FIFO assigns older lower costs to COGS, leaving newer higher costs in inventory. So FIFO = higher ending inventory.',
    },
    {
      id: 'far-d06',
      question: 'Equipment costing $50,000 with a 5-year useful life and $5,000 salvage value. What is Year 1 straight-line depreciation?',
      options: ['$10,000', '$9,000', '$8,000', '$12,500'],
      correctAnswer: 1,
      blueprintArea: 'FAR-II',
      topic: 'Fixed Assets & Depreciation',
      difficulty: 'easy',
      explanation: '($50,000 - $5,000) / 5 years = $9,000 per year.',
    },
    {
      id: 'far-d07',
      question: 'A bond issued at a premium means:',
      options: ['The stated rate is below the market rate', 'The stated rate exceeds the market rate', 'The bond was issued at par', 'The bond will not pay interest'],
      correctAnswer: 1,
      blueprintArea: 'FAR-II',
      topic: 'Bonds Payable',
      difficulty: 'medium',
      explanation: 'When the stated (coupon) rate exceeds the market rate, investors pay more than face value (premium).',
    },
    {
      id: 'far-d08',
      question: 'Which account is NOT classified as a current liability?',
      options: ['Accounts payable', 'Current portion of long-term debt', 'Bonds payable due in 5 years', 'Accrued wages'],
      correctAnswer: 2,
      blueprintArea: 'FAR-II',
      topic: 'Liabilities',
      difficulty: 'easy',
      explanation: 'Bonds due in 5 years are long-term liabilities, not current.',
    },
    {
      id: 'far-d09',
      question: 'Under ASC 842, a lessee classifies a lease as a finance lease if:',
      options: ['The lease term is less than 12 months', 'The lease transfers ownership', 'The lessee has no purchase option', 'The lease payments are variable only'],
      correctAnswer: 1,
      blueprintArea: 'FAR-III',
      topic: 'Leases',
      difficulty: 'medium',
      explanation: 'One criterion for finance lease classification is transfer of ownership to the lessee.',
    },
    {
      id: 'far-d10',
      question: 'In a business combination, goodwill is measured as:',
      options: ['Fair value of net assets acquired', 'Book value of acquired company', 'Excess of purchase price over fair value of net identifiable assets', 'Total purchase price'],
      correctAnswer: 2,
      blueprintArea: 'FAR-III',
      topic: 'Business Combinations',
      difficulty: 'medium',
      explanation: 'Goodwill = Purchase price − Fair value of net identifiable assets acquired.',
    },
    {
      id: 'far-d11',
      question: 'Under the equity method, the investor records its share of the investee\'s net income by:',
      options: ['Crediting Cash', 'Debiting Dividend Income', 'Debiting the Investment account', 'Crediting the Investment account'],
      correctAnswer: 2,
      blueprintArea: 'FAR-III',
      topic: 'Equity Method Investments',
      difficulty: 'medium',
      explanation: 'Investor debits Investment and credits Equity in Earnings of Investee for its share of net income.',
    },
    {
      id: 'far-d12',
      question: 'Which item is reported as other comprehensive income (OCI)?',
      options: ['Cost of goods sold', 'Unrealized gain on available-for-sale securities', 'Depreciation expense', 'Interest revenue'],
      correctAnswer: 1,
      blueprintArea: 'FAR-III',
      topic: 'Comprehensive Income',
      difficulty: 'medium',
      explanation: 'Unrealized gains/losses on AFS securities are reported in OCI, not net income.',
    },
    {
      id: 'far-d13',
      question: 'The statement of cash flows classifies interest paid as:',
      options: ['Operating activities', 'Investing activities', 'Financing activities', 'It depends on the entity'],
      correctAnswer: 0,
      blueprintArea: 'FAR-I',
      topic: 'Cash Flows',
      difficulty: 'medium',
      explanation: 'Under U.S. GAAP, interest paid is classified as an operating activity.',
    },
    {
      id: 'far-d14',
      question: 'A loss contingency should be accrued when the loss is:',
      options: ['Possible and estimable', 'Probable and estimable', 'Remote and estimable', 'Probable and not estimable'],
      correctAnswer: 1,
      blueprintArea: 'FAR-III',
      topic: 'Contingencies',
      difficulty: 'easy',
      explanation: 'ASC 450: accrue when probable and reasonably estimable. Disclose if only possible.',
    },
    {
      id: 'far-d15',
      question: 'Under ASC 740, a deferred tax liability arises when:',
      options: ['Tax basis exceeds book basis of an asset', 'Book basis exceeds tax basis of an asset', 'Tax and book basis are equal', 'A net operating loss exists'],
      correctAnswer: 1,
      blueprintArea: 'FAR-III',
      topic: 'Income Taxes',
      difficulty: 'hard',
      explanation: 'When book basis > tax basis for an asset, future taxable amounts create a deferred tax liability.',
    },
    {
      id: 'far-d16',
      question: 'Government-wide financial statements use which basis of accounting?',
      options: ['Cash basis', 'Modified accrual basis', 'Accrual basis', 'Tax basis'],
      correctAnswer: 2,
      blueprintArea: 'FAR-IV',
      topic: 'Government Accounting Basics',
      difficulty: 'easy',
      explanation: 'Government-wide statements use the economic resources measurement focus and accrual basis.',
    },
    {
      id: 'far-d17',
      question: 'Which fund type is classified as a governmental fund?',
      options: ['Enterprise fund', 'Internal service fund', 'General fund', 'Investment trust fund'],
      correctAnswer: 2,
      blueprintArea: 'FAR-IV',
      topic: 'Fund Accounting',
      difficulty: 'easy',
      explanation: 'The General Fund is a governmental fund. Enterprise and Internal Service are proprietary funds.',
    },
    {
      id: 'far-d18',
      question: 'In governmental accounting, the modified accrual basis recognizes revenue when:',
      options: ['Earned', 'Measurable and available', 'Cash is received', 'Billed'],
      correctAnswer: 1,
      blueprintArea: 'FAR-IV',
      topic: 'Modified Accrual',
      difficulty: 'medium',
      explanation: 'Under modified accrual, revenue is recognized when measurable and available (collectible within 60 days).',
    },
    {
      id: 'far-d19',
      question: 'GASB requires what two government-wide financial statements?',
      options: ['Balance sheet and income statement', 'Statement of net position and statement of activities', 'Statement of revenues and statement of expenditures', 'Cash flow statement and equity statement'],
      correctAnswer: 1,
      blueprintArea: 'FAR-IV',
      topic: 'Government Financial Statements',
      difficulty: 'medium',
      explanation: 'Government-wide statements include the Statement of Net Position and Statement of Activities.',
    },
    {
      id: 'far-d20',
      question: 'A not-for-profit organization classifies net assets as:',
      options: ['Restricted and unrestricted only', 'Without donor restrictions and with donor restrictions', 'Current and noncurrent', 'Operating and nonoperating'],
      correctAnswer: 1,
      blueprintArea: 'FAR-V',
      topic: 'NFP Net Assets',
      difficulty: 'easy',
      explanation: 'ASU 2016-14: NFPs classify net assets as "without donor restrictions" and "with donor restrictions."',
    },
    {
      id: 'far-d21',
      question: 'Contributions received by a not-for-profit with donor-imposed time restrictions are reported as:',
      options: ['Revenue without donor restrictions', 'Revenue with donor restrictions', 'Deferred revenue', 'A liability'],
      correctAnswer: 1,
      blueprintArea: 'FAR-V',
      topic: 'NFP Contributions',
      difficulty: 'medium',
      explanation: 'Donor-imposed restrictions (time or purpose) = net assets with donor restrictions.',
    },
    {
      id: 'far-d22',
      question: 'In consolidation, intercompany transactions should be:',
      options: ['Reported separately', 'Eliminated', 'Disclosed in footnotes only', 'Recorded at fair value'],
      correctAnswer: 1,
      blueprintArea: 'FAR-III',
      topic: 'Consolidations',
      difficulty: 'easy',
      explanation: 'All intercompany transactions are eliminated in consolidated financial statements.',
    },
    {
      id: 'far-d23',
      question: 'Which of the following is a subsequent event that requires adjustment?',
      options: ['A fire destroying a warehouse after year-end', 'Settlement of litigation for a known pre-year-end dispute', 'A stock split declared after year-end', 'Acquisition of a new subsidiary'],
      correctAnswer: 1,
      blueprintArea: 'FAR-I',
      topic: 'Subsequent Events',
      difficulty: 'hard',
      explanation: 'Settlement of pre-existing litigation provides additional evidence about conditions at the balance sheet date (Type I).',
    },
    {
      id: 'far-d24',
      question: 'Treasury stock purchased under the cost method is reported as:',
      options: ['An asset', 'A reduction of stockholders\' equity', 'An expense', 'A liability'],
      correctAnswer: 1,
      blueprintArea: 'FAR-II',
      topic: 'Stockholders\' Equity',
      difficulty: 'easy',
      explanation: 'Treasury stock is a contra-equity account that reduces total stockholders\' equity.',
    },
    {
      id: 'far-d25',
      question: 'An entity must disclose a change in accounting principle by:',
      options: ['Prospective application only', 'Retrospective application to all prior periods presented', 'No disclosure is required', 'Current period adjustment only'],
      correctAnswer: 1,
      blueprintArea: 'FAR-I',
      topic: 'Accounting Changes',
      difficulty: 'hard',
      explanation: 'Changes in accounting principle generally require retrospective application and disclosure.',
    },
  ],
};

export const AUD_DIAGNOSTIC: DiagnosticQuiz = {
  courseId: 'cpa',
  section: 'AUD',
  title: 'AUD Diagnostic Assessment',
  description: 'Assess your readiness for Auditing and Attestation',
  timeLimit: 35,
  passingScore: 65,
  questions: [
    {
      id: 'aud-d01',
      question: 'The primary purpose of an audit of financial statements is to:',
      options: ['Detect fraud', 'Assess internal controls', 'Express an opinion on whether statements are fairly presented', 'Guarantee accuracy of financial statements'],
      correctAnswer: 2,
      blueprintArea: 'AUD-I',
      topic: 'Audit Objectives',
      difficulty: 'easy',
      explanation: 'The objective of an audit is to express an opinion on whether the F/S are free of material misstatement.',
    },
    {
      id: 'aud-d02',
      question: 'Independence in fact means the auditor:',
      options: ['Appears independent to third parties', 'Actually maintains an unbiased mental attitude', 'Is free from financial interest in the client', 'Has no family in the client\'s employ'],
      correctAnswer: 1,
      blueprintArea: 'AUD-I',
      topic: 'Independence',
      difficulty: 'easy',
      explanation: 'Independence in fact = mental state of objectivity. Independence in appearance = perception by others.',
    },
    {
      id: 'aud-d03',
      question: 'Which of the following impairs independence under AICPA rules?',
      options: ['Providing tax return preparation', 'Having a direct financial interest in an attest client', 'Performing consulting services', 'Providing bookkeeping with management oversight'],
      correctAnswer: 1,
      blueprintArea: 'AUD-I',
      topic: 'Ethics',
      difficulty: 'medium',
      explanation: 'Any direct financial interest in an attest client impairs independence, regardless of materiality.',
    },
    {
      id: 'aud-d04',
      question: 'Audit risk is the risk that the auditor:',
      options: ['Fails to detect fraud', 'Issues an inappropriate opinion on materially misstated statements', 'Overcharges the client', 'Is sued by the client'],
      correctAnswer: 1,
      blueprintArea: 'AUD-II',
      topic: 'Audit Risk Model',
      difficulty: 'easy',
      explanation: 'Audit risk = risk of issuing an inappropriate audit opinion when F/S are materially misstated.',
    },
    {
      id: 'aud-d05',
      question: 'The audit risk model is: AR = IR × CR × DR. If inherent risk and control risk are both assessed as high, the auditor should:',
      options: ['Accept higher detection risk', 'Set detection risk low', 'Withdraw from the engagement', 'Issue a disclaimer'],
      correctAnswer: 1,
      blueprintArea: 'AUD-II',
      topic: 'Audit Risk Model',
      difficulty: 'medium',
      explanation: 'When IR and CR are high, DR must be set low to keep overall audit risk acceptably low.',
    },
    {
      id: 'aud-d06',
      question: 'Materiality is determined based on:',
      options: ['A fixed dollar amount set by GAAP', 'The auditor\'s professional judgment', 'The client\'s request', 'SEC regulations'],
      correctAnswer: 1,
      blueprintArea: 'AUD-II',
      topic: 'Materiality',
      difficulty: 'easy',
      explanation: 'Materiality is a matter of auditor professional judgment based on user needs.',
    },
    {
      id: 'aud-d07',
      question: 'Which of the following is a substantive test?',
      options: ['Observing segregation of duties', 'Testing a sample of transactions for proper authorization', 'Confirming accounts receivable balances', 'Reviewing the organizational chart'],
      correctAnswer: 2,
      blueprintArea: 'AUD-III',
      topic: 'Substantive Testing',
      difficulty: 'easy',
      explanation: 'Confirmations test account balances directly — substantive tests of details.',
    },
    {
      id: 'aud-d08',
      question: 'An auditor is MOST likely to send a positive confirmation when:',
      options: ['There are many small balances', 'Individual balances are large', 'Control risk is low', 'Inherent risk is low'],
      correctAnswer: 1,
      blueprintArea: 'AUD-III',
      topic: 'Confirmations',
      difficulty: 'medium',
      explanation: 'Positive confirmations are used for large or unusual balances since they require a reply.',
    },
    {
      id: 'aud-d09',
      question: 'Analytical procedures are REQUIRED during which phase(s) of the audit?',
      options: ['Planning only', 'Substantive testing only', 'Planning and overall review', 'All phases'],
      correctAnswer: 2,
      blueprintArea: 'AUD-III',
      topic: 'Analytical Procedures',
      difficulty: 'medium',
      explanation: 'AU-C 520: analytical procedures are required in planning and overall review. Optional as substantive tests.',
    },
    {
      id: 'aud-d10',
      question: 'Which type of audit evidence is generally MOST reliable?',
      options: ['Client-prepared documents', 'External confirmations received directly by the auditor', 'Oral representations from management', 'Internally generated reports'],
      correctAnswer: 1,
      blueprintArea: 'AUD-III',
      topic: 'Audit Evidence',
      difficulty: 'easy',
      explanation: 'Evidence from independent external sources received directly by the auditor is most reliable.',
    },
    {
      id: 'aud-d11',
      question: 'A test of controls is designed to:',
      options: ['Detect material misstatements in account balances', 'Evaluate the operating effectiveness of internal controls', 'Verify account balances at year-end', 'Determine proper revenue recognition'],
      correctAnswer: 1,
      blueprintArea: 'AUD-III',
      topic: 'Tests of Controls',
      difficulty: 'easy',
      explanation: 'Tests of controls assess whether controls operated effectively throughout the period.',
    },
    {
      id: 'aud-d12',
      question: 'An unmodified (clean) audit opinion states that the financial statements:',
      options: ['Are guaranteed to be correct', 'Are free from all errors', 'Are presented fairly in all material respects', 'Have no deficiencies in internal controls'],
      correctAnswer: 2,
      blueprintArea: 'AUD-IV',
      topic: 'Audit Reports',
      difficulty: 'easy',
      explanation: 'An unmodified opinion = F/S are presented fairly, in all material respects, in accordance with GAAP.',
    },
    {
      id: 'aud-d13',
      question: 'A qualified opinion is issued when:',
      options: ['The auditor has no reservations', 'There is a material but not pervasive misstatement or scope limitation', 'The financial statements are pervasively misstated', 'The auditor lacks independence'],
      correctAnswer: 1,
      blueprintArea: 'AUD-IV',
      topic: 'Modified Opinions',
      difficulty: 'medium',
      explanation: 'Qualified = material but not pervasive. Adverse = material and pervasive. Disclaimer = scope limitation that is pervasive.',
    },
    {
      id: 'aud-d14',
      question: 'Going concern doubt requires the auditor to:',
      options: ['Issue an adverse opinion', 'Add an emphasis-of-matter paragraph', 'Withdraw from the engagement', 'Modify the scope of the audit'],
      correctAnswer: 1,
      blueprintArea: 'AUD-IV',
      topic: 'Going Concern',
      difficulty: 'medium',
      explanation: 'If substantial doubt about going concern exists, the auditor adds an emphasis-of-matter paragraph.',
    },
    {
      id: 'aud-d15',
      question: 'A management representation letter is obtained:',
      options: ['At the beginning of the audit', 'During risk assessment', 'At or near the date of the audit report', 'Only when issues are found'],
      correctAnswer: 2,
      blueprintArea: 'AUD-III',
      topic: 'Written Representations',
      difficulty: 'medium',
      explanation: 'The representation letter is dated at or near the audit report date.',
    },
    {
      id: 'aud-d16',
      question: 'The concept of professional skepticism requires the auditor to:',
      options: ['Assume management is dishonest', 'Maintain a questioning mind', 'Verify every single transaction', 'Never trust management representations'],
      correctAnswer: 1,
      blueprintArea: 'AUD-I',
      topic: 'Professional Skepticism',
      difficulty: 'easy',
      explanation: 'Professional skepticism: questioning mind, critically assessing audit evidence, not assuming dishonesty.',
    },
    {
      id: 'aud-d17',
      question: 'Which of the following is an inherent limitation of internal controls?',
      options: ['Proper segregation of duties', 'Competent personnel', 'Management override of controls', 'Regular reconciliations'],
      correctAnswer: 2,
      blueprintArea: 'AUD-II',
      topic: 'Internal Control Limitations',
      difficulty: 'medium',
      explanation: 'Management override is an inherent limitation — no system can prevent it completely.',
    },
    {
      id: 'aud-d18',
      question: 'In a review engagement, the accountant provides:',
      options: ['Reasonable assurance', 'Limited assurance', 'No assurance', 'Absolute assurance'],
      correctAnswer: 1,
      blueprintArea: 'AUD-IV',
      topic: 'Review Engagements',
      difficulty: 'easy',
      explanation: 'Reviews provide limited (moderate) assurance. Audits provide reasonable assurance.',
    },
    {
      id: 'aud-d19',
      question: 'PCAOB standards apply to audits of:',
      options: ['All private companies', 'SEC-registered (public) companies', 'Not-for-profit entities only', 'Government entities only'],
      correctAnswer: 1,
      blueprintArea: 'AUD-I',
      topic: 'PCAOB vs AICPA',
      difficulty: 'easy',
      explanation: 'PCAOB sets auditing standards for public companies (SEC issuers). AICPA standards apply to nonissuers.',
    },
    {
      id: 'aud-d20',
      question: 'What is the correct order of the five components of internal control (COSO)?',
      options: ['Risk assessment, control environment, monitoring, control activities, information', 'Control environment, risk assessment, control activities, information and communication, monitoring', 'Monitoring, control activities, risk assessment, control environment, information', 'Control activities, control environment, information, risk assessment, monitoring'],
      correctAnswer: 1,
      blueprintArea: 'AUD-II',
      topic: 'COSO Framework',
      difficulty: 'medium',
      explanation: 'COSO: Control Environment → Risk Assessment → Control Activities → Information & Communication → Monitoring.',
    },
    {
      id: 'aud-d21',
      question: 'Sampling risk is the risk that:',
      options: ['The sample is too expensive', 'The auditor\'s conclusion based on a sample differs from a conclusion based on the entire population', 'The sample size is zero', 'The client objects to sampling'],
      correctAnswer: 1,
      blueprintArea: 'AUD-III',
      topic: 'Audit Sampling',
      difficulty: 'medium',
      explanation: 'Sampling risk = sample-based conclusion differs from what testing the entire population would show.',
    },
    {
      id: 'aud-d22',
      question: 'The engagement letter is MOST important because it:',
      options: ['Sets the audit fee', 'Establishes the terms and objectives of the engagement', 'Guarantees no fraud exists', 'Replaces the management representation letter'],
      correctAnswer: 1,
      blueprintArea: 'AUD-I',
      topic: 'Engagement Letters',
      difficulty: 'easy',
      explanation: 'The engagement letter documents the understanding of the engagement terms between auditor and client.',
    },
    {
      id: 'aud-d23',
      question: 'Which assertion is the auditor testing when confirming accounts receivable?',
      options: ['Completeness', 'Existence', 'Presentation and disclosure', 'Rights and obligations'],
      correctAnswer: 1,
      blueprintArea: 'AUD-III',
      topic: 'Assertions',
      difficulty: 'medium',
      explanation: 'AR confirmations primarily test existence — do the recorded receivables actually exist?',
    },
    {
      id: 'aud-d24',
      question: 'A significant deficiency is:',
      options: ['A material weakness', 'A deficiency less severe than a material weakness but meriting attention', 'An immaterial control issue', 'Not reportable'],
      correctAnswer: 1,
      blueprintArea: 'AUD-IV',
      topic: 'Control Deficiencies',
      difficulty: 'medium',
      explanation: 'Significant deficiency: less severe than a material weakness, but important enough to merit attention by those charged with governance.',
    },
    {
      id: 'aud-d25',
      question: 'Fraud risk factors include all of the following EXCEPT:',
      options: ['Management incentive to misstate', 'Opportunity due to weak controls', 'Attitude/rationalization by employees', 'Strong ethical tone at the top'],
      correctAnswer: 3,
      blueprintArea: 'AUD-II',
      topic: 'Fraud',
      difficulty: 'easy',
      explanation: 'The fraud triangle: incentive, opportunity, rationalization. A strong ethical tone reduces fraud risk.',
    },
  ],
};

export const REG_DIAGNOSTIC: DiagnosticQuiz = {
  courseId: 'cpa',
  section: 'REG',
  title: 'REG Diagnostic Assessment',
  description: 'Assess your readiness for Regulation',
  timeLimit: 35,
  passingScore: 65,
  questions: [
    {
      id: 'reg-d01',
      question: 'Under Circular 230, a tax practitioner must NOT:',
      options: ['Charge a contingent fee for preparing an original tax return', 'Represent a client before the IRS', 'Sign a tax return as a paid preparer', 'Advise a client on tax planning'],
      correctAnswer: 0,
      blueprintArea: 'REG-I',
      topic: 'Circular 230',
      difficulty: 'medium',
      explanation: 'Circular 230 generally prohibits contingent fees for preparing original returns.',
    },
    {
      id: 'reg-d02',
      question: 'The statute of limitations for a federal tax return is generally:',
      options: ['1 year', '2 years', '3 years from the later of the due date or filing date', '5 years'],
      correctAnswer: 2,
      blueprintArea: 'REG-I',
      topic: 'Statute of Limitations',
      difficulty: 'easy',
      explanation: 'General SOL is 3 years from the later of the filing date or the due date.',
    },
    {
      id: 'reg-d03',
      question: 'Which of the following is an element needed to form a valid contract?',
      options: ['Written agreement', 'Notarized signatures', 'Legal capacity of the parties', 'Approval by a court'],
      correctAnswer: 2,
      blueprintArea: 'REG-II',
      topic: 'Contract Formation',
      difficulty: 'easy',
      explanation: 'Valid contracts require: offer, acceptance, consideration, legal capacity, and legality.',
    },
    {
      id: 'reg-d04',
      question: 'The Statute of Frauds requires which contracts to be in writing?',
      options: ['All contracts', 'Contracts for the sale of goods over $500 under UCC', 'Only employment contracts', 'Contracts between businesses only'],
      correctAnswer: 1,
      blueprintArea: 'REG-II',
      topic: 'Statute of Frauds',
      difficulty: 'medium',
      explanation: 'UCC Statute of Frauds: sale of goods ≥ $500 (also real estate, one-year+ contracts, suretyship, marriage).',
    },
    {
      id: 'reg-d05',
      question: 'An individual\'s standard deduction for 2024 (single filer under 65) is:',
      options: ['$12,950', '$13,850', '$14,600', '$15,200'],
      correctAnswer: 2,
      blueprintArea: 'REG-III',
      topic: 'Standard Deduction',
      difficulty: 'easy',
      explanation: 'For 2024, the single standard deduction is $14,600.',
    },
    {
      id: 'reg-d06',
      question: 'Which of the following is an above-the-line deduction?',
      options: ['Mortgage interest', 'State income taxes', 'Student loan interest', 'Charitable contributions'],
      correctAnswer: 2,
      blueprintArea: 'REG-III',
      topic: 'Adjustments to Income',
      difficulty: 'easy',
      explanation: 'Student loan interest (up to $2,500) is deducted above the line (adjustment to gross income).',
    },
    {
      id: 'reg-d07',
      question: 'The maximum contribution to a 401(k) plan for an employee under 50 in 2024 is:',
      options: ['$22,500', '$23,000', '$20,500', '$23,500'],
      correctAnswer: 1,
      blueprintArea: 'REG-III',
      topic: 'Retirement Plans',
      difficulty: 'medium',
      explanation: '2024 401(k) employee deferral limit is $23,000 ($30,500 with catch-up for 50+).',
    },
    {
      id: 'reg-d08',
      question: 'A C corporation is taxed at a flat rate of:',
      options: ['15%', '25%', '21%', '35%'],
      correctAnswer: 2,
      blueprintArea: 'REG-IV',
      topic: 'Corporate Taxation',
      difficulty: 'easy',
      explanation: 'Post-TCJA, C corporations are taxed at a flat 21% rate.',
    },
    {
      id: 'reg-d09',
      question: 'An S corporation shareholder\'s basis is increased by their share of:',
      options: ['Tax-exempt income', 'Nondeductible expenses', 'Distributions', 'None of the above'],
      correctAnswer: 0,
      blueprintArea: 'REG-IV',
      topic: 'S Corporation Basis',
      difficulty: 'medium',
      explanation: 'S corp basis increases for share of income (including tax-exempt) and decreases for distributions, losses, and nondeductible expenses.',
    },
    {
      id: 'reg-d10',
      question: 'A partnership is a:',
      options: ['Taxable entity', 'Pass-through entity', 'Tax-exempt entity', 'Corporation'],
      correctAnswer: 1,
      blueprintArea: 'REG-IV',
      topic: 'Partnership Basics',
      difficulty: 'easy',
      explanation: 'Partnerships are pass-through entities — income/loss flows to partners\' individual returns.',
    },
    {
      id: 'reg-d11',
      question: 'Section 1231 assets held more than one year that are sold at a gain are treated as:',
      options: ['Ordinary income', 'Long-term capital gain', 'Short-term capital gain', 'Tax-exempt income'],
      correctAnswer: 1,
      blueprintArea: 'REG-V',
      topic: 'Section 1231',
      difficulty: 'medium',
      explanation: 'Net §1231 gains are treated as long-term capital gains. Net §1231 losses are ordinary.',
    },
    {
      id: 'reg-d12',
      question: 'Like-kind exchanges under Section 1031 apply to:',
      options: ['Personal property exchanges', 'Stocks and bonds', 'Real property held for investment or business use', 'Inventory'],
      correctAnswer: 2,
      blueprintArea: 'REG-V',
      topic: 'Like-Kind Exchanges',
      difficulty: 'easy',
      explanation: 'Post-TCJA, §1031 only applies to real property held for productive use or investment.',
    },
    {
      id: 'reg-d13',
      question: 'The QBI (Qualified Business Income) deduction under Section 199A allows eligible taxpayers to deduct up to:',
      options: ['10% of QBI', '15% of QBI', '20% of QBI', '25% of QBI'],
      correctAnswer: 2,
      blueprintArea: 'REG-III',
      topic: 'QBI Deduction',
      difficulty: 'easy',
      explanation: 'Section 199A allows a deduction of up to 20% of qualified business income.',
    },
    {
      id: 'reg-d14',
      question: 'Which entity can have an unlimited number of shareholders?',
      options: ['S Corporation', 'C Corporation', 'Sole Proprietorship', 'Single-member LLC'],
      correctAnswer: 1,
      blueprintArea: 'REG-IV',
      topic: 'Entity Selection',
      difficulty: 'easy',
      explanation: 'C corporations can have unlimited shareholders. S corps are limited to 100.',
    },
    {
      id: 'reg-d15',
      question: 'Depreciation recapture under Section 1245 is taxed as:',
      options: ['Capital gain', 'Ordinary income', 'Tax-exempt', 'Passive income'],
      correctAnswer: 1,
      blueprintArea: 'REG-V',
      topic: 'Depreciation Recapture',
      difficulty: 'medium',
      explanation: 'Section 1245 recapture is taxed as ordinary income to the extent of prior depreciation.',
    },
    {
      id: 'reg-d16',
      question: 'A taxpayer who underreports income by more than 25% of gross income stated on the return faces a statute of limitations of:',
      options: ['3 years', '5 years', '6 years', '10 years'],
      correctAnswer: 2,
      blueprintArea: 'REG-I',
      topic: 'Substantial Omission',
      difficulty: 'hard',
      explanation: 'Substantial omission (>25% of gross income) extends the SOL to 6 years.',
    },
    {
      id: 'reg-d17',
      question: 'Under UCC Article 2, a merchant\'s firm offer is irrevocable for up to:',
      options: ['30 days', '60 days', '90 days', '120 days'],
      correctAnswer: 2,
      blueprintArea: 'REG-II',
      topic: 'UCC Sales',
      difficulty: 'hard',
      explanation: 'A merchant\'s firm written offer is irrevocable for the stated time, up to a maximum of 3 months (90 days).',
    },
    {
      id: 'reg-d18',
      question: 'Net investment income tax (NIIT) of 3.8% applies to individuals with MAGI above:',
      options: ['$150,000 (single)', '$200,000 (single)', '$250,000 (single)', '$300,000 (single)'],
      correctAnswer: 1,
      blueprintArea: 'REG-III',
      topic: 'NIIT',
      difficulty: 'medium',
      explanation: 'NIIT: 3.8% on lesser of NII or MAGI exceeding $200,000 (single) / $250,000 (MFJ).',
    },
    {
      id: 'reg-d19',
      question: 'A partner\'s basis in their partnership interest includes their share of:',
      options: ['Partnership liabilities', 'Other partners\' capital', 'Partnership expenses already deducted', 'None of the above'],
      correctAnswer: 0,
      blueprintArea: 'REG-IV',
      topic: 'Partnership Basis',
      difficulty: 'medium',
      explanation: 'A partner\'s basis includes cash + property contributed + share of partnership liabilities.',
    },
    {
      id: 'reg-d20',
      question: 'Installment sale gain is recognized:',
      options: ['Entirely in the year of sale', 'As payments are received', 'When the contract is signed', 'Only in the final year'],
      correctAnswer: 1,
      blueprintArea: 'REG-V',
      topic: 'Installment Sales',
      difficulty: 'easy',
      explanation: 'Under §453, gain from installment sales is recognized proportionally as payments are received.',
    },
    {
      id: 'reg-d21',
      question: 'The penalty for failure to file a tax return is:',
      options: ['0.5% per month', '5% per month up to 25%', '10% per month', '1% per month'],
      correctAnswer: 1,
      blueprintArea: 'REG-I',
      topic: 'Tax Penalties',
      difficulty: 'medium',
      explanation: 'Failure to file: 5% per month (max 25%). Failure to pay: 0.5% per month (max 25%).',
    },
    {
      id: 'reg-d22',
      question: 'In an agency relationship, the principal is liable for the agent\'s torts committed:',
      options: ['Only with written authorization', 'Within the scope of employment', 'Only after ratification', 'Never'],
      correctAnswer: 1,
      blueprintArea: 'REG-II',
      topic: 'Agency Law',
      difficulty: 'medium',
      explanation: 'Under respondeat superior, a principal/employer is liable for torts within the scope of employment.',
    },
    {
      id: 'reg-d23',
      question: 'The annual gift tax exclusion for 2024 is:',
      options: ['$15,000', '$16,000', '$17,000', '$18,000'],
      correctAnswer: 3,
      blueprintArea: 'REG-V',
      topic: 'Gift Tax',
      difficulty: 'easy',
      explanation: 'The 2024 annual gift tax exclusion is $18,000 per donee.',
    },
    {
      id: 'reg-d24',
      question: 'Section 179 allows immediate expensing of qualifying property up to what amount for 2024?',
      options: ['$500,000', '$750,000', '$1,000,000', '$1,160,000'],
      correctAnswer: 3,
      blueprintArea: 'REG-V',
      topic: 'Section 179',
      difficulty: 'medium',
      explanation: '2024 §179 limit is $1,160,000 (phased out when purchases exceed $2,890,000).',
    },
    {
      id: 'reg-d25',
      question: 'A taxpayer realizes a gain on the sale of a personal residence. Under Section 121, the exclusion for a single taxpayer is:',
      options: ['$100,000', '$250,000', '$500,000', '$750,000'],
      correctAnswer: 1,
      blueprintArea: 'REG-V',
      topic: 'Home Sale Exclusion',
      difficulty: 'easy',
      explanation: '§121 excludes up to $250,000 (single) or $500,000 (MFJ) of gain on personal residence.',
    },
  ],
};

// Export all CPA diagnostics
export const CPA_DIAGNOSTIC_QUIZZES: Record<string, DiagnosticQuiz> = {
  FAR: FAR_DIAGNOSTIC,
  AUD: AUD_DIAGNOSTIC,
  REG: REG_DIAGNOSTIC,
};
