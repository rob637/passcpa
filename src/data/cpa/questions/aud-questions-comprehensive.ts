// AUD - Auditing and Attestation Comprehensive Questions
// 2026 CPA Exam Blueprint Compliant
// World-Class expansion - Final batch

import { Question } from '../../../types';

export const AUD_QUESTIONS_COMPREHENSIVE: Question[] = [
  {
    id: 'aud-comp-001',
    section: 'AUD',
    courseId: 'cpa',
    topicId: 'aud-ethics',
    topic: 'Professional Ethics',
    subtopic: 'Independence Threats',
    difficulty: 'hard',
    blueprintArea: 'AUD-I',
    skillLevel: 'Analysis',
    question: 'A self-review threat to independence arises when:',
    options: [
      'The auditor evaluates results of their own previous services',
      'The auditor has a financial interest',
      'The client pressures the auditor',
      'A family member is employed by the client'
    ],
    correctAnswer: 0,
    explanation: 'Self-review threat: auditor won\'t appropriately evaluate results of their own previous judgment (e.g., prepared F/S now auditing). Other threats: self-interest, advocacy, familiarity, intimidation. Safeguards or withdrawal required.',
    reference: 'AICPA Code - Conceptual Framework',
  },
  {
    id: 'aud-comp-002',
    section: 'AUD',
    courseId: 'cpa',
    topicId: 'aud-planning',
    topic: 'Engagement Planning',
    subtopic: 'Group Audits',
    difficulty: 'hard',
    blueprintArea: 'AUD-II',
    skillLevel: 'Analysis',
    question: 'The group engagement partner is responsible for:',
    options: [
      'Direction, supervision, performance, and overall audit opinion including work of component auditors',
      'Only parent company audit',
      'Component auditor work only',
      'Consolidation only',
    ],
    correctAnswer: 0,
    explanation: 'Group engagement partner: overall responsibility for audit direction, supervision, performance. Must evaluate component auditor competence, communicate requirements, review work. Cannot divide responsibility for group opinion.',
    reference: 'AU-C 600',
  },
  {
    id: 'aud-comp-003',
    section: 'AUD',
    courseId: 'cpa',
    topicId: 'aud-risk',
    topic: 'Risk Assessment',
    subtopic: 'Significant Risks',
    difficulty: 'hard',
    blueprintArea: 'AUD-II',
    skillLevel: 'Analysis',
    question: 'Significant risks require the auditor to:',
    options: [
      'No special procedures',
      'Obtain an understanding of controls and perform substantive procedures specifically responsive to the risk',
      'Rely entirely on inquiry',
      'Issue a qualified opinion',
    ],
    correctAnswer: 1,
    explanation: 'Significant risks (material misstatement requiring special audit consideration): (1) understand related controls, (2) perform substantive procedures specifically responsive, (3) if testing controls, test in current period, (4) cannot use analytics alone.',
    reference: 'AU-C 330.15',
  },
  {
    id: 'aud-comp-004',
    section: 'AUD',
    courseId: 'cpa',
    topicId: 'aud-evidence',
    topic: 'Audit Evidence',
    subtopic: 'External Confirmations',
    difficulty: 'hard',
    blueprintArea: 'AUD-III',
    skillLevel: 'Analysis',
    question: 'When a confirmation request goes unanswered, the auditor should:',
    options: [
      'Issue a disclaimer',
      'Accept client records',
      'Perform alternative procedures or evaluate the effect of unable to obtain evidence',
      'Ignore the item',
    ],
    correctAnswer: 2,
    explanation: 'Non-response: send follow-up requests. If no response: perform alternative procedures (examine subsequent receipts, shipping documents, sales contracts). If unable to perform alternatives, evaluate impact on opinion.',
    reference: 'AU-C 505.12',
  },
  {
    id: 'aud-comp-005',
    section: 'AUD',
    courseId: 'cpa',
    topicId: 'aud-procedures',
    topic: 'Substantive Procedures',
    subtopic: 'Substantive Analytics',
    difficulty: 'hard',
    blueprintArea: 'AUD-III',
    skillLevel: 'Analysis',
    question: 'For substantive analytical procedures to be effective, the auditor must:',
    options: [
      'Compare to prior year only',
      'Develop an independent expectation with precision sufficient to identify material misstatement',
      'Use any available data',
      'Use unaudited data',
    ],
    correctAnswer: 1,
    explanation: 'Substantive analytics: (1) develop independent expectation using reliable data, (2) determine acceptable difference (threshold), (3) compare recorded amount to expectation, (4) investigate significant differences. Precision depends on risk.',
    reference: 'AU-C 520.A5',
  },
  {
    id: 'aud-comp-006',
    section: 'AUD',
    courseId: 'cpa',
    topicId: 'aud-controls',
    topic: 'Internal Control',
    subtopic: 'Control Deficiencies',
    difficulty: 'hard',
    blueprintArea: 'AUD-IV',
    skillLevel: 'Analysis',
    question: 'A material weakness exists when:',
    options: [
      'A deficiency or combination of deficiencies creates reasonable possibility that a material misstatement would not be prevented or detected timely',
      'Any control deficiency exists',
      'Management overrides controls',
      'Controls are not documented',
    ],
    correctAnswer: 0,
    explanation: 'Material weakness: reasonable possibility (more than remote) that material misstatement not prevented/detected timely. Significant deficiency: less severe but important enough to merit attention. Both require communication to governance.',
    reference: 'AU-C 265.07',
  },
  {
    id: 'aud-comp-007',
    section: 'AUD',
    courseId: 'cpa',
    topicId: 'aud-controls',
    topic: 'Tests of Controls',
    subtopic: 'Sample Size',
    difficulty: 'hard',
    blueprintArea: 'AUD-IV',
    skillLevel: 'Analysis',
    question: 'When testing controls, sample size is influenced by:',
    options: [
      'Time available',
      'Account balance only',
      'Client preference',
      'Tolerable rate of deviation, expected population deviation rate, and required confidence level',
    ],
    correctAnswer: 3,
    explanation: 'Control testing sample size factors: (1) lower tolerable deviation rate = larger sample, (2) higher expected deviation rate = larger sample, (3) higher confidence (lower risk of assessing control risk too low) = larger sample.',
    reference: 'AU-C 530.A11',
  },
  {
    id: 'aud-comp-008',
    courseId: 'cpa',
    section: 'AUD',
    blueprintArea: 'AUD-V',
    topic: 'Audit Reports',
    subtopic: 'Emphasis of Matter',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'An auditor issues an unqualified opinion on financial statements that contain a change in accounting principle from FIFO to weighted-average cost. The change is properly accounted for and disclosed under ASC 250. What additional paragraph is required in the audit report?',
    options: [
      'Other-matter paragraph noting the limitation of the audit',
      'Emphasis-of-matter paragraph highlighting the change in accounting principle',
      'No additional paragraph because the change is properly disclosed',
      'Explanatory paragraph expressing disagreement with the change',
    ],
    correctAnswer: 1,
    explanation: 'Under AU-C 708, when a material change in accounting principle has been properly accounted for and disclosed, the auditor adds an emphasis-of-matter paragraph (after the opinion paragraph) to draw attention to the change. The opinion remains unqualified because the change complies with GAAP, but users should be alerted to the comparability impact.',
    reference: 'AU-C 706',
  },
  {
    id: 'aud-comp-009',
    section: 'AUD',
    courseId: 'cpa',
    topicId: 'aud-reports',
    topic: 'Audit Reports',
    subtopic: 'Going Concern',
    difficulty: 'hard',
    blueprintArea: 'AUD-V',
    skillLevel: 'Analysis',
    question: 'When substantial doubt about going concern is not alleviated by management\'s plans:',
    options: [
      'Include explanatory paragraph if adequately disclosed; qualified or adverse if inadequate disclosure',
      'Issue adverse opinion',
      'Disclaim opinion',
      'Issue standard report'
    ],
    correctAnswer: 0,
    explanation: 'Going concern with substantial doubt: if adequately disclosed, unmodified opinion with explanatory paragraph (Emphasis of Matter or separate section). If inadequate disclosure: qualified or adverse opinion.',
    reference: 'AU-C 570',
  },
  {
    id: 'aud-comp-010',
    courseId: 'cpa',
    section: 'AUD',
    blueprintArea: 'AUD-V',
    topic: 'Review Engagements',
    subtopic: 'Review Report',
    difficulty: 'hard',
    skillLevel: 'Application',
    question: 'An auditor uses classical variables sampling to estimate the total value of accounts receivable. The sample yields a mean value of $520, a standard deviation of $180, and the population has 2,000 items. Using a 95% confidence level (Z = 1.96) and a sample of 100 items, what is the projected population value and the precision interval?',
    options: [
      'Projected value $1,040,000 with precision of ±$70,560',
      'Projected value $520,000 with precision of ±$52,000',
      'Projected value $1,040,000 with precision of ±$35,280',
      'Projected value $520,000 with precision of ±$104,000',
    ],
    correctAnswer: 0,
    explanation: 'Projected population value = Mean × Population size = $520 × 2,000 = $1,040,000. Standard error = SD / √n = $180 / √100 = $18. Precision = Z × SE × Population size = 1.96 × $18 × 2,000 = $70,560. The confidence interval is $1,040,000 ± $70,560, meaning the auditor is 95% confident the true population value falls between $969,440 and $1,110,560.',
    reference: 'AR-C 90',
  },
  {
    id: 'aud-comp-011',
    section: 'AUD',
    courseId: 'cpa',
    topicId: 'aud-estimates',
    topic: 'Auditing Estimates',
    subtopic: 'Methods',
    difficulty: 'hard',
    blueprintArea: 'AUD-III',
    skillLevel: 'Analysis',
    question: 'Methods to audit accounting estimates include:',
    options: [
      'Only inquiry',
      'Observing physical count',
      'Confirming with third parties only',
      'Testing management\'s process, developing independent estimate, and reviewing subsequent events'
    ],
    correctAnswer: 3,
    explanation: 'Estimate audit approaches: (1) test how management made estimate (data, assumptions, method), (2) develop independent point estimate or range, (3) review subsequent events/transactions for evidence. May use combination.',
    reference: 'AU-C 540.13',
  },
  {
    id: 'aud-comp-012',
    courseId: 'cpa',
    section: 'AUD',
    blueprintArea: 'AUD-III',
    topic: 'Sampling',
    subtopic: 'Monetary Unit Sampling',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'An auditor uses monetary unit sampling (MUS) to test accounts receivable. The population is $2 million with a sampling interval of $50,000. A $10,000 sample item is selected with a recorded amount of $10,000 and an audited amount of $8,000. What is the projected misstatement for this item using the tainting percentage approach?',
    options: [
      '$2,000',
      '$10,000',
      '$50,000',
      '$8,000',
    ],
    correctAnswer: 1,
    explanation: 'In MUS, the tainting percentage = (Recorded − Audited) / Recorded = ($10,000 − $8,000) / $10,000 = 20%. Projected misstatement = Tainting % × Sampling interval = 20% × $50,000 = $10,000. This projects the sample error across the entire population represented by the sampling interval, which is why small errors in sample items can project to large amounts.',
    reference: 'AU-C 530.A13',
  },
  {
    id: 'aud-comp-013',
    section: 'AUD',
    courseId: 'cpa',
    topicId: 'aud-it',
    topic: 'IT Considerations',
    subtopic: 'IT General Controls',
    difficulty: 'hard',
    blueprintArea: 'AUD-IV',
    skillLevel: 'Analysis',
    question: 'IT general controls affect:',
    options: [
      'Only financial reporting',
      'All applications that depend on IT by supporting application controls and data integrity',
      'Only specific applications',
      'Physical security only',
    ],
    correctAnswer: 1,
    explanation: 'ITGCs: pervasive controls affecting all applications. Categories: program development, program changes, access security, computer operations. Weakness in ITGCs undermines reliance on application controls throughout organization.',
    reference: 'AU-C 315.A51',
  },
  {
    id: 'aud-comp-014',
    section: 'AUD',
    courseId: 'cpa',
    topicId: 'aud-quality',
    topic: 'Quality Management',
    subtopic: 'Engagement Quality Review',
    difficulty: 'hard',
    blueprintArea: 'AUD-I',
    skillLevel: 'Analysis',
    question: 'An engagement quality reviewer evaluates:',
    options: [
      'Marketing materials',
      'Staff performance reviews',
      'Only the final report',
      'Significant judgments, conclusions, and whether engagement performed in accordance with standards',
    ],
    correctAnswer: 3,
    explanation: 'EQR (required for certain engagements): evaluate significant judgments, conclusions reached, appropriateness of opinion, documentation of significant matters, engagement team qualifications, consultation quality.',
    reference: 'SQMS No. 2',
  },
  {
    id: 'aud-comp-015',
    section: 'AUD',
    courseId: 'cpa',
    topicId: 'aud-reports',
    topic: 'Special Reports',
    subtopic: 'Letters for Underwriters',
    difficulty: 'hard',
    blueprintArea: 'AUD-V',
    skillLevel: 'Analysis',
    question: 'A comfort letter to underwriters typically includes:',
    options: [
      'Tax advice',
      'Independence confirmation, adherence to SEC requirements, and negative assurance on unaudited information',
      'An audit opinion',
      'Valuation of securities',
    ],
    correctAnswer: 1,
    explanation: 'Comfort letter contents: auditor independence, compliance with SEC requirements, negative assurance on changes since latest F/S, agreed-upon procedures on specific items. Due diligence requirement for underwriters.',
    reference: 'AU-C 920',
  },
  {
    id: 'aud-comp-016',
    section: 'AUD',
    courseId: 'cpa',
    topicId: 'aud-communications',
    topic: 'Communications',
    subtopic: 'Deficiency Communication',
    difficulty: 'hard',
    blueprintArea: 'AUD-V',
    skillLevel: 'Application',
    question: 'Significant deficiencies and material weaknesses must be communicated:',
    options: [
      'Orally only',
      'In writing to those charged with governance within 60 days of report release',
      'Only to management',
      'To the SEC only',
    ],
    correctAnswer: 1,
    explanation: 'Written communication of significant deficiencies and material weaknesses to governance within 60 days of report release. May communicate lesser deficiencies. Must communicate even if previously communicated and not corrected.',
    reference: 'AU-C 265.12',
  },
  {
    id: 'aud-comp-017',
    section: 'AUD',
    courseId: 'cpa',
    topicId: 'aud-assertions',
    topic: 'Revenue Testing',
    subtopic: 'Completeness',
    difficulty: 'hard',
    blueprintArea: 'AUD-III',
    skillLevel: 'Analysis',
    question: 'To test completeness of revenue, the auditor should:',
    options: [
      'Trace from shipping documents to sales journal and ledger',
      'Confirm all sales',
      'Vouch from ledger to shipping documents',
      'Review credit memos',
    ],
    correctAnswer: 0,
    explanation: 'Completeness: trace FROM source documents TO records. Start with population of shipments/services provided and verify recorded. Vouch (from records to source) tests existence/occurrence. Direction of testing is critical.',
    reference: 'AU-C 500 - Assertion Testing',
  },
  {
    id: 'aud-comp-018',
    section: 'AUD',
    courseId: 'cpa',
    topicId: 'aud-inventory',
    topic: 'Inventory',
    subtopic: 'Observation Timing',
    difficulty: 'hard',
    blueprintArea: 'AUD-III',
    skillLevel: 'Analysis',
    question: 'If the auditor is unable to attend the physical inventory count:',
    options: [
      'Ignore inventory',
      'Accept client\'s count',
      'Disclaim opinion',
      'Perform alternative procedures such as test counts on another date and roll forward/back',
    ],
    correctAnswer: 3,
    explanation: 'Unable to attend count: perform alternative procedures (count at another date, roll forward/back using records, review perpetual records, test intervening transactions). If impracticable, modify opinion.',
    reference: 'AU-C 501.07',
  },
  {
    id: 'aud-comp-019',
    courseId: 'cpa',
    section: 'AUD',
    blueprintArea: 'AUD-II',
    topic: 'Fraud',
    subtopic: 'Fraud Triangle',
    difficulty: 'medium',
    skillLevel: 'Application',
    question: 'An entity\'s CFO recently received a performance warning for missing quarterly targets. The CFO has sole authority over journal entries with limited management oversight. During the audit, the auditor notices unusual adjusting entries near quarter-end. Which fraud triangle element is represented by each observation?',
    options: [
      'All three observations relate to opportunity',
      'Performance warning = pressure/incentive, sole authority = opportunity, unusual entries = potential execution of fraud',
      'Performance warning = rationalization, sole authority = pressure, unusual entries = opportunity',
      'These are not relevant to fraud risk assessment',
    ],
    correctAnswer: 1,
    explanation: 'Performance warning creating personal financial pressure = incentive/pressure. Sole authority over journal entries with limited oversight = opportunity (weak controls enabling fraud). Unusual quarter-end entries = potential evidence of fraud execution, which may serve as a starting point for investigation. The auditor should respond with targeted journal entry testing and increased scrutiny of the CFO\'s entries.',
    reference: 'AU-C 240.A1',
  },
  {
    id: 'aud-comp-020',
    section: 'AUD',
    courseId: 'cpa',
    topicId: 'aud-documentation',
    topic: 'Documentation',
    subtopic: 'Experienced Auditor Standard',
    difficulty: 'hard',
    blueprintArea: 'AUD-III',
    skillLevel: 'Application',
    question: 'Audit documentation should be sufficient for:',
    options: [
      'Any reader to understand',
      'An experienced auditor with no prior connection to understand work performed and conclusions',
      'Client management only',
      'Regulatory filing only',
    ],
    correctAnswer: 1,
    explanation: 'Documentation standard: sufficient for experienced auditor (with no prior engagement connection) to understand nature, timing, extent of procedures, results, and basis for conclusions. Document significant matters.',
    reference: 'AU-C 230.08',
  },
  {
    id: 'aud-comp-021',
    section: 'AUD',
    courseId: 'cpa',
    topicId: 'aud-related',
    topic: 'Related Parties',
    subtopic: 'Audit Procedures',
    difficulty: 'hard',
    blueprintArea: 'AUD-III',
    skillLevel: 'Analysis',
    question: 'For related party transactions, the auditor should evaluate whether:',
    options: [
      'Only if they are disclosed',
      'They are properly identified, accounted for, and disclosed, and whether business purpose exists',
      'Prices are at market',
      'Management approved them',
    ],
    correctAnswer: 1,
    explanation: 'Related party procedures: (1) identify all related parties, (2) evaluate accounting treatment and disclosure, (3) consider business rationale (fraud indicator if lacking), (4) verify authorization, (5) obtain representations.',
    reference: 'AU-C 550',
  },
  {
    id: 'aud-comp-022',
    section: 'AUD',
    courseId: 'cpa',
    topicId: 'aud-subsequent',
    topic: 'Subsequent Events',
    subtopic: 'Dual Dating',
    difficulty: 'hard',
    blueprintArea: 'AUD-III',
    skillLevel: 'Analysis',
    question: 'Dual dating of the audit report is used when:',
    options: [
      'A subsequent event is disclosed but the auditor limits responsibility to that specific event after original date',
      'Two auditors sign',
      'The report is amended',
      'Two years are presented',
    ],
    correctAnswer: 0,
    explanation: 'Dual dating: "Date, except for Note X which is [later date]." Limits responsibility for subsequent events procedures to specific disclosed item after original report date. Alternative: extend all procedures to later date.',
    reference: 'AU-C 560.14',
  },
  {
    id: 'aud-comp-023',
    courseId: 'cpa',
    section: 'AUD',
    blueprintArea: 'AUD-V',
    topic: 'Compilation Engagements',
    subtopic: 'Requirements',
    difficulty: 'medium',
    skillLevel: 'Application',
    question: 'A CPA issues a compilation report on financial statements that include a departure from GAAP — the client expenses all research costs but capitalizes development costs without meeting ASC 730 criteria. What modification is required to the compilation report?',
    options: [
      'The CPA must issue a qualified opinion',
      'The CPA should add a separate paragraph disclosing the departure and its known effects',
      'No modification is needed because compilations do not provide assurance',
      'The CPA must withdraw from the engagement',
    ],
    correctAnswer: 1,
    explanation: 'When the CPA is aware of a GAAP departure in compiled financial statements, AR-C 80.20 requires the CPA to: (1) modify the compilation report to disclose the departure, (2) describe the departure in a separate paragraph, and (3) include the dollar effects if known. Unlike an audit, the CPA does not issue an opinion, but must alert users to the known departure.',
    reference: 'AR-C 80',
  },
  {
    id: 'aud-comp-024',
    section: 'AUD',
    courseId: 'cpa',
    topicId: 'aud-attestation',
    topic: 'Attestation',
    subtopic: 'SOC 1 Reports',
    difficulty: 'hard',
    blueprintArea: 'AUD-V',
    skillLevel: 'Analysis',
    question: 'A SOC 1 Type 2 report provides:',
    options: [
      'Review-level assurance only',
      'No assurance on operating effectiveness',
      'Opinion on controls at a point in time',
      'Opinion on description, design, and operating effectiveness of controls over a period',
    ],
    correctAnswer: 3,
    explanation: 'SOC 1 Type 2: opinion on (1) fair presentation of system description, (2) suitable design, (3) operating effectiveness over period (vs. Type 1 = point in time, no operating effectiveness). For user auditor reliance.',
    reference: 'AT-C 320',
  },
  {
    id: 'aud-comp-025',
    section: 'AUD',
    courseId: 'cpa',
    topicId: 'aud-ethics',
    topic: 'Professional Ethics',
    subtopic: 'Non-Attest Services',
    difficulty: 'hard',
    blueprintArea: 'AUD-I',
    skillLevel: 'Evaluation',
    question: 'When providing non-attest services to an attest client, independence is maintained by:',
    options: [
      'Ensuring management takes responsibility, establishing understanding, and not performing management functions',
      'Providing any service',
      'Charging higher fees',
      'Using different staff',
    ],
    correctAnswer: 0,
    explanation: 'Non-attest services safeguards: (1) management takes responsibility for results, (2) written understanding of services, (3) accountant doesn\'t perform management functions or make management decisions. Some services prohibited (audit of own work).',
    reference: 'AICPA Code ET §1.295',
  },
];
