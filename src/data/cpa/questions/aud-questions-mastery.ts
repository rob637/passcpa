// AUD - Auditing Mastery Questions
// 2026 CPA Exam Blueprint Compliant
// World-Class expansion - Mastery batch

import { Question } from '../../../types';

export const AUD_QUESTIONS_MASTERY: Question[] = [
  {
    id: 'aud-mast-001',
    section: 'AUD',
    courseId: 'cpa',
    topicId: 'aud-ethics',
    topic: 'Professional Ethics',
    subtopic: 'Partner Rotation',
    difficulty: 'hard',
    blueprintArea: 'AUD-I',
    skillLevel: 'Application',
    question: 'For SEC issuers, lead and concurring partner rotation requires:',
    options: [
      'No rotation required',
      '10-year rotation',
      'Rotation after 5 consecutive years with 5-year cooling off period',
      'Annual rotation',
    ],
    correctAnswer: 2,
    explanation: 'SOX partner rotation: lead engagement partner, concurring review partner - rotate after 5 years, 5-year cooling off. Other partners: rotate after 7 years, 2-year cooling off. Private companies: less stringent.',
    reference: 'SOX §203, AICPA Code',
  },
  {
    id: 'aud-mast-002',
    section: 'AUD',
    courseId: 'cpa',
    topicId: 'aud-planning',
    topic: 'Engagement Planning',
    subtopic: 'Materiality Revision',
    difficulty: 'hard',
    blueprintArea: 'AUD-II',
    skillLevel: 'Analysis',
    question: 'Performance materiality is revised during the audit when:',
    options: [
      'Client requests',
      'Never revised',
      'Only at year-end',
      'Circumstances change or auditor becomes aware of information that would have caused different initial determination',
    ],
    correctAnswer: 3,
    explanation: 'Revise materiality: circumstances change (e.g., entity sold division), or new information indicates initial determination inappropriate. If revised lower: reconsider adequacy of procedures performed, may need additional work.',
    reference: 'AU-C 320.13',
  },
  {
    id: 'aud-mast-003',
    section: 'AUD',
    courseId: 'cpa',
    topicId: 'aud-risk',
    topic: 'Risk Assessment',
    subtopic: 'Spectrum of Risk',
    difficulty: 'hard',
    blueprintArea: 'AUD-II',
    skillLevel: 'Evaluation',
    question: 'The auditor assesses inherent risk on a spectrum considering:',
    options: [
      'Historical errors only',
      'Materiality only',
      'Likelihood of misstatement and magnitude, ranging from lower to higher on the spectrum',
      'Only high or low',
    ],
    correctAnswer: 2,
    explanation: 'Risk spectrum: inherent risk assessed considering likelihood AND magnitude. Higher spectrum = more persuasive evidence needed. Factors: complexity, subjectivity, change, uncertainty, susceptibility to fraud/management bias.',
    reference: 'AU-C 315 (revised)',
  },
  {
    id: 'aud-mast-004',
    section: 'AUD',
    courseId: 'cpa',
    topicId: 'aud-evidence',
    topic: 'Audit Evidence',
    subtopic: 'Management Representations',
    difficulty: 'hard',
    blueprintArea: 'AUD-III',
    skillLevel: 'Analysis',
    question: 'A written representation letter from management:',
    options: [
      'Substitutes for other audit procedures',
      'Only needed if requested',
      'Is optional',
      'Is required and complementary to other audit procedures but not a substitute',
    ],
    correctAnswer: 3,
    explanation: 'Management representations: required, dated as of audit report date, signed by appropriate levels. Does NOT substitute for other procedures. If refused or unreliable: scope limitation, withdraw, or disclaim. Covers key audit areas.',
    reference: 'AU-C 580',
  },
  {
    id: 'aud-mast-005',
    section: 'AUD',
    courseId: 'cpa',
    topicId: 'aud-procedures',
    topic: 'Audit Procedures',
    subtopic: 'Recalculation',
    difficulty: 'medium',
    blueprintArea: 'AUD-III',
    skillLevel: 'Application',
    question: 'Recalculation as an audit procedure provides evidence about:',
    options: [
      'Completeness',
      'Mathematical accuracy of documents and records',
      'Rights',
      'Existence',
    ],
    correctAnswer: 1,
    explanation: 'Recalculation: check mathematical accuracy. Examples: foot a schedule, verify depreciation calculation, check inventory extension (quantity × price). Tests accuracy assertion. Highly reliable - auditor performs independently.',
    reference: 'AU-C 500.A21',
  },
  {
    id: 'aud-mast-006',
    section: 'AUD',
    courseId: 'cpa',
    topicId: 'aud-controls',
    topic: 'Internal Control',
    subtopic: 'Entity-Level Controls',
    difficulty: 'hard',
    blueprintArea: 'AUD-IV',
    skillLevel: 'Analysis',
    question: 'Entity-level controls that operate with precision to detect or prevent misstatements:',
    options: [
      'Are not tested',
      'Eliminate fraud risk',
      'May reduce the need for testing at the transaction level',
      'Replace all process controls',
    ],
    correctAnswer: 2,
    explanation: 'Entity-level controls: pervasive effect on ICFR. Precise ELCs (certain monitoring controls) may prevent/detect misstatements directly. Less precise ELCs require transaction-level testing. Consider in risk assessment.',
    reference: 'PCAOB AS 2201.22',
  },
  {
    id: 'aud-mast-007',
    section: 'AUD',
    courseId: 'cpa',
    topicId: 'aud-controls',
    topic: 'Internal Control',
    subtopic: 'Compensating Controls',
    difficulty: 'hard',
    blueprintArea: 'AUD-IV',
    skillLevel: 'Analysis',
    question: 'A compensating control:',
    options: [
      'Is always sufficient',
      'Eliminates the deficiency',
      'Mitigates but may not fully remediate a control deficiency when combined with other controls',
      'Replaces a deficient control entirely',
    ],
    correctAnswer: 2,
    explanation: 'Compensating control: addresses same assertion/risk as deficient control. May reduce severity of deficiency but evaluate whether fully compensates. Consider: timing, who performs, precision. Document evaluation.',
    reference: 'PCAOB AS 2201.70',
  },
  {
    id: 'aud-mast-008',
    section: 'AUD',
    courseId: 'cpa',
    topicId: 'aud-reports',
    topic: 'Audit Reports',
    subtopic: 'Critical Audit Matters',
    difficulty: 'hard',
    blueprintArea: 'AUD-IV',
    skillLevel: 'Evaluation',
    question: 'Critical Audit Matters (CAMs) are communicated to governance and:',
    options: [
      'Never disclosed',
      'Optional disclosure',
      'Required in the auditor\'s report for public company audits, describing the matter and how it was addressed',
      'Disclosed only in management\'s discussion',
    ],
    correctAnswer: 2,
    explanation: 'CAMs (PCAOB for public companies): matters communicated to audit committee, relate to material accounts/disclosures, involved especially challenging/subjective/complex auditor judgment. Describe matter, why CAM, how addressed.',
    reference: 'PCAOB AS 3101',
  },
  {
    id: 'aud-mast-009',
    courseId: 'cpa',
    section: 'AUD',
    blueprintArea: 'AUD-IV',
    topic: 'Audit Reports',
    subtopic: 'Adverse Opinion',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'An auditor determines that a client\'s revenue recognition policy materially overstates revenue by recognizing it before the performance obligation is satisfied (ASC 606). The misstatement is pervasive, affecting 60% of reported revenue. What opinion should the auditor issue?',
    options: [
      'Qualified opinion because the misstatement is material',
      'Adverse opinion because the misstatement is both material and pervasive',
      'Disclaimer of opinion because the auditor cannot determine the correct revenue amount',
      'Unqualified opinion with an emphasis-of-matter paragraph',
    ],
    correctAnswer: 1,
    explanation: 'An adverse opinion is required when the auditor concludes that misstatements are both material and pervasive to the financial statements as a whole (AU-C 705). Revenue overstatement affecting 60% of revenue is clearly pervasive — it distorts income, assets, likely cash flows, and most financial statement ratios. A qualified opinion would be insufficient because the effects are not isolated to a single account or disclosure.',
    reference: 'AU-C 705.08',
  },
  {
    id: 'aud-mast-010',
    section: 'AUD',
    courseId: 'cpa',
    topicId: 'aud-reports',
    topic: 'Audit Reports',
    subtopic: 'Other Information',
    difficulty: 'hard',
    blueprintArea: 'AUD-IV',
    skillLevel: 'Application',
    question: 'When reading other information in documents containing audited F/S, the auditor should:',
    options: [
      'Ignore it',
      'Audit the other information',
      'Sign off on it',
      'Consider whether it is materially inconsistent with F/S or auditor\'s knowledge from the audit',
    ],
    correctAnswer: 3,
    explanation: 'Other information (annual report, etc.): read and consider if materially inconsistent with F/S or auditor\'s knowledge. If material inconsistency: discuss with management. If unresolved: consider effect on report, communicate to governance.',
    reference: 'AU-C 720',
  },
  {
    id: 'aud-mast-011',
    section: 'AUD',
    courseId: 'cpa',
    topicId: 'aud-estimates',
    topic: 'Auditing Estimates',
    subtopic: 'Retrospective Review',
    difficulty: 'hard',
    blueprintArea: 'AUD-III',
    skillLevel: 'Analysis',
    question: 'Retrospective review of prior year estimates helps the auditor:',
    options: [
      'Restate prior F/S',
      'Audit prior years',
      'Test internal controls',
      'Identify management bias, assess estimation risk, and inform current year audit approach',
    ],
    correctAnswer: 3,
    explanation: 'Retrospective review: compare prior estimates to outcomes. Identifies: management bias (optimism/pessimism patterns), estimation uncertainty inherent in process, how changes in conditions affect estimates. Informs current year risk assessment.',
    reference: 'AU-C 540.14',
  },
  {
    id: 'aud-mast-012',
    section: 'AUD',
    courseId: 'cpa',
    topicId: 'aud-sampling',
    topic: 'Sampling',
    subtopic: 'Nonprobabilistic Sampling',
    difficulty: 'hard',
    blueprintArea: 'AUD-III',
    skillLevel: 'Analysis',
    question: 'Nonprobabilistic (nonstatistical) sampling:',
    options: [
      'Always requires larger samples',
      'Does not allow projection of results mathematically but requires professional judgment to evaluate',
      'Is more reliable than statistical',
      'Is never acceptable',
    ],
    correctAnswer: 1,
    explanation: 'Nonprobabilistic: items selected based on judgment (haphazard, block). Cannot measure sampling risk mathematically. Professional judgment to evaluate results. Both statistical and nonstatistical can be effective if properly applied.',
    reference: 'AU-C 530.A8',
  },
  {
    id: 'aud-mast-013',
    section: 'AUD',
    courseId: 'cpa',
    topicId: 'aud-it',
    topic: 'IT Considerations',
    subtopic: 'SOC Report Utilization',
    difficulty: 'hard',
    blueprintArea: 'AUD-IV',
    skillLevel: 'Analysis',
    question: 'When using a Type 2 SOC 1 report, the user auditor should:',
    options: [
      'Evaluate report scope, complementary user entity controls, and any exceptions noted',
      'Reperform all tests',
      'Ignore it',
      'Rely entirely on it',
    ],
    correctAnswer: 0,
    explanation: 'User auditor evaluation: (1) service auditor reputation/competence, (2) report scope and timing, (3) complementary user entity controls (CUECs), (4) exceptions noted and effect, (5) subservice organizations (carve-out vs. inclusive).',
    reference: 'AU-C 402',
  },
  {
    id: 'aud-mast-014',
    section: 'AUD',
    courseId: 'cpa',
    topicId: 'aud-quality',
    topic: 'Quality Management',
    subtopic: 'SQMS 1',
    difficulty: 'hard',
    blueprintArea: 'AUD-I',
    skillLevel: 'Analysis',
    question: 'Under SQMS 1, a firm\'s system of quality management includes:',
    options: [
      'Peer review only',
      'Only engagement procedures',
      'Audit methodology only',
      'Risk assessment process, governance, ethics, acceptance, resources, engagement performance, and monitoring',
    ],
    correctAnswer: 3,
    explanation: 'SQMS 1 components: (1) risk assessment process, (2) governance/leadership, (3) ethical requirements, (4) acceptance/continuance, (5) engagement performance, (6) resources, (7) information/communication, (8) monitoring/remediation.',
    reference: 'SQMS No. 1',
  },
  {
    id: 'aud-mast-015',
    section: 'AUD',
    courseId: 'cpa',
    topicId: 'aud-reports',
    topic: 'Special Reports',
    subtopic: 'Special Purpose Frameworks',
    difficulty: 'hard',
    blueprintArea: 'AUD-IV',
    skillLevel: 'Application',
    question: 'Special purpose framework financial statements include:',
    options: [
      'Compilations only',
      'IFRS only',
      'Cash basis, tax basis, regulatory basis, and contractual basis financial statements',
      'GAAP statements only',
    ],
    correctAnswer: 2,
    explanation: 'Special purpose frameworks (OCBOA): cash basis, tax basis, regulatory basis, contractual basis, other with definite criteria. Restricted use alert if regulatory/contractual. Describe framework in report. Adequate disclosure required.',
    reference: 'AU-C 800',
  },
  {
    id: 'aud-mast-016',
    section: 'AUD',
    courseId: 'cpa',
    topicId: 'aud-communications',
    topic: 'Communications',
    subtopic: 'Required Communications Timing',
    difficulty: 'hard',
    blueprintArea: 'AUD-IV',
    skillLevel: 'Application',
    question: 'The auditor must communicate significant deficiencies to governance:',
    options: [
      'Only if requested',
      'Annually',
      'Before audit completion',
      'In writing no later than 60 days after the report release date',
    ],
    correctAnswer: 3,
    explanation: 'Written communication: significant deficiencies and material weaknesses within 60 days of report release. Planning matters: at planning. Other required communications: appropriate times during audit. Significant issues shouldn\'t be surprises.',
    reference: 'AU-C 265.12',
  },
  {
    id: 'aud-mast-017',
    section: 'AUD',
    courseId: 'cpa',
    topicId: 'aud-assertions',
    topic: 'Accounts Payable',
    subtopic: 'Completeness Testing',
    difficulty: 'hard',
    blueprintArea: 'AUD-III',
    skillLevel: 'Analysis',
    question: 'To test completeness of accounts payable:',
    options: [
      'Confirm all payables',
      'Vouch from A/P ledger',
      'Count inventory',
      'Search for unrecorded liabilities by examining subsequent disbursements and unmatched receiving reports',
    ],
    correctAnswer: 3,
    explanation: 'A/P completeness: examine subsequent disbursements (paid after year-end for pre-year-end goods/services), review unmatched receiving reports, review open purchase orders, vendor statements, compare to prior year.',
    reference: 'AU-C 500 - Completeness',
  },
  {
    id: 'aud-mast-018',
    section: 'AUD',
    courseId: 'cpa',
    topicId: 'aud-fraud',
    topic: 'Fraud',
    subtopic: 'Revenue Recognition Presumption',
    difficulty: 'hard',
    blueprintArea: 'AUD-II',
    skillLevel: 'Evaluation',
    question: 'The presumption of fraud risk related to revenue recognition:',
    options: [
      'Never applies',
      'Only applies to public companies',
      'Is rebuttable if the auditor concludes there are no identified risks of material misstatement due to fraud',
      'Always applies',
    ],
    correctAnswer: 2,
    explanation: 'Revenue fraud presumption: assumed significant risk unless rebutted. Rebut by: no identified fraud risks related to revenue. Must document: which types of revenue or assertions involve risk, or basis for rebuttal. Consider all fraud triangle factors.',
    reference: 'AU-C 240.26',
  },
  {
    id: 'aud-mast-019',
    section: 'AUD',
    courseId: 'cpa',
    topicId: 'aud-documentation',
    topic: 'Documentation',
    subtopic: 'Assembly Deadline',
    difficulty: 'medium',
    blueprintArea: 'AUD-III',
    skillLevel: 'Application',
    question: 'The audit documentation assembly deadline is:',
    options: [
      '90 days after report',
      'Year-end',
      '60 days after report release date (45 days for SEC issuers)',
      '30 days after report',
    ],
    correctAnswer: 2,
    explanation: 'Documentation assembly: complete final file within 60 days of report release (AU-C 230). SEC issuers: 45 days (PCAOB). After assembly, no deletion. Additions must be documented. Retention: 5 years minimum (7 years SEC).',
    reference: 'AU-C 230.15',
  },
  {
    id: 'aud-mast-020',
    section: 'AUD',
    courseId: 'cpa',
    topicId: 'aud-related',
    topic: 'Related Parties',
    subtopic: 'Identification',
    difficulty: 'hard',
    blueprintArea: 'AUD-III',
    skillLevel: 'Analysis',
    question: 'Procedures to identify related parties include:',
    options: [
      'Inquiry, review of entity records, evaluate unusual transactions, inspect board minutes',
      'Confirmation only',
      'Observation only',
      'Only inquiry of management',
    ],
    correctAnswer: 0,
    explanation: 'Identify related parties: inquiry (management, governance), review prior workpapers, inspect shareholder records, board minutes, contracts, significant transactions, evaluate unusual terms, review confirmations for guarantors, consider SEC filings.',
    reference: 'AU-C 550.13',
  },
  {
    id: 'aud-mast-021',
    section: 'AUD',
    courseId: 'cpa',
    topicId: 'aud-subsequent',
    topic: 'Subsequent Events',
    subtopic: 'Discovery After Report',
    difficulty: 'hard',
    blueprintArea: 'AUD-III',
    skillLevel: 'Evaluation',
    question: 'If the auditor discovers facts after report issuance that would have affected the report:',
    options: [
      'Notify regulators only',
      'Take no action',
      'Issue disclaimer',
      'Discuss with management, consider need for revised F/S, extend procedures, issue new report',
    ],
    correctAnswer: 3,
    explanation: 'Post-report discovery: discuss with management/governance. If F/S need revision: perform procedures on revision, issue new report on revised F/S. If management won\'t revise: notify those relying on F/S (if practicable), consider legal advice.',
    reference: 'AU-C 560.17',
  },
  {
    id: 'aud-mast-022',
    section: 'AUD',
    courseId: 'cpa',
    topicId: 'aud-special',
    topic: 'Preparation Engagements',
    subtopic: 'Requirements',
    difficulty: 'medium',
    blueprintArea: 'AUD-IV',
    skillLevel: 'Application',
    question: 'In a financial statement preparation engagement:',
    options: [
      'No report is issued, but a legend on F/S states no assurance provided',
      'Independence required',
      'Assurance is provided',
      'A report is required',
    ],
    correctAnswer: 0,
    explanation: 'Preparation engagement: assist management in presenting F/S. No assurance. No report required. Legend on each page: "no assurance provided." Independence not required but disclose if not independent. Understand applicable framework.',
    reference: 'AR-C 70',
  },
  {
    id: 'aud-mast-023',
    section: 'AUD',
    courseId: 'cpa',
    topicId: 'aud-attestation',
    topic: 'Attestation',
    subtopic: 'Examination vs Agreed-Upon',
    difficulty: 'hard',
    blueprintArea: 'AUD-IV',
    skillLevel: 'Analysis',
    question: 'The key difference between examination and agreed-upon procedures is:',
    options: [
      'No difference',
      'Examination provides opinion on subject matter while AUP reports findings without opinion',
      'AUP provides more assurance',
      'Examination is faster',
    ],
    correctAnswer: 1,
    explanation: 'Examination: reasonable assurance, opinion on subject matter. AUP: no assurance/opinion, reports factual findings of specified procedures. AUP restricted to specified parties who agree to procedures. Review provides limited assurance.',
    reference: 'AT-C 205, 215',
  },
  {
    id: 'aud-mast-024',
    section: 'AUD',
    courseId: 'cpa',
    topicId: 'aud-ethics',
    topic: 'Professional Ethics',
    subtopic: 'Gifts and Entertainment',
    difficulty: 'hard',
    blueprintArea: 'AUD-I',
    skillLevel: 'Evaluation',
    question: 'Accepting gifts or entertainment from an attest client:',
    options: [
      'Is always acceptable',
      'Only prohibited for partners',
      'May impair independence if not reasonable in circumstances or if would be viewed as inappropriate',
      'Is always prohibited',
    ],
    correctAnswer: 2,
    explanation: 'Gifts/entertainment: evaluate threats to independence. Factors: value, nature, frequency, intent. Reasonable business courtesies may be acceptable. Excessive = self-interest/familiarity threat. Apply safeguards or decline.',
    reference: 'AICPA Code ET §1.285',
  },
  {
    id: 'aud-mast-025',
    section: 'AUD',
    courseId: 'cpa',
    topicId: 'aud-reports',
    topic: 'Reports on Controls',
    subtopic: 'ICFR Opinion',
    difficulty: 'hard',
    blueprintArea: 'AUD-IV',
    skillLevel: 'Analysis',
    question: 'An adverse opinion on ICFR is required when:',
    options: [
      'Significant deficiencies exist',
      'Management\'s assessment is qualified',
      'One or more material weaknesses exist as of the assessment date',
      'Any deficiency exists',
    ],
    correctAnswer: 2,
    explanation: 'ICFR opinion: adverse if material weakness exists as of assessment date (not just during year). Material weakness = reasonable possibility material misstatement not prevented/detected. Express on both management\'s assessment and effectiveness.',
    reference: 'PCAOB AS 2201.71',
  },
];
