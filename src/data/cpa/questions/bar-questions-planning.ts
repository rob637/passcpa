// BAR-IV Financial Planning and Risk Management Questions
// Addressing Blueprint coverage gap

import { Question } from '../../../types';

export const BAR_QUESTIONS_PLANNING: Question[] = [
  // Capital Budgeting
  {
    id: 'bar-plan-001',
    section: 'BAR',
    courseId: 'cpa',
    blueprintArea: 'BAR-IV',
    blueprintGroup: 'BAR-IV-A',
    topicId: 'bar-planning',
    topic: 'Financial Planning',
    subtopic: 'Capital Budgeting',
    difficulty: 'easy',
    skillLevel: 'Remembering and Understanding',
    question: 'The Net Present Value (NPV) method requires which of the following?',
    options: [
      'Historical financial data only',
      'Payback period calculation',
      'Straight-line depreciation',
      'A discount rate to present value future cash flows',
    ],
    correctAnswer: 3,
    explanation: 'NPV discounts all future cash flows to their present value using a required rate of return (discount rate), then subtracts the initial investment. A positive NPV indicates the project adds value.',
    reference: 'Capital Budgeting',
  },
  {
    id: 'bar-plan-002',
    section: 'BAR',
    courseId: 'cpa',
    blueprintArea: 'BAR-IV',
    blueprintGroup: 'BAR-IV-A',
    topicId: 'bar-planning',
    topic: 'Financial Planning',
    subtopic: 'Capital Budgeting',
    difficulty: 'medium',
    skillLevel: 'Application',
    question: 'A project has an initial investment of $100,000 and generates cash flows of $30,000 per year for 5 years. If the discount rate is 10%, which statement is true?',
    options: [
      'The IRR is exactly 10%',
      'The payback period is 3.33 years',
      'The project should be rejected',
      'The NPV is positive (approximately $13,724)',
    ],
    correctAnswer: 3,
    explanation: 'NPV = -$100,000 + $30,000 × PVIFA(10%, 5 years). PVIFA = 3.7908. NPV = -$100,000 + ($30,000 × 3.7908) = -$100,000 + $113,724 = $13,724. Positive NPV means accept the project.',
    reference: 'Capital Budgeting',
  },
  {
    id: 'bar-plan-003',
    section: 'BAR',
    courseId: 'cpa',
    blueprintArea: 'BAR-IV',
    blueprintGroup: 'BAR-IV-A',
    topicId: 'bar-planning',
    topic: 'Financial Planning',
    subtopic: 'IRR',
    difficulty: 'medium',
    skillLevel: 'Application',
    question: 'The Internal Rate of Return (IRR) is defined as:',
    options: [
      'The average annual return on investment',
      'The interest rate charged by banks',
      'The rate of return required by shareholders',
      'The discount rate that makes NPV equal to zero',
    ],
    correctAnswer: 3,
    explanation: 'IRR is the discount rate at which the present value of cash inflows equals the present value of cash outflows (NPV = 0). Accept projects where IRR exceeds the required rate of return.',
    reference: 'Capital Budgeting',
  },
  {
    id: 'bar-plan-004',
    section: 'BAR',
    courseId: 'cpa',
    blueprintArea: 'BAR-IV',
    blueprintGroup: 'BAR-IV-A',
    topicId: 'bar-planning',
    topic: 'Financial Planning',
    subtopic: 'Payback Period',
    difficulty: 'easy',
    skillLevel: 'Remembering and Understanding',
    question: 'The payback period method has which significant limitation?',
    options: [
      'It is too complex to calculate',
      'It requires a discount rate',
      'It cannot handle uneven cash flows',
      'It ignores the time value of money',
    ],
    correctAnswer: 3,
    explanation: 'The simple payback period ignores the time value of money—it treats $1 received in Year 5 the same as $1 received in Year 1. It also ignores cash flows after the payback period.',
    reference: 'Capital Budgeting',
  },
  {
    id: 'bar-plan-005',
    section: 'BAR',
    courseId: 'cpa',
    blueprintArea: 'BAR-IV',
    blueprintGroup: 'BAR-IV-A',
    topicId: 'bar-planning',
    topic: 'Financial Planning',
    subtopic: 'Profitability Index',
    difficulty: 'medium',
    skillLevel: 'Application',
    question: 'A project has a present value of cash inflows of $150,000 and requires an initial investment of $120,000. What is the profitability index?',
    options: [
      '0.25',
      '1.20',
      '0.80',
      '1.25',
    ],
    correctAnswer: 3,
    explanation: 'Profitability Index (PI) = PV of cash inflows ÷ Initial investment = $150,000 ÷ $120,000 = 1.25. A PI > 1.0 indicates the project adds value and should be accepted.',
    reference: 'Capital Budgeting',
  },
  // Working Capital Management
  {
    id: 'bar-plan-006',
    section: 'BAR',
    courseId: 'cpa',
    blueprintArea: 'BAR-IV',
    blueprintGroup: 'BAR-IV-B',
    topicId: 'bar-planning',
    topic: 'Financial Planning',
    subtopic: 'Working Capital',
    difficulty: 'easy',
    skillLevel: 'Remembering and Understanding',
    question: 'Working capital is calculated as:',
    options: [
      'Cash minus accounts payable',
      'Fixed assets minus long-term debt',
      'Total assets minus total liabilities',
      'Current assets minus current liabilities',
    ],
    correctAnswer: 3,
    explanation: 'Working capital = Current assets - Current liabilities. It measures short-term liquidity and the company\'s ability to meet obligations within one year.',
    reference: 'Working Capital Management',
  },
  {
    id: 'bar-plan-007',
    courseId: 'cpa',
    section: 'BAR',
    blueprintArea: 'BAR-IV',
    topic: 'Financial Planning',
    subtopic: 'Cash Conversion Cycle',
    difficulty: 'medium',
    skillLevel: 'Application',
    question: 'Mercury Corp. has DIO of 60 days, DSO of 45 days, and DPO of 50 days. If Mercury negotiates with suppliers to increase DPO to 65 days without affecting other metrics, what is the new cash conversion cycle?',
    options: [
      '40 days',
      '55 days',
      '30 days',
      '45 days',
    ],
    correctAnswer: 0,
    explanation: 'Original CCC = DIO + DSO − DPO = 60 + 45 − 50 = 55 days. New CCC with increased DPO = 60 + 45 − 65 = 40 days. By extending payment terms by 15 days (from 50 to 65), Mercury reduces its CCC by 15 days. This means Mercury needs less working capital to fund its operating cycle, improving cash flow without changing inventory or receivables management.',
    reference: 'Working Capital Management',
  },
  {
    id: 'bar-plan-008',
    section: 'BAR',
    courseId: 'cpa',
    blueprintArea: 'BAR-IV',
    blueprintGroup: 'BAR-IV-B',
    topicId: 'bar-planning',
    topic: 'Financial Planning',
    subtopic: 'Cash Management',
    difficulty: 'medium',
    skillLevel: 'Application',
    question: 'A company can reduce its cash conversion cycle by:',
    options: [
      'Increasing inventory levels',
      'Paying suppliers more quickly',
      'Negotiating longer payment terms with suppliers',
      'Extending payment terms to customers',
    ],
    correctAnswer: 2,
    explanation: 'Longer payment terms increase Days Payables Outstanding (DPO), which reduces the cash conversion cycle. The formula subtracts DPO, so increasing it shortens the cycle.',
    reference: 'Working Capital Management',
  },
  // Budgeting
  {
    id: 'bar-plan-009',
    section: 'BAR',
    courseId: 'cpa',
    blueprintArea: 'BAR-IV',
    blueprintGroup: 'BAR-IV-C',
    topicId: 'bar-planning',
    topic: 'Financial Planning',
    subtopic: 'Budgeting',
    difficulty: 'easy',
    skillLevel: 'Remembering and Understanding',
    question: 'A flexible budget differs from a static budget because it:',
    options: [
      'Does not include sales forecasts',
      'Is prepared only at year-end',
      'Uses only fixed costs',
      'Adjusts budgeted amounts for actual activity levels',
    ],
    correctAnswer: 3,
    explanation: 'A flexible budget adjusts for actual activity levels, allowing meaningful variance analysis. A static budget is prepared for one expected activity level and does not adjust.',
    reference: 'Budgeting',
  },
  {
    id: 'bar-plan-010',
    section: 'BAR',
    courseId: 'cpa',
    blueprintArea: 'BAR-IV',
    blueprintGroup: 'BAR-IV-C',
    topicId: 'bar-planning',
    topic: 'Financial Planning',
    subtopic: 'Master Budget',
    difficulty: 'medium',
    skillLevel: 'Application',
    question: 'In preparing a master budget, which budget is typically prepared first?',
    options: [
      'Cost of goods sold budget',
      'Production budget',
      'Sales budget',
      'Cash budget',
    ],
    correctAnswer: 2,
    explanation: 'The sales budget is the starting point for the master budget. All other budgets (production, direct materials, direct labor, manufacturing overhead, etc.) are derived from expected sales.',
    reference: 'Budgeting',
  },
  // Risk Management
  {
    id: 'bar-plan-011',
    section: 'BAR',
    courseId: 'cpa',
    blueprintArea: 'BAR-IV',
    blueprintGroup: 'BAR-IV-D',
    topicId: 'bar-planning',
    topic: 'Risk Management',
    subtopic: 'Hedging',
    difficulty: 'medium',
    skillLevel: 'Application',
    question: 'A company expecting to receive euros in 90 days should hedge currency risk by:',
    options: [
      'Buying a euro call option',
      'Selling a euro put option',
      'Buying euros forward',
      'Selling euros forward',
    ],
    correctAnswer: 3,
    explanation: 'If receiving euros in the future, the company faces risk that euros will depreciate. Selling euros forward locks in the exchange rate, eliminating the risk. They are selling what they will receive.',
    reference: 'Risk Management',
  },
  {
    id: 'bar-plan-012',
    section: 'BAR',
    courseId: 'cpa',
    blueprintArea: 'BAR-IV',
    blueprintGroup: 'BAR-IV-D',
    topicId: 'bar-planning',
    topic: 'Risk Management',
    subtopic: 'Interest Rate Risk',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'A company with floating-rate debt is concerned about rising interest rates. To hedge this risk, it could enter into an interest rate swap to:',
    options: [
      'Pay floating, receive fixed',
      'Pay floating to two counterparties',
      'Receive fixed from two counterparties',
      'Pay fixed, receive floating',
    ],
    correctAnswer: 3,
    explanation: 'To hedge floating-rate debt against rising rates, pay fixed and receive floating in the swap. The floating rate received offsets the floating debt payment, leaving a fixed rate overall.',
    reference: 'Risk Management',
  },
  {
    id: 'bar-plan-013',
    section: 'BAR',
    courseId: 'cpa',
    blueprintArea: 'BAR-IV',
    blueprintGroup: 'BAR-IV-D',
    topicId: 'bar-planning',
    topic: 'Risk Management',
    subtopic: 'Commodity Risk',
    difficulty: 'medium',
    skillLevel: 'Application',
    question: 'An airline concerned about rising fuel prices would hedge by:',
    options: [
      'Selling fuel put options',
      'Selling fuel futures',
      'Entering a swap to pay floating fuel prices',
      'Buying fuel futures or call options',
    ],
    correctAnswer: 3,
    explanation: 'Buying fuel futures or call options protects against rising prices. If prices rise, the futures/options gain value, offsetting higher spot prices. This locks in maximum fuel costs.',
    reference: 'Risk Management',
  },
  {
    id: 'bar-plan-014',
    section: 'BAR',
    courseId: 'cpa',
    blueprintArea: 'BAR-IV',
    blueprintGroup: 'BAR-IV-E',
    topicId: 'bar-planning',
    topic: 'Risk Management',
    subtopic: 'Enterprise Risk',
    difficulty: 'easy',
    skillLevel: 'Remembering and Understanding',
    question: 'Enterprise Risk Management (ERM) differs from traditional risk management because ERM:',
    options: [
      'Eliminates all business risks',
      'Is required only for public companies',
      'Focuses only on financial risks',
      'Takes an integrated, organization-wide approach to risk',
    ],
    correctAnswer: 3,
    explanation: 'ERM takes a holistic, integrated view of all risks across the organization (strategic, operational, financial, compliance) rather than managing risks in silos.',
    reference: 'COSO ERM Framework',
  },
  {
    id: 'bar-plan-015',
    section: 'BAR',
    courseId: 'cpa',
    blueprintArea: 'BAR-IV',
    blueprintGroup: 'BAR-IV-A',
    topicId: 'bar-planning',
    topic: 'Financial Planning',
    subtopic: 'Capital Budgeting',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'When evaluating mutually exclusive projects with different lives, the best approach is to use:',
    options: [
      'Equivalent Annual Annuity (EAA) or Replacement Chain approach',
      'Profitability index ratio',
      'Simple payback period comparison',
      'IRR comparison only',
    ],
    correctAnswer: 0,
    explanation: 'For mutually exclusive projects with different lives, use EAA (converts NPV to annual equivalent) or Replacement Chain (extends projects to a common life). Direct NPV comparison is unfair when lives differ.',
    reference: 'Capital Budgeting',
  },
  // Forecasting
  {
    id: 'bar-plan-016',
    section: 'BAR',
    courseId: 'cpa',
    blueprintArea: 'BAR-IV',
    blueprintGroup: 'BAR-IV-C',
    topicId: 'bar-planning',
    topic: 'Financial Planning',
    subtopic: 'Pro Forma Statements',
    difficulty: 'medium',
    skillLevel: 'Application',
    question: 'The percentage-of-sales method for forecasting assumes that:',
    options: [
      'Sales will remain constant',
      'Fixed costs will decrease proportionally',
      'All assets will be sold at year end',
      'Certain balance sheet items vary directly with sales',
    ],
    correctAnswer: 3,
    explanation: 'The percentage-of-sales method assumes certain items (accounts receivable, inventory, accounts payable) vary proportionally with sales. It projects these items as a percentage of forecasted sales.',
    reference: 'Financial Planning',
  },
  {
    id: 'bar-plan-017',
    section: 'BAR',
    courseId: 'cpa',
    blueprintArea: 'BAR-IV',
    blueprintGroup: 'BAR-IV-C',
    topicId: 'bar-planning',
    topic: 'Financial Planning',
    subtopic: 'External Financing',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'A company has $1,000,000 in sales and expects 20% growth. Its profit margin is 5%, dividend payout is 40%, and assets equal 60% of sales. The Additional Funds Needed (AFN) would be approximately:',
    options: [
      '$36,000',
      '$84,000',
      '$60,000',
      '$120,000',
    ],
    correctAnswer: 1,
    explanation: 'AFN = (A/S × ΔS) - (L/S × ΔS) - (M × S₁ × RR). Assuming L/S = 0 for simplicity: AFN = (0.60 × $200,000) - (0.05 × $1,200,000 × 0.60) = $120,000 - $36,000 = $84,000 (approximately, depending on spontaneous liabilities assumed).',
    reference: 'Financial Planning',
  },
  {
    id: 'bar-plan-018',
    section: 'BAR',
    courseId: 'cpa',
    blueprintArea: 'BAR-IV',
    blueprintGroup: 'BAR-IV-B',
    topicId: 'bar-planning',
    topic: 'Financial Planning',
    subtopic: 'Inventory Management',
    difficulty: 'medium',
    skillLevel: 'Application',
    question: 'The Economic Order Quantity (EOQ) model minimizes:',
    options: [
      'Lead time for orders',
      'Total inventory on hand',
      'Only carrying costs',
      'Total ordering and carrying costs',
    ],
    correctAnswer: 3,
    explanation: 'EOQ balances ordering costs (which decrease with larger orders) and carrying costs (which increase with larger orders) to find the order quantity that minimizes total inventory costs.',
    reference: 'Inventory Management',
  },
  {
    id: 'bar-plan-019',
    courseId: 'cpa',
    section: 'BAR',
    blueprintArea: 'BAR-IV',
    topic: 'Risk Management',
    subtopic: 'Risk Metrics',
    difficulty: 'medium',
    skillLevel: 'Application',
    question: 'A risk manager calculates that a portfolio with a market value of $50 million has a 1-day 95% VaR of $1.2 million. Over a 5-day trading period, what is the approximate VaR (assuming independent daily returns)?',
    options: [
      '$6.0 million',
      '$2.68 million',
      '$1.2 million',
      '$4.8 million',
    ],
    correctAnswer: 1,
    explanation: 'Multi-day VaR is scaled from 1-day VaR using the square root of time rule: VaR(T days) = VaR(1 day) × √T. 5-day VaR = $1.2M × √5 = $1.2M × 2.236 = $2.68 million. This rule assumes returns are independent and identically distributed. The 95% confidence level means there is a 5% probability the portfolio will lose more than $2.68 million over 5 days.',
    reference: 'Risk Management',
  },
  {
    id: 'bar-plan-020',
    section: 'BAR',
    courseId: 'cpa',
    blueprintArea: 'BAR-IV',
    blueprintGroup: 'BAR-IV-A',
    topicId: 'bar-planning',
    topic: 'Financial Planning',
    subtopic: 'Sensitivity Analysis',
    difficulty: 'easy',
    skillLevel: 'Remembering and Understanding',
    question: 'Sensitivity analysis in capital budgeting is used to:',
    options: [
      'Calculate the exact NPV',
      'Guarantee project success',
      'Replace the need for NPV calculation',
      'Determine how changes in key variables affect project outcomes',
    ],
    correctAnswer: 3,
    explanation: 'Sensitivity analysis examines how changes in key assumptions (sales volume, price, costs, discount rate) affect project NPV or IRR. It identifies which variables most impact project value.',
    reference: 'Capital Budgeting',
  },
];
