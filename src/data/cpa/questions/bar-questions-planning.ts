// BAR-IV Financial Planning and Risk Management Questions
// Addressing Blueprint coverage gap

import { Question } from '../../../types';

export const BAR_QUESTIONS_PLANNING: Question[] = [
  // Capital Budgeting
  {
    id: 'bar-plan-001',
    section: 'BAR',
    blueprintArea: 'BAR-IV',
    blueprintGroup: 'BAR-IV-A',
    topicId: 'bar-planning',
    topic: 'Financial Planning',
    subtopic: 'Capital Budgeting',
    difficulty: 'easy',
    question: 'The Net Present Value (NPV) method requires which of the following?',
    options: [
      'Payback period calculation',
      'A discount rate to present value future cash flows',
      'Straight-line depreciation',
      'Historical financial data only'
    ],
    correctAnswer: 1,
    explanation: 'NPV discounts all future cash flows to their present value using a required rate of return (discount rate), then subtracts the initial investment. A positive NPV indicates the project adds value.',
    reference: 'Capital Budgeting',
    skillLevel: 'Remembering and Understanding',
  },
  {
    id: 'bar-plan-002',
    section: 'BAR',
    blueprintArea: 'BAR-IV',
    blueprintGroup: 'BAR-IV-A',
    topicId: 'bar-planning',
    topic: 'Financial Planning',
    subtopic: 'Capital Budgeting',
    difficulty: 'medium',
    question: 'A project has an initial investment of $100,000 and generates cash flows of $30,000 per year for 5 years. If the discount rate is 10%, which statement is true?',
    options: [
      'The payback period is 3.33 years',
      'The NPV is positive (approximately $13,724)',
      'The IRR is exactly 10%',
      'The project should be rejected'
    ],
    correctAnswer: 1,
    explanation: 'NPV = -$100,000 + $30,000 × PVIFA(10%, 5 years). PVIFA = 3.7908. NPV = -$100,000 + ($30,000 × 3.7908) = -$100,000 + $113,724 = $13,724. Positive NPV means accept the project.',
    reference: 'Capital Budgeting',
    skillLevel: 'Application',
  },
  {
    id: 'bar-plan-003',
    section: 'BAR',
    blueprintArea: 'BAR-IV',
    blueprintGroup: 'BAR-IV-A',
    topicId: 'bar-planning',
    topic: 'Financial Planning',
    subtopic: 'IRR',
    difficulty: 'medium',
    question: 'The Internal Rate of Return (IRR) is defined as:',
    options: [
      'The average annual return on investment',
      'The discount rate that makes NPV equal to zero',
      'The interest rate charged by banks',
      'The rate of return required by shareholders'
    ],
    correctAnswer: 1,
    explanation: 'IRR is the discount rate at which the present value of cash inflows equals the present value of cash outflows (NPV = 0). Accept projects where IRR exceeds the required rate of return.',
    reference: 'Capital Budgeting',
    skillLevel: 'Remembering and Understanding',
  },
  {
    id: 'bar-plan-004',
    section: 'BAR',
    blueprintArea: 'BAR-IV',
    blueprintGroup: 'BAR-IV-A',
    topicId: 'bar-planning',
    topic: 'Financial Planning',
    subtopic: 'Payback Period',
    difficulty: 'easy',
    question: 'The payback period method has which significant limitation?',
    options: [
      'It is too complex to calculate',
      'It ignores the time value of money',
      'It requires a discount rate',
      'It cannot handle uneven cash flows'
    ],
    correctAnswer: 1,
    explanation: 'The simple payback period ignores the time value of money—it treats $1 received in Year 5 the same as $1 received in Year 1. It also ignores cash flows after the payback period.',
    reference: 'Capital Budgeting',
    skillLevel: 'Remembering and Understanding',
  },
  {
    id: 'bar-plan-005',
    section: 'BAR',
    blueprintArea: 'BAR-IV',
    blueprintGroup: 'BAR-IV-A',
    topicId: 'bar-planning',
    topic: 'Financial Planning',
    subtopic: 'Profitability Index',
    difficulty: 'medium',
    question: 'A project has a present value of cash inflows of $150,000 and requires an initial investment of $120,000. What is the profitability index?',
    options: [
      '0.80',
      '1.25',
      '1.20',
      '0.25'
    ],
    correctAnswer: 1,
    explanation: 'Profitability Index (PI) = PV of cash inflows ÷ Initial investment = $150,000 ÷ $120,000 = 1.25. A PI > 1.0 indicates the project adds value and should be accepted.',
    reference: 'Capital Budgeting',
    skillLevel: 'Application',
  },
  // Working Capital Management
  {
    id: 'bar-plan-006',
    section: 'BAR',
    blueprintArea: 'BAR-IV',
    blueprintGroup: 'BAR-IV-B',
    topicId: 'bar-planning',
    topic: 'Financial Planning',
    subtopic: 'Working Capital',
    difficulty: 'easy',
    question: 'Working capital is calculated as:',
    options: [
      'Total assets minus total liabilities',
      'Current assets minus current liabilities',
      'Fixed assets minus long-term debt',
      'Cash minus accounts payable'
    ],
    correctAnswer: 1,
    explanation: 'Working capital = Current assets - Current liabilities. It measures short-term liquidity and the company\'s ability to meet obligations within one year.',
    reference: 'Working Capital Management',
    skillLevel: 'Remembering and Understanding',
  },
  {
    id: 'bar-plan-007',
    section: 'BAR',
    blueprintArea: 'BAR-IV',
    blueprintGroup: 'BAR-IV-B',
    topicId: 'bar-planning',
    topic: 'Financial Planning',
    subtopic: 'Cash Conversion Cycle',
    difficulty: 'medium',
    question: 'The cash conversion cycle equals:',
    options: [
      'Days inventory outstanding + days sales outstanding + days payables outstanding',
      'Days inventory outstanding + days sales outstanding - days payables outstanding',
      'Days sales outstanding - days inventory outstanding',
      'Days payables outstanding - days inventory outstanding'
    ],
    correctAnswer: 1,
    explanation: 'Cash Conversion Cycle = Days Inventory Outstanding + Days Sales Outstanding - Days Payables Outstanding. It measures how long cash is tied up in the operating cycle before being recovered.',
    reference: 'Working Capital Management',
    skillLevel: 'Remembering and Understanding',
  },
  {
    id: 'bar-plan-008',
    section: 'BAR',
    blueprintArea: 'BAR-IV',
    blueprintGroup: 'BAR-IV-B',
    topicId: 'bar-planning',
    topic: 'Financial Planning',
    subtopic: 'Cash Management',
    difficulty: 'medium',
    question: 'A company can reduce its cash conversion cycle by:',
    options: [
      'Increasing inventory levels',
      'Extending payment terms to customers',
      'Negotiating longer payment terms with suppliers',
      'Paying suppliers more quickly'
    ],
    correctAnswer: 2,
    explanation: 'Longer payment terms increase Days Payables Outstanding (DPO), which reduces the cash conversion cycle. The formula subtracts DPO, so increasing it shortens the cycle.',
    reference: 'Working Capital Management',
    skillLevel: 'Application',
  },
  // Budgeting
  {
    id: 'bar-plan-009',
    section: 'BAR',
    blueprintArea: 'BAR-IV',
    blueprintGroup: 'BAR-IV-C',
    topicId: 'bar-planning',
    topic: 'Financial Planning',
    subtopic: 'Budgeting',
    difficulty: 'easy',
    question: 'A flexible budget differs from a static budget because it:',
    options: [
      'Is prepared only at year-end',
      'Adjusts budgeted amounts for actual activity levels',
      'Uses only fixed costs',
      'Does not include sales forecasts'
    ],
    correctAnswer: 1,
    explanation: 'A flexible budget adjusts for actual activity levels, allowing meaningful variance analysis. A static budget is prepared for one expected activity level and does not adjust.',
    reference: 'Budgeting',
    skillLevel: 'Remembering and Understanding',
  },
  {
    id: 'bar-plan-010',
    section: 'BAR',
    blueprintArea: 'BAR-IV',
    blueprintGroup: 'BAR-IV-C',
    topicId: 'bar-planning',
    topic: 'Financial Planning',
    subtopic: 'Master Budget',
    difficulty: 'medium',
    question: 'In preparing a master budget, which budget is typically prepared first?',
    options: [
      'Production budget',
      'Cash budget',
      'Sales budget',
      'Cost of goods sold budget'
    ],
    correctAnswer: 2,
    explanation: 'The sales budget is the starting point for the master budget. All other budgets (production, direct materials, direct labor, manufacturing overhead, etc.) are derived from expected sales.',
    reference: 'Budgeting',
    skillLevel: 'Remembering and Understanding',
  },
  // Risk Management
  {
    id: 'bar-plan-011',
    section: 'BAR',
    blueprintArea: 'BAR-IV',
    blueprintGroup: 'BAR-IV-D',
    topicId: 'bar-planning',
    topic: 'Risk Management',
    subtopic: 'Hedging',
    difficulty: 'medium',
    question: 'A company expecting to receive euros in 90 days should hedge currency risk by:',
    options: [
      'Buying a euro call option',
      'Selling euros forward',
      'Buying euros forward',
      'Selling a euro put option'
    ],
    correctAnswer: 1,
    explanation: 'If receiving euros in the future, the company faces risk that euros will depreciate. Selling euros forward locks in the exchange rate, eliminating the risk. They are selling what they will receive.',
    reference: 'Risk Management',
    skillLevel: 'Application',
  },
  {
    id: 'bar-plan-012',
    section: 'BAR',
    blueprintArea: 'BAR-IV',
    blueprintGroup: 'BAR-IV-D',
    topicId: 'bar-planning',
    topic: 'Risk Management',
    subtopic: 'Interest Rate Risk',
    difficulty: 'hard',
    question: 'A company with floating-rate debt is concerned about rising interest rates. To hedge this risk, it could enter into an interest rate swap to:',
    options: [
      'Pay floating, receive fixed',
      'Pay fixed, receive floating',
      'Pay floating to two counterparties',
      'Receive fixed from two counterparties'
    ],
    correctAnswer: 1,
    explanation: 'To hedge floating-rate debt against rising rates, pay fixed and receive floating in the swap. The floating rate received offsets the floating debt payment, leaving a fixed rate overall.',
    reference: 'Risk Management',
    skillLevel: 'Application',
  },
  {
    id: 'bar-plan-013',
    section: 'BAR',
    blueprintArea: 'BAR-IV',
    blueprintGroup: 'BAR-IV-D',
    topicId: 'bar-planning',
    topic: 'Risk Management',
    subtopic: 'Commodity Risk',
    difficulty: 'medium',
    question: 'An airline concerned about rising fuel prices would hedge by:',
    options: [
      'Selling fuel futures',
      'Buying fuel futures or call options',
      'Selling fuel put options',
      'Entering a swap to pay floating fuel prices'
    ],
    correctAnswer: 1,
    explanation: 'Buying fuel futures or call options protects against rising prices. If prices rise, the futures/options gain value, offsetting higher spot prices. This locks in maximum fuel costs.',
    reference: 'Risk Management',
    skillLevel: 'Application',
  },
  {
    id: 'bar-plan-014',
    section: 'BAR',
    blueprintArea: 'BAR-IV',
    blueprintGroup: 'BAR-IV-E',
    topicId: 'bar-planning',
    topic: 'Risk Management',
    subtopic: 'Enterprise Risk',
    difficulty: 'easy',
    question: 'Enterprise Risk Management (ERM) differs from traditional risk management because ERM:',
    options: [
      'Focuses only on financial risks',
      'Takes an integrated, organization-wide approach to risk',
      'Is required only for public companies',
      'Eliminates all business risks'
    ],
    correctAnswer: 1,
    explanation: 'ERM takes a holistic, integrated view of all risks across the organization (strategic, operational, financial, compliance) rather than managing risks in silos.',
    reference: 'COSO ERM Framework',
    skillLevel: 'Remembering and Understanding',
  },
  {
    id: 'bar-plan-015',
    section: 'BAR',
    blueprintArea: 'BAR-IV',
    blueprintGroup: 'BAR-IV-A',
    topicId: 'bar-planning',
    topic: 'Financial Planning',
    subtopic: 'Capital Budgeting',
    difficulty: 'hard',
    question: 'When evaluating mutually exclusive projects with different lives, the best approach is to use:',
    options: [
      'Simple payback period comparison',
      'IRR comparison only',
      'Equivalent Annual Annuity (EAA) or Replacement Chain approach',
      'Profitability index ratio'
    ],
    correctAnswer: 2,
    explanation: 'For mutually exclusive projects with different lives, use EAA (converts NPV to annual equivalent) or Replacement Chain (extends projects to a common life). Direct NPV comparison is unfair when lives differ.',
    reference: 'Capital Budgeting',
    skillLevel: 'Application',
  },
  // Forecasting
  {
    id: 'bar-plan-016',
    section: 'BAR',
    blueprintArea: 'BAR-IV',
    blueprintGroup: 'BAR-IV-C',
    topicId: 'bar-planning',
    topic: 'Financial Planning',
    subtopic: 'Pro Forma Statements',
    difficulty: 'medium',
    question: 'The percentage-of-sales method for forecasting assumes that:',
    options: [
      'All assets will be sold at year end',
      'Certain balance sheet items vary directly with sales',
      'Sales will remain constant',
      'Fixed costs will decrease proportionally'
    ],
    correctAnswer: 1,
    explanation: 'The percentage-of-sales method assumes certain items (accounts receivable, inventory, accounts payable) vary proportionally with sales. It projects these items as a percentage of forecasted sales.',
    reference: 'Financial Planning',
    skillLevel: 'Remembering and Understanding',
  },
  {
    id: 'bar-plan-017',
    section: 'BAR',
    blueprintArea: 'BAR-IV',
    blueprintGroup: 'BAR-IV-C',
    topicId: 'bar-planning',
    topic: 'Financial Planning',
    subtopic: 'External Financing',
    difficulty: 'hard',
    question: 'A company has $1,000,000 in sales and expects 20% growth. Its profit margin is 5%, dividend payout is 40%, and assets equal 60% of sales. The Additional Funds Needed (AFN) would be approximately:',
    options: [
      '$84,000',
      '$120,000',
      '$60,000',
      '$36,000'
    ],
    correctAnswer: 0,
    explanation: 'AFN = (A/S × ΔS) - (L/S × ΔS) - (M × S₁ × RR). Assuming L/S = 0 for simplicity: AFN = (0.60 × $200,000) - (0.05 × $1,200,000 × 0.60) = $120,000 - $36,000 = $84,000 (approximately, depending on spontaneous liabilities assumed).',
    reference: 'Financial Planning',
    skillLevel: 'Application',
  },
  {
    id: 'bar-plan-018',
    section: 'BAR',
    blueprintArea: 'BAR-IV',
    blueprintGroup: 'BAR-IV-B',
    topicId: 'bar-planning',
    topic: 'Financial Planning',
    subtopic: 'Inventory Management',
    difficulty: 'medium',
    question: 'The Economic Order Quantity (EOQ) model minimizes:',
    options: [
      'Total inventory on hand',
      'Total ordering and carrying costs',
      'Only carrying costs',
      'Lead time for orders'
    ],
    correctAnswer: 1,
    explanation: 'EOQ balances ordering costs (which decrease with larger orders) and carrying costs (which increase with larger orders) to find the order quantity that minimizes total inventory costs.',
    reference: 'Inventory Management',
    skillLevel: 'Remembering and Understanding',
  },
  {
    id: 'bar-plan-019',
    section: 'BAR',
    blueprintArea: 'BAR-IV',
    blueprintGroup: 'BAR-IV-D',
    topicId: 'bar-planning',
    topic: 'Risk Management',
    subtopic: 'Risk Metrics',
    difficulty: 'medium',
    question: 'Value at Risk (VaR) measures:',
    options: [
      'The expected return of a portfolio',
      'Maximum potential loss at a given confidence level over a specified time period',
      'The total value of assets at risk',
      'Only credit risk exposure'
    ],
    correctAnswer: 1,
    explanation: 'VaR estimates the maximum potential loss that could occur at a specified confidence level (e.g., 95% or 99%) over a defined time horizon. It is a widely used market risk metric.',
    reference: 'Risk Management',
    skillLevel: 'Remembering and Understanding',
  },
  {
    id: 'bar-plan-020',
    section: 'BAR',
    blueprintArea: 'BAR-IV',
    blueprintGroup: 'BAR-IV-A',
    topicId: 'bar-planning',
    topic: 'Financial Planning',
    subtopic: 'Sensitivity Analysis',
    difficulty: 'easy',
    question: 'Sensitivity analysis in capital budgeting is used to:',
    options: [
      'Calculate the exact NPV',
      'Determine how changes in key variables affect project outcomes',
      'Replace the need for NPV calculation',
      'Guarantee project success'
    ],
    correctAnswer: 1,
    explanation: 'Sensitivity analysis examines how changes in key assumptions (sales volume, price, costs, discount rate) affect project NPV or IRR. It identifies which variables most impact project value.',
    reference: 'Capital Budgeting',
    skillLevel: 'Remembering and Understanding',
  },
];
