// FAR - Financial Accounting Comprehensive Questions
// 2026 CPA Exam Blueprint Compliant
// World-Class expansion - Final batch

import { Question } from '../../../types';

export const FAR_QUESTIONS_COMPREHENSIVE: Question[] = [
  {
    id: 'far-comp-001',
    section: 'FAR',
    courseId: 'cpa',
    topicId: 'far-framework',
    topic: 'Conceptual Framework',
    subtopic: 'Measurement Bases',
    difficulty: 'hard',
    blueprintArea: 'FAR-I',
    skillLevel: 'Analysis',
    question: 'Historical cost differs from fair value because historical cost:',
    options: [
      'Is always higher',
      'Is based on replacement cost',
      'Includes future cash flows',
      'Represents the original transaction price and is not updated for market changes'
    ],
    correctAnswer: 3,
    explanation: 'Historical cost: original transaction amount, not adjusted for market value changes. Fair value: current exit price. Different assets use different bases (inventory = lower of cost/NRV, investments = FV, etc.).',
    reference: 'FASB Concepts Statement No. 8',
  },
  {
    id: 'far-comp-002',
    section: 'FAR',
    courseId: 'cpa',
    topicId: 'far-presentation',
    topic: 'Financial Statements',
    subtopic: 'Going Concern',
    difficulty: 'hard',
    blueprintArea: 'FAR-I',
    skillLevel: 'Evaluation',
    question: 'Management must evaluate going concern when there is:',
    options: [
      'Any uncertainty',
      'Declining revenue',
      'A qualified audit opinion',
      'Substantial doubt about ability to continue as a going concern within one year of F/S issuance'
    ],
    correctAnswer: 3,
    explanation: 'Going concern evaluation: assess if substantial doubt exists about continuing for one year from F/S issuance. Consider: conditions (losses, negative cash flow, defaults) and management\'s plans. Disclose if substantial doubt not alleviated.',
    reference: 'ASC 205-40',
  },
  {
    id: 'far-comp-003',
    section: 'FAR',
    courseId: 'cpa',
    topicId: 'far-receivables',
    topic: 'Receivables',
    subtopic: 'Pledging vs Factoring',
    difficulty: 'hard',
    blueprintArea: 'FAR-III',
    skillLevel: 'Analysis',
    question: 'The key difference between pledging and factoring receivables is:',
    options: [
      'Interest rate',
      'Customer notification',
      'Pledging uses receivables as collateral while factoring involves sale or transfer of receivables',
      'Maturity period'
    ],
    correctAnswer: 2,
    explanation: 'Pledging: receivables serve as collateral for loan (secured borrowing). Factoring: actual sale/transfer of receivables (may be with/without recourse). Different accounting treatment based on control transferred.',
    reference: 'ASC 860 - Transfers and Servicing',
  },
  {
    id: 'far-comp-004',
    section: 'FAR',
    courseId: 'cpa',
    topicId: 'far-inventory',
    topic: 'Inventory',
    subtopic: 'Dollar-Value LIFO',
    difficulty: 'hard',
    blueprintArea: 'FAR-III',
    skillLevel: 'Analysis',
    question: 'Dollar-value LIFO inventory method uses price indices to:',
    options: [
      'Simplify calculations',
      'Eliminate LIFO reserve',
      'Increase inventory value',
      'Convert current-year inventory to base-year dollars to identify real quantity changes'
    ],
    correctAnswer: 3,
    explanation: 'DV-LIFO: convert ending inventory to base-year dollars (current cost ÷ price index). Compare to prior year to determine real layer increase. Restate increment at current index. Handles pools of similar items.',
    reference: 'ASC 330 - Dollar-Value LIFO',
  },
  {
    id: 'far-comp-005',
    section: 'FAR',
    courseId: 'cpa',
    topicId: 'far-ppe',
    topic: 'Fixed Assets',
    subtopic: 'Interest Capitalization',
    difficulty: 'hard',
    blueprintArea: 'FAR-III',
    skillLevel: 'Analysis',
    question: 'Interest is capitalized during the construction of a qualifying asset when:',
    options: [
      'Any borrowings exist',
      'Expenditures made, activities ongoing, and interest being incurred',
      'The project is complete',
      'Only specific borrowings exist',
    ],
    correctAnswer: 1,
    explanation: 'Capitalize interest when three conditions met: (1) expenditures made, (2) activities to get asset ready ongoing, (3) interest cost incurred. Use weighted-average accumulated expenditures × interest rate. Stop when substantially complete.',
    reference: 'ASC 835-20',
  },
  {
    id: 'far-comp-006',
    section: 'FAR',
    courseId: 'cpa',
    topicId: 'far-intangibles',
    topic: 'Intangible Assets',
    subtopic: 'Internal-Use Software',
    difficulty: 'hard',
    blueprintArea: 'FAR-III',
    skillLevel: 'Analysis',
    question: 'Costs of internal-use software are capitalized:',
    options: [
      'From project inception',
      'Never',
      'Only after implementation',
      'Beginning with the application development stage'
    ],
    correctAnswer: 3,
    explanation: 'Internal-use software: (1) preliminary project stage - expense, (2) application development - capitalize (coding, testing, data conversion), (3) post-implementation - expense (training, maintenance). Amortize over useful life.',
    reference: 'ASC 350-40',
  },
  {
    id: 'far-comp-007',
    section: 'FAR',
    courseId: 'cpa',
    topicId: 'far-liabilities',
    topic: 'Exit/Disposal Activities',
    subtopic: 'Restructuring',
    difficulty: 'hard',
    blueprintArea: 'FAR-IV',
    skillLevel: 'Analysis',
    question: 'A liability for one-time termination benefits is recognized when:',
    options: [
      'Plan is approved by management',
      'Employees resign',
      'Benefits are paid',
      'The plan is communicated to employees and they are unable to work beyond minimum retention period'
    ],
    correctAnswer: 3,
    explanation: 'One-time benefits: recognize when plan communicated and employees can\'t work beyond minimum retention period (or ratably over service period if future service required). Contract termination: recognize at termination or cease-use.',
    reference: 'ASC 420',
  },
  {
    id: 'far-comp-008',
    section: 'FAR',
    courseId: 'cpa',
    topicId: 'far-bonds',
    topic: 'Bonds Payable',
    subtopic: 'Troubled Debt Restructuring',
    difficulty: 'hard',
    blueprintArea: 'FAR-IV',
    skillLevel: 'Analysis',
    question: 'In a troubled debt restructuring, the debtor recognizes a gain when:',
    options: [
      'The carrying amount exceeds the fair value of assets/equity transferred or new debt terms',
      'Any modification occurs',
      'Interest rate changes',
      'Maturity extends'
    ],
    correctAnswer: 0,
    explanation: 'TDR gain: if carrying amount > FV of consideration given. Asset transfer: gain = carrying amount - FV of asset - asset disposal gain/loss. Modification: compare carrying amount to undiscounted future cash flows.',
    reference: 'ASC 470-60',
  },
  {
    id: 'far-comp-009',
    section: 'FAR',
    courseId: 'cpa',
    topicId: 'far-equity',
    topic: 'Stockholders\' Equity',
    subtopic: 'Convertible Debt',
    difficulty: 'hard',
    blueprintArea: 'FAR-V',
    skillLevel: 'Analysis',
    question: 'Under the if-converted method for convertible debt diluted EPS:',
    options: [
      'Assume conversion at year-end',
      'Add back after-tax interest and add shares as if converted at beginning of year (or issuance)',
      'Ignore the conversion feature',
      'Use intrinsic value',
    ],
    correctAnswer: 1,
    explanation: 'If-converted method: numerator adds back interest expense (net of tax). Denominator adds shares from assumed conversion from beginning of period (or issue date if later). Include if dilutive.',
    reference: 'ASC 260-10-45',
  },
  {
    id: 'far-comp-010',
    section: 'FAR',
    courseId: 'cpa',
    topicId: 'far-equity',
    topic: 'Stockholders\' Equity',
    subtopic: 'Quasi-Reorganization',
    difficulty: 'hard',
    blueprintArea: 'FAR-V',
    skillLevel: 'Analysis',
    question: 'A quasi-reorganization allows a company to:',
    options: [
      'Issue new stock',
      'Avoid bankruptcy',
      'Eliminate a deficit in retained earnings by restating assets to fair value and adjusting paid-in capital',
      'Increase profits'
    ],
    correctAnswer: 2,
    explanation: 'Quasi-reorganization (fresh start): (1) restate assets to FV (write-downs to deficit), (2) reduce paid-in capital to eliminate deficit, (3) restart retained earnings at zero. Requires shareholder approval, disclosure for 10 years.',
    reference: 'ASC 852',
  },
  {
    id: 'far-comp-011',
    section: 'FAR',
    courseId: 'cpa',
    topicId: 'far-govt',
    topic: 'Government Accounting',
    subtopic: 'Net Position',
    difficulty: 'hard',
    blueprintArea: 'FAR-VI',
    skillLevel: 'Analysis',
    question: 'Government-wide statement of net position classifies net position as:',
    options: [
      'Unrestricted and restricted only',
      'Fund balance categories',
      'Net investment in capital assets, restricted, and unrestricted',
      'Governmental and proprietary'
    ],
    correctAnswer: 2,
    explanation: 'Government-wide net position: (1) Net investment in capital assets (capital assets less related debt), (2) Restricted (externally imposed constraints), (3) Unrestricted. Different from fund balance classifications.',
    reference: 'GASB Statement 34',
  },
  {
    id: 'far-comp-012',
    section: 'FAR',
    courseId: 'cpa',
    topicId: 'far-govt',
    topic: 'Government Accounting',
    subtopic: 'Fiduciary Funds',
    difficulty: 'hard',
    blueprintArea: 'FAR-VI',
    skillLevel: 'Analysis',
    question: 'Fiduciary funds report:',
    options: [
      'Assets held in trust or agency capacity for others outside the government',
      'Government activities',
      'Capital projects',
      'General fund activities'
    ],
    correctAnswer: 0,
    explanation: 'Fiduciary funds: hold resources for others (not government\'s own programs). Types: pension trusts, investment trusts, private-purpose trusts, custodial funds. Not included in government-wide statements.',
    reference: 'GASB Statement 84',
  },
  {
    id: 'far-comp-013',
    section: 'FAR',
    courseId: 'cpa',
    topicId: 'far-nfp',
    topic: 'Not-for-Profit',
    subtopic: 'Endowments',
    difficulty: 'hard',
    blueprintArea: 'FAR-VII',
    skillLevel: 'Analysis',
    question: 'Under UPMIFA, a NFP institution can appropriate for spending from an endowment:',
    options: [
      'Amounts prudently determined considering donor intent, duration, spending policy, and economic conditions',
      'Only current income',
      'Original gift amount',
      'All appreciation'
    ],
    correctAnswer: 0,
    explanation: 'UPMIFA: prudent spending based on factors: donor intent, fund purposes, general economic conditions, investment return, other resources, duration of fund, spending policy. Original gift amount is floor unless donor specifies otherwise.',
    reference: 'ASC 958-205',
  },
  {
    id: 'far-comp-014',
    section: 'FAR',
    courseId: 'cpa',
    topicId: 'far-nfp',
    topic: 'Not-for-Profit',
    subtopic: 'Split-Interest Agreements',
    difficulty: 'hard',
    blueprintArea: 'FAR-VII',
    skillLevel: 'Analysis',
    question: 'A charitable gift annuity requires the NFP to record:',
    options: [
      'Asset at fair value, liability for annuity obligation, and contribution revenue for the difference',
      'Asset only',
      'Liability only',
      'Deferred revenue'
    ],
    correctAnswer: 0,
    explanation: 'Gift annuity: Dr. Asset (FV), Cr. Liability (PV of annuity obligation), Cr. Contribution revenue (difference). Liability adjusted each period. Applies to charitable remainder trusts, pooled income funds, etc.',
    reference: 'ASC 958-30',
  },
  {
    id: 'far-comp-015',
    section: 'FAR',
    courseId: 'cpa',
    topicId: 'far-consolidation',
    topic: 'Consolidation',
    subtopic: 'Variable Interest Entities',
    difficulty: 'hard',
    blueprintArea: 'FAR-II',
    skillLevel: 'Evaluation',
    question: 'An entity is the primary beneficiary of a VIE when it has:',
    options: [
      'Power to direct significant activities AND obligation to absorb losses or right to receive benefits',
      'Majority voting interest',
      'Any investment',
      'Board representation'
    ],
    correctAnswer: 0,
    explanation: 'VIE primary beneficiary: (1) power to direct activities that most significantly impact VIE economics, AND (2) obligation to absorb expected losses or right to receive expected residual returns. Must consolidate.',
    reference: 'ASC 810-10',
  },
  {
    id: 'far-comp-016',
    section: 'FAR',
    courseId: 'cpa',
    topicId: 'far-revenue',
    topic: 'Revenue Recognition',
    subtopic: 'Contract Modifications',
    difficulty: 'hard',
    blueprintArea: 'FAR-II',
    skillLevel: 'Analysis',
    question: 'A contract modification is treated as a separate contract when:',
    options: [
      'Any change occurs',
      'Scope increases by distinct goods/services AND price increases by standalone selling price',
      'Price decreases',
      'Customer requests change',
    ],
    correctAnswer: 1,
    explanation: 'Separate contract if: (1) scope increases by adding distinct goods/services, AND (2) price increases by amounts reflecting SSP adjusted for circumstances. Otherwise, modify prospectively or cumulatively depending on nature.',
    reference: 'ASC 606-10-25-10',
  },
  {
    id: 'far-comp-017',
    section: 'FAR',
    courseId: 'cpa',
    topicId: 'far-revenue',
    topic: 'Revenue Recognition',
    subtopic: 'Variable Consideration',
    difficulty: 'hard',
    blueprintArea: 'FAR-II',
    skillLevel: 'Analysis',
    question: 'Variable consideration is constrained to prevent:',
    options: [
      'Significant revenue reversal when uncertainty is resolved',
      'Any estimation',
      'Revenue recognition',
      'Customer complaints'
    ],
    correctAnswer: 0,
    explanation: 'Constraint: include variable consideration only to extent highly probable that significant reversal won\'t occur. Consider: experience with similar contracts, susceptibility to external factors, volatility, time until resolution.',
    reference: 'ASC 606-10-32-11',
  },
  {
    id: 'far-comp-018',
    section: 'FAR',
    courseId: 'cpa',
    topicId: 'far-pension',
    topic: 'Pensions',
    subtopic: 'Net Periodic Cost',
    difficulty: 'hard',
    blueprintArea: 'FAR-IV',
    skillLevel: 'Analysis',
    question: 'The components of net periodic pension cost include:',
    options: [
      'Service cost only',
      'Contributions made',
      'Service cost, interest cost, expected return, amortization of prior service cost and gains/losses',
      'Benefits paid'
    ],
    correctAnswer: 2,
    explanation: 'Net periodic cost: service cost + interest cost - expected return + amortization of prior service cost + amortization of net loss (or - net gain). Only service cost in operating expense (ASU 2017-07).',
    reference: 'ASC 715-30',
  },
  {
    id: 'far-comp-019',
    section: 'FAR',
    courseId: 'cpa',
    topicId: 'far-pension',
    topic: 'Pensions',
    subtopic: 'Corridor Method',
    difficulty: 'hard',
    blueprintArea: 'FAR-IV',
    skillLevel: 'Analysis',
    question: 'The corridor approach for pension gains and losses requires amortization of:',
    options: [
      'Net gain or loss exceeding 10% of greater of PBO or market-related value of plan assets',
      'All gains and losses',
      'Prior service cost',
      'Transition amounts'
    ],
    correctAnswer: 0,
    explanation: 'Corridor: amortize excess over 10% of greater of beginning PBO or MRVA. Amount = excess ÷ average remaining service period. If cumulative gain/loss within corridor, no amortization required (minimum amortization).',
    reference: 'ASC 715-30-35-24',
  },
  {
    id: 'far-comp-020',
    section: 'FAR',
    courseId: 'cpa',
    topicId: 'far-leases',
    topic: 'Lease Accounting',
    subtopic: 'Lessor - Sales-Type',
    difficulty: 'hard',
    blueprintArea: 'FAR-IV',
    skillLevel: 'Analysis',
    question: 'A lessor accounts for a sales-type lease by recognizing:',
    options: [
      'Rental income only',
      'Net investment in lease, selling profit/loss at commencement, and interest income over term',
      'Depreciation on asset',
      'Operating lease expense',
    ],
    correctAnswer: 1,
    explanation: 'Sales-type (lessor): Dr. Net investment (PV of payments + residual). Cr. Asset carrying amount. Recognize selling profit/loss at commencement. Interest income = effective rate × net investment. Derecognize underlying asset.',
    reference: 'ASC 842-30',
  },
  {
    id: 'far-comp-021',
    section: 'FAR',
    courseId: 'cpa',
    topicId: 'far-forex',
    topic: 'Foreign Currency',
    subtopic: 'Hedging Forecasted Transactions',
    difficulty: 'hard',
    blueprintArea: 'FAR-V',
    skillLevel: 'Analysis',
    question: 'A hedge of a forecasted foreign currency transaction is accounted for as:',
    options: [
      'Fair value hedge',
      'Net investment hedge',
      'No hedge accounting',
      'Cash flow hedge, with effective portion of derivative gain/loss in OCI'
    ],
    correctAnswer: 3,
    explanation: 'Forecasted transaction: cash flow hedge (variable cash flows). Effective portion of derivative gain/loss to OCI. Reclassified to earnings when forecasted transaction affects earnings. Document hedge designation at inception.',
    reference: 'ASC 815-20-25',
  },
  {
    id: 'far-comp-022',
    section: 'FAR',
    courseId: 'cpa',
    topicId: 'far-errors',
    topic: 'Accounting Changes',
    subtopic: 'Change in Principle',
    difficulty: 'hard',
    blueprintArea: 'FAR-I',
    skillLevel: 'Analysis',
    question: 'A voluntary change in accounting principle requires:',
    options: [
      'Prospective application',
      'Disclosure only',
      'Current period adjustment only',
      'Retrospective application with adjustment to beginning retained earnings if prior periods presented'
    ],
    correctAnswer: 3,
    explanation: 'Change in principle: retrospective application. Adjust beginning retained earnings of earliest period presented. Restate prior periods. Exception: impracticable (apply prospectively from earliest date practicable).',
    reference: 'ASC 250-10-45',
  },
  {
    id: 'far-comp-023',
    section: 'FAR',
    courseId: 'cpa',
    topicId: 'far-fair-value',
    topic: 'Fair Value',
    subtopic: 'Level 3 Inputs',
    difficulty: 'hard',
    blueprintArea: 'FAR-I',
    skillLevel: 'Analysis',
    question: 'Level 3 fair value measurements use:',
    options: [
      'Quoted market prices',
      'Historical cost',
      'Observable inputs from similar assets',
      'Unobservable inputs based on entity\'s own assumptions'
    ],
    correctAnswer: 3,
    explanation: 'Fair value hierarchy: Level 1 = quoted prices for identical assets in active markets. Level 2 = observable inputs for similar assets or other observable inputs. Level 3 = unobservable inputs (entity assumptions). Extensive disclosure for Level 3.',
    reference: 'ASC 820-10-35',
  },
  {
    id: 'far-comp-024',
    section: 'FAR',
    courseId: 'cpa',
    topicId: 'far-eps',
    topic: 'Earnings Per Share',
    subtopic: 'Contingently Issuable Shares',
    difficulty: 'hard',
    blueprintArea: 'FAR-V',
    skillLevel: 'Analysis',
    question: 'Contingently issuable shares are included in diluted EPS when:',
    options: [
      'The contingency condition is satisfied at the end of the reporting period',
      'Always',
      'Never',
      'Only in basic EPS'
    ],
    correctAnswer: 0,
    explanation: 'Contingently issuable: include in diluted EPS if contingency conditions currently met at period end (e.g., earnings targets, market price conditions). If condition not met, not included (condition not yet satisfied).',
    reference: 'ASC 260-10-45-48',
  },
  {
    id: 'far-comp-025',
    section: 'FAR',
    courseId: 'cpa',
    topicId: 'far-nonmonetary',
    topic: 'Nonmonetary Transactions',
    subtopic: 'Exchange Measurement',
    difficulty: 'hard',
    blueprintArea: 'FAR-III',
    skillLevel: 'Analysis',
    question: 'A nonmonetary exchange has commercial substance when:',
    options: [
      'Any exchange occurs',
      'No boot is received',
      'Items have equal value',
      'The configuration of future cash flows changes significantly (timing, amount, or risk)'
    ],
    correctAnswer: 3,
    explanation: 'Commercial substance: entity\'s cash flows change significantly due to exchange (timing, amount, risk). If commercial substance: record at fair value, recognize gain/loss. If not: record at book value (no gain), unless boot received.',
    reference: 'ASC 845-10-30',
  },
];
