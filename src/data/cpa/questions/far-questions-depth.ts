// FAR Depth Questions - Batch 1
// Focus: FAR-V (Govt/NFP), FAR-VI (Transactions), FAR-VII (State & Local Govt)
// Difficulty: mostly easy/medium to rebalance (currently 29 easy vs 280 hard)

import { Question } from '../../../types';

export const FAR_QUESTIONS_DEPTH_1: Question[] = [
  // FAR-V: GOVERNMENTAL ACCOUNTING — FUND TYPES
  {
    id: 'far-d1-001',
    section: 'FAR',
    courseId: 'cpa',
    blueprintArea: 'FAR-V',
    topicId: 'far-govt',
    topic: 'Governmental Accounting',
    subtopic: 'Fund Categories',
    difficulty: 'easy',
    skillLevel: 'Remembering and Understanding',
    question: 'The three broad categories of funds in governmental accounting are:',
    options: [
      'Current, non-current, and restricted',
      'Operating, investing, and financing',
      'Governmental funds, proprietary funds, and fiduciary funds',
      'Revenue, expense, and capital',
    ],
    correctAnswer: 2,
    explanation: 'GASB fund categories: (1) Governmental funds (5 types): General, Special Revenue, Capital Projects, Debt Service, Permanent — use current financial resources measurement focus and modified accrual. (2) Proprietary funds (2 types): Enterprise (external customers) and Internal Service (other departments) — use economic resources measurement focus and full accrual. (3) Fiduciary funds (4 types): Pension/OPEB Trust, Investment Trust, Private-Purpose Trust, Custodial — use economic resources/full accrual. Government-wide financial statements use full accrual for all activities.',
    reference: 'GASB Statement No. 34',
  },
  {
    id: 'far-d1-002',
    section: 'FAR',
    courseId: 'cpa',
    blueprintArea: 'FAR-V',
    topicId: 'far-govt',
    topic: 'Governmental Accounting',
    subtopic: 'Modified Accrual Basis',
    difficulty: 'easy',
    skillLevel: 'Remembering and Understanding',
    question: 'Under the modified accrual basis of accounting used by governmental funds, revenues are recognized when:',
    options: [
      'Billed to the taxpayer',
      'Earned regardless of collection',
      'Measurable and available (collectible within the current period or soon enough thereafter to pay current liabilities — typically 60 days)',
      'Cash is received only',
    ],
    correctAnswer: 2,
    explanation: 'Modified accrual basis (governmental funds): Revenues: recognized when measurable AND available. "Available" = collectible within the current period or soon enough thereafter to be used to pay current-period liabilities (typically 60 days after year-end, though some governments use 30 or 90 days). Property taxes: recognized as revenue in the year for which they are levied (if available). Expenditures: generally recognized when the fund liability is incurred (similar to accrual) EXCEPT for: debt service principal and interest (recognized when due/mature), compensated absences (recognized when due), and claims/judgments (recognized when due).',
    reference: 'GASB Codification §1600',
  },

  // FAR-V: NFP ACCOUNTING
  {
    id: 'far-d1-003',
    section: 'FAR',
    courseId: 'cpa',
    blueprintArea: 'FAR-V',
    topicId: 'far-nfp',
    topic: 'Not-for-Profit Accounting',
    subtopic: 'Net Asset Classification',
    difficulty: 'easy',
    skillLevel: 'Remembering and Understanding',
    question: 'Under ASC 958, not-for-profit organizations classify net assets into:',
    options: [
      'Unrestricted, temporarily restricted, permanently restricted',
      'Equity and retained earnings',
      'Two categories: net assets without donor restrictions and net assets with donor restrictions',
      'Current and non-current',
    ],
    correctAnswer: 2,
    explanation: 'ASU 2016-14 (ASC 958-205): Simplified from three to TWO categories: (1) Net assets without donor restrictions — available for general use, board-designated amounts are a subset (disclosed), (2) Net assets with donor restrictions — donor-imposed purpose or time restrictions, including both what was previously "temporarily restricted" and "permanently restricted" (endowments). When a donor restriction is met: reclassify from "with donor restrictions" to "without donor restrictions" (reported as "net assets released from restrictions"). Required financial statements: Statement of Financial Position, Statement of Activities, Statement of Cash Flows, Statement of Functional Expenses (or notes).',
    reference: 'ASU 2016-14; ASC 958-205',
  },
  {
    id: 'far-d1-004',
    section: 'FAR',
    courseId: 'cpa',
    blueprintArea: 'FAR-V',
    topicId: 'far-nfp',
    topic: 'Not-for-Profit Accounting',
    subtopic: 'Contributions — Conditional vs. Unconditional',
    difficulty: 'medium',
    skillLevel: 'Application',
    question: 'An unconditional promise to give (pledge) by a donor to a not-for-profit is recognized as:',
    options: [
      'An expense to the donor only',
      'Revenue (contribution) when the promise is made, at fair value (present value if due in more than one year)',
      'Revenue when cash is received',
      'A liability until conditions are met',
    ],
    correctAnswer: 1,
    explanation: 'ASC 958-605 (Contributions): Unconditional promise to give: recognized as revenue when the promise is received (regardless of when cash is collected). Multi-year pledges: recorded at present value using a discount rate. Allowance for uncollectible pledges is estimated. Conditional promise to give: NOT recognized until the condition is substantially met (barrier + right of return/release). Example of condition: "We\'ll donate $1M if you raise a matching $1M." Donor-imposed restrictions (purpose/time): recognized as revenue with donor restrictions. Contributions of services: recognized only if they create or enhance non-financial assets OR require specialized skills.',
    reference: 'ASC 958-605',
  },

  // FAR-VI: REVENUE RECOGNITION
  {
    id: 'far-d1-005',
    section: 'FAR',
    courseId: 'cpa',
    blueprintArea: 'FAR-VI',
    topicId: 'far-revenue',
    topic: 'Transactions',
    subtopic: 'ASC 606 — Five-Step Model',
    difficulty: 'easy',
    skillLevel: 'Remembering and Understanding',
    question: 'The five-step revenue recognition model under ASC 606 begins with:',
    options: [
      'Matching expenses to revenues',
      'Step 1: Identify the contract with the customer; Step 2: Identify performance obligations; Step 3: Determine the transaction price; Step 4: Allocate the price; Step 5: Recognize revenue when/as obligations are satisfied',
      'Recognizing revenue when cash is collected',
      'Recording a receivable',
    ],
    correctAnswer: 1,
    explanation: 'ASC 606 (Revenue from Contracts with Customers): Five steps: (1) Identify the contract — agreement creating enforceable rights/obligations (written, oral, implied), (2) Identify the performance obligations — distinct goods/services promised (capable of being distinct AND distinct within the contract context), (3) Determine the transaction price — consideration expected (variable consideration, significant financing, non-cash consideration, consideration payable to customer), (4) Allocate the transaction price to performance obligations — based on standalone selling prices (SSP), (5) Recognize revenue when (or as) each performance obligation is satisfied — either at a point in time or over time.',
    reference: 'ASC 606-10-25',
  },
  {
    id: 'far-d1-006',
    section: 'FAR',
    courseId: 'cpa',
    blueprintArea: 'FAR-VI',
    topicId: 'far-revenue',
    topic: 'Transactions',
    subtopic: 'Performance Obligation Satisfied Over Time',
    difficulty: 'medium',
    skillLevel: 'Application',
    question: 'Under ASC 606, a performance obligation is satisfied over time if one of three criteria is met. Which is one of those criteria?',
    options: [
      'The customer simultaneously receives and consumes the benefits as the entity performs (e.g., routine or recurring services)',
      'The customer pays in installments',
      'A contract has been signed',
      'The entity has started production',
    ],
    correctAnswer: 0,
    explanation: 'ASC 606-10-25-27: Over-time recognition criteria (any ONE): (1) Customer simultaneously receives and consumes benefits — routine/recurring services (e.g., cleaning, consulting on a time basis), (2) Entity\'s performance creates or enhances an asset the customer controls — building on customer\'s property, (3) Entity\'s performance creates an asset with no alternative use AND the entity has an enforceable right to payment for performance completed to date — custom manufacturing. If none is met: recognition at a point in time. Methods for measuring progress over time: output methods (surveys, milestones), input methods (costs incurred/total estimated costs — percentage-of-completion equivalent).',
    reference: 'ASC 606-10-25-27',
  },

  // FAR-VII: STATE & LOCAL GOVT
  {
    id: 'far-d1-007',
    courseId: 'cpa',
    section: 'FAR',
    blueprintArea: 'FAR-VII',
    topic: 'State and Local Government',
    subtopic: 'Government-Wide Financial Statements',
    difficulty: 'easy',
    skillLevel: 'Remembering and Understanding',
    question: 'In the fund financial statements of a state government, the general fund reports which type of fund balance for resources that are available for any purpose?',
    options: [
      'Restricted',
      'Committed',
      'Assigned',
      'Unassigned',
    ],
    correctAnswer: 3,
    explanation: 'Under GASB 54, fund balance is classified in a hierarchy of constraints: nonspendable, restricted, committed, assigned, and unassigned. Unassigned fund balance represents the residual amount available for any purpose and is reported only in the general fund (other governmental funds may report negative unassigned balances). This is the most flexible classification.',
    reference: 'GASB Statement No. 34',
  },
  {
    id: 'far-d1-008',
    section: 'FAR',
    courseId: 'cpa',
    blueprintArea: 'FAR-VII',
    topicId: 'far-govt-reporting',
    topic: 'State and Local Government',
    subtopic: 'GASB — Deferred Outflows/Inflows',
    difficulty: 'medium',
    skillLevel: 'Application',
    question: 'Under GASB, deferred outflows of resources represent:',
    options: [
      'Current assets that will be consumed next year',
      'A consumption of net assets that applies to a future period — not recognized as an outflow (expense) in the current period',
      'Prepaid insurance only',
      'Bad debt expense',
    ],
    correctAnswer: 1,
    explanation: 'GASB Concepts Statement 4 / GASB 63: Deferred outflows of resources: a consumption of net assets by the government that is applicable to a future reporting period. Reported AFTER assets on the Statement of Net Position. Examples: deferred charge on refunding (difference between carrying value and reacquisition price of refunded debt), certain pension-related amounts (changes in assumptions, differences between projected/actual earnings). Deferred inflows of resources: an acquisition of net assets applicable to a future period. Reported AFTER liabilities. Examples: unavailable revenue (modified accrual), certain pension-related amounts, property taxes levied for a future period.',
    reference: 'GASB 63; GASB Concepts Statement 4',
  },

  // FAR-V: GOVT FUND ACCOUNTING — ENCUMBRANCES
  {
    id: 'far-d1-009',
    section: 'FAR',
    courseId: 'cpa',
    blueprintArea: 'FAR-V',
    topicId: 'far-govt',
    topic: 'Governmental Accounting',
    subtopic: 'Encumbrances',
    difficulty: 'medium',
    skillLevel: 'Application',
    question: 'In governmental fund accounting, encumbrances represent:',
    options: [
      'Actual expenditures',
      'Liabilities to vendors who have been paid',
      'Commitments for future expenditures (e.g., outstanding purchase orders) — they reserve a portion of the fund balance to prevent overspending the budget',
      'Revenue received in advance',
    ],
    correctAnswer: 2,
    explanation: 'Encumbrance accounting (governmental funds only): Used for budgetary control. When a purchase order is issued: Dr. Encumbrances, Cr. Budgetary Fund Balance Reserved for Encumbrances (reserves the appropriation). When the goods/services are received: reverse the encumbrance entry, then record the actual expenditure. Encumbrances outstanding at year-end may be: (1) Closed and re-established next year, or (2) Carried forward as reserved fund balance. Encumbrances are NOT expenditures and are NOT reported as liabilities on the balance sheet (GAAP basis). They are reported as a component of committed or assigned fund balance.',
    reference: 'GASB Codification §1700',
  },

  // FAR-VI: LEASES
  {
    id: 'far-d1-010',
    section: 'FAR',
    courseId: 'cpa',
    blueprintArea: 'FAR-VI',
    topicId: 'far-leases',
    topic: 'Transactions',
    subtopic: 'ASC 842 — Lessee Classification',
    difficulty: 'easy',
    skillLevel: 'Remembering and Understanding',
    question: 'Under ASC 842, a lessee classifies all leases (except short-term) as either:',
    options: [
      'Current or long-term leases',
      'Capital or operating',
      'Finance leases or operating leases — both are recognized on the balance sheet with a right-of-use (ROU) asset and a lease liability',
      'Direct or indirect leases',
    ],
    correctAnswer: 2,
    explanation: 'ASC 842 (Leases): ALL leases (> 12 months) are on the balance sheet. Lessee recognizes: ROU asset + lease liability = present value of lease payments. Classification: Finance lease (any ONE of 5 criteria): (1) Transfer of ownership, (2) Bargain purchase option, (3) Lease term ≥ 75% of economic life, (4) PV of payments ≥ 90% of fair value, (5) Specialized nature (no alternative use). Operating lease: does not meet any finance lease criteria. Expense pattern differs: Finance = interest expense (front-loaded) + amortization. Operating = single lease expense (straight-line, typically). Short-term election: ≤ 12 months, no purchase option → can expense as incurred.',
    reference: 'ASC 842-10-25',
  },

  // FAR-VII: GOVT — PENSION ACCOUNTING
  {
    id: 'far-d1-011',
    section: 'FAR',
    courseId: 'cpa',
    blueprintArea: 'FAR-VII',
    topicId: 'far-pension',
    topic: 'State and Local Government',
    subtopic: 'GASB 68 — Pension Liability',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'Under GASB 68, a state/local government employer participating in a defined benefit pension plan reports:',
    options: [
      'Only the annual pension contribution as an expenditure',
      'Only a footnote disclosure',
      'A net pension liability (or asset) on the government-wide Statement of Net Position — equal to the total pension liability minus the plan\'s fiduciary net position (plan assets)',
      'No pension liability on the balance sheet',
    ],
    correctAnswer: 2,
    explanation: 'GASB 68: Employer reports net pension liability = total pension liability - plan fiduciary net position (assets). On the government-wide Statement of Net Position (full accrual). Pension expense includes: service cost, interest on TPL, changes in benefit terms, differences between expected/actual experience, changes in assumptions, differences between projected/actual investment earnings. Deferred outflows/inflows related to pensions: report certain changes that are amortized over future periods (e.g., investment gains/losses amortized over 5 years). In governmental fund statements (modified accrual): only the amount "due and payable" is reported as an expenditure.',
    reference: 'GASB 68',
  },

  // FAR-VI: STOCK COMPENSATION
  {
    id: 'far-d1-012',
    section: 'FAR',
    courseId: 'cpa',
    blueprintArea: 'FAR-VI',
    topicId: 'far-stock-comp',
    topic: 'Transactions',
    subtopic: 'ASC 718 — Stock-Based Compensation',
    difficulty: 'medium',
    skillLevel: 'Application',
    question: 'Under ASC 718, employee stock options are measured at:',
    options: [
      'Intrinsic value at exercise date',
      'Market value at exercise',
      'Fair value at the grant date, with compensation expense recognized over the requisite service (vesting) period',
      'Par value of the stock',
    ],
    correctAnswer: 2,
    explanation: 'ASC 718 (Stock Compensation): Employee stock options: measured at grant-date fair value (using option-pricing model — Black-Scholes or lattice/binomial). Expense recognized over the requisite service period (usually the vesting period). Example: 1,000 options, fair value $10 each, 4-year vesting → $10,000 total expense, $2,500/year. Journal entry each year: Dr. Compensation Expense, Cr. APIC — Stock Options. At exercise: Dr. Cash (exercise price × shares), Dr. APIC — Stock Options, Cr. Common Stock (par), Cr. APIC — Common Stock. If options expire unexercised: reclassify APIC — Stock Options to APIC — Expired Stock Options (no income statement effect).',
    reference: 'ASC 718-10-30',
  },

  // FAR-V: NFP — FUNCTIONAL EXPENSES
  {
    id: 'far-d1-013',
    section: 'FAR',
    courseId: 'cpa',
    blueprintArea: 'FAR-V',
    topicId: 'far-nfp',
    topic: 'Not-for-Profit Accounting',
    subtopic: 'Statement of Functional Expenses',
    difficulty: 'easy',
    skillLevel: 'Remembering and Understanding',
    question: 'Not-for-profit organizations must report expenses by:',
    options: [
      'Both functional classification (program services, management and general, fundraising) AND natural classification — in a statement, schedule, or notes',
      'Only by department',
      'Only natural classification (salaries, rent, supplies)',
      'Only fundraising expenses',
    ],
    correctAnswer: 0,
    explanation: 'ASU 2016-14 (ASC 958-720): All NFPs must present: (1) Expenses by function — program services (mission-related activities), management and general (overhead, governance), and fundraising. (2) Expenses by nature — salaries, rent, depreciation, supplies, etc. This can be presented as: a separate Statement of Functional Expenses (matrix format), a schedule in the notes, or within the Statement of Activities. Joint costs of activities that include fundraising must be allocated (if certain criteria are met — ASC 958-720-45). Methods of allocation: physical units, relative direct costs, stand-alone cost.',
    reference: 'ASU 2016-14; ASC 958-720',
  },

  // FAR-VII: GOVT — CAPITAL ASSETS
  {
    id: 'far-d1-014',
    section: 'FAR',
    courseId: 'cpa',
    blueprintArea: 'FAR-VII',
    topicId: 'far-govt-reporting',
    topic: 'State and Local Government',
    subtopic: 'Capital Assets — Government-Wide',
    difficulty: 'easy',
    skillLevel: 'Remembering and Understanding',
    question: 'In the government-wide financial statements, capital assets of governmental activities are:',
    options: [
      'Reported at historical cost, net of accumulated depreciation (or amortization), in the Statement of Net Position — depreciation expense is reported in the Statement of Activities',
      'Reported at fair value',
      'Not reported',
      'Expensed when acquired',
    ],
    correctAnswer: 0,
    explanation: 'GASB 34 — Capital assets at the government-wide level: reported at historical cost (or estimated historical cost if actual cost is unknown) less accumulated depreciation. Depreciation is required for all capital assets except: (1) Land, (2) Construction in progress, (3) Infrastructure assets reported using the modified approach (maintained at a condition level — must document). In governmental FUND financial statements (modified accrual): capital assets are NOT reported (capital outlay is an expenditure). The reconciliation between fund and government-wide financial statements converts capital outlay expenditures to capital assets and depreciation.',
    reference: 'GASB 34; GASB 42',
  },

  // FAR-VI: INCOME TAXES
  {
    id: 'far-d1-015',
    section: 'FAR',
    courseId: 'cpa',
    blueprintArea: 'FAR-VI',
    topicId: 'far-tax',
    topic: 'Transactions',
    subtopic: 'ASC 740 — Deferred Tax Assets and Liabilities',
    difficulty: 'easy',
    skillLevel: 'Remembering and Understanding',
    question: 'A deferred tax liability (DTL) arises when:',
    options: [
      'Taxable income exceeds book income permanently',
      'A temporary difference results in taxable amounts in future years — the book carrying amount of an asset exceeds its tax basis (or book liability is less than tax basis)',
      'Tax rates decrease',
      'The company has an NOL carryforward',
    ],
    correctAnswer: 1,
    explanation: 'ASC 740 (Income Taxes): DTL = future taxable amounts × enacted tax rate. Common causes: (1) Accelerated depreciation for tax vs. straight-line for books (book basis > tax basis for fixed assets), (2) Installment sales method for tax (tax defers gain), (3) Prepaid expenses deducted for tax when paid. DTA = future deductible amounts × enacted tax rate. Common causes: (1) Warranty expense (accrued for books, deducted for tax when paid), (2) Bad debt expense (estimated for books, deducted for tax when written off), (3) NOL carryforwards, (4) Tax credit carryforwards. Valuation allowance: reduces DTA if more likely than not (>50%) that some/all DTA will not be realized.',
    reference: 'ASC 740-10-25',
  },

  // FAR-V: GOVT — BUDGETARY ACCOUNTING
  {
    id: 'far-d1-016',
    section: 'FAR',
    courseId: 'cpa',
    blueprintArea: 'FAR-V',
    topicId: 'far-govt',
    topic: 'Governmental Accounting',
    subtopic: 'Budgetary Accounting',
    difficulty: 'medium',
    skillLevel: 'Application',
    question: 'When the annual budget is adopted for the General Fund, the budgetary journal entry is:',
    options: [
      'No journal entry is made for the budget',
      'Debit Estimated Revenues, Credit Appropriations, and Debit or Credit Budgetary Fund Balance for the difference',
      'Debit Expenditures, Credit Cash',
      'Debit Cash, Credit Revenue',
    ],
    correctAnswer: 1,
    explanation: 'Budgetary entry at adoption: Dr. Estimated Revenues (expected revenues), Cr. Appropriations (authorized spending limits), Dr./Cr. Budgetary Fund Balance (difference — debit if surplus expected, credit if deficit). At year-end: the budgetary entry is reversed (closing entry). Budget vs. actual comparison: required for the General Fund and each major Special Revenue Fund with a legally adopted annual budget. Presented as: Required Supplementary Information (RSI) or a basic financial statement. Budgetary basis may differ from GAAP — reconciliation required if different. Estimated revenues > Appropriations = expected surplus.',
    reference: 'GASB 34; GASB Codification §2400',
  },

  // FAR-VI: CONSOLIDATION
  {
    id: 'far-d1-017',
    section: 'FAR',
    courseId: 'cpa',
    blueprintArea: 'FAR-VI',
    topicId: 'far-consolidation',
    topic: 'Transactions',
    subtopic: 'Consolidation — Intercompany Elimination',
    difficulty: 'medium',
    skillLevel: 'Application',
    question: 'In preparing consolidated financial statements, intercompany transactions must be eliminated because:',
    options: [
      'The consolidated entity is reported as a single economic entity — intercompany sales, receivables/payables, and profits on intercompany transfers must be eliminated to avoid double-counting',
      'They increase total revenue',
      'It reduces net income',
      'FASB requires it for tax purposes',
    ],
    correctAnswer: 0,
    explanation: 'ASC 810 (Consolidation): The parent and subsidiaries are reported as a single economic entity. Eliminations: (1) Investment in subsidiary against subsidiary equity, (2) Intercompany receivables/payables, (3) Intercompany revenues/expenses (sales between parent and subsidiary), (4) Intercompany profit in inventory — unrealized profit on inventory sold between companies but still held at year-end (upstream: reduce NCI proportionally; downstream: all from parent), (5) Intercompany profit in fixed assets — unrealized profit on asset transfers, adjust depreciation. Non-controlling interest (NCI): reported in stockholders\' equity, and NCI\'s share of income reported on the income statement.',
    reference: 'ASC 810-10-45',
  },

  // FAR-VII: GOVT — INTERFUND TRANSACTIONS
  {
    id: 'far-d1-018',
    section: 'FAR',
    courseId: 'cpa',
    blueprintArea: 'FAR-VII',
    topicId: 'far-govt-reporting',
    topic: 'State and Local Government',
    subtopic: 'Interfund Transactions',
    difficulty: 'medium',
    skillLevel: 'Application',
    question: 'In governmental accounting, a transfer of resources from the General Fund to the Debt Service Fund is classified as a(n):',
    options: [
      'Loan payable',
      'Revenue to the Debt Service Fund',
      'Interfund transfer — reported as "other financing use" (transfer out) in the General Fund and "other financing source" (transfer in) in the Debt Service Fund',
      'Expenditure in the General Fund',
    ],
    correctAnswer: 2,
    explanation: 'GASB Codification §1800 — Interfund activity types: (1) Reciprocal: Interfund loans (receivable/payable between funds), Interfund services provided/used (charges for services between funds — reported as revenues/expenditures). (2) Non-reciprocal: Interfund transfers (routine, one-way transfers — reported as Other Financing Sources/Uses, NOT revenues/expenditures), Interfund reimbursements (repayment of costs — recorded as expenditure reduction). In government-wide statements: internal activity is generally eliminated to avoid double-counting (except between governmental and business-type activities).',
    reference: 'GASB Codification §1800',
  },

  // FAR-VI: FOREIGN CURRENCY
  {
    id: 'far-d1-019',
    section: 'FAR',
    courseId: 'cpa',
    blueprintArea: 'FAR-VI',
    topicId: 'far-foreign',
    topic: 'Transactions',
    subtopic: 'ASC 830 — Foreign Currency Translation',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'Under ASC 830, when translating a foreign subsidiary\'s financial statements (functional currency ≠ reporting currency), the translation adjustment is reported in:',
    options: [
      'Net income',
      'As a footnote only',
      'Other comprehensive income (OCI) — as a cumulative translation adjustment (CTA) in accumulated other comprehensive income (AOCI)',
      'Retained earnings directly',
    ],
    correctAnswer: 2,
    explanation: 'ASC 830: Translation (functional currency ≠ reporting currency): Assets/liabilities = current exchange rate at balance sheet date. Revenues/expenses = weighted-average exchange rate for the period. Equity = historical rates. The translation adjustment goes to OCI (CTA in AOCI). Reclassified to income only upon sale/liquidation of the subsidiary. Remeasurement (functional currency = reporting currency, books in different currency): Monetary items = current rate. Non-monetary items = historical rates. Revenues/expenses = weighted-average (except items related to non-monetary — historical). Remeasurement gains/losses go to NET INCOME.',
    reference: 'ASC 830-10-45',
  },

  // FAR-V: NFP — ENDOWMENTS
  {
    id: 'far-d1-020',
    section: 'FAR',
    courseId: 'cpa',
    blueprintArea: 'FAR-V',
    topicId: 'far-nfp',
    topic: 'Not-for-Profit Accounting',
    subtopic: 'Endowments and UPMIFA',
    difficulty: 'medium',
    skillLevel: 'Application',
    question: 'Under UPMIFA (Uniform Prudent Management of Institutional Funds Act), an NFP can appropriate for spending from a donor-restricted endowment:',
    options: [
      'Only the original gift amount',
      'Zero — endowments cannot be spent',
      'A prudent amount considering the purposes, terms, and other relevant factors — the original corpus is no longer a strict spending floor',
      'Any amount desired by the board',
    ],
    correctAnswer: 2,
    explanation: 'UPMIFA (adopted by most states, replacing UMIFA): The concept of "historic dollar value" as a floor for spending is replaced by a prudent standard. The NFP board can appropriate for expenditure or accumulate based on 7 factors: (1) Duration/preservation of the fund, (2) Purposes of the organization and fund, (3) General economic conditions, (4) Expected total return, (5) Other resources available, (6) Investment policy, (7) Effect of inflation/deflation. Spending below the original gift amount ("underwater endowment") is permitted if prudent. ASU 2016-14 requires disclosure of: endowment policies, composition, and changes during the period. Board-designated endowments are classified as "without donor restrictions."',
    reference: 'UPMIFA §4; ASU 2016-14',
  },

  // FAR-VII: GOVT — MAJOR FUND REPORTING
  {
    id: 'far-d1-021',
    section: 'FAR',
    courseId: 'cpa',
    blueprintArea: 'FAR-VII',
    topicId: 'far-govt-reporting',
    topic: 'State and Local Government',
    subtopic: 'Major Fund Reporting',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'Under GASB 34, a governmental fund qualifies as a major fund if:',
    options: [
      'It has more than $1 million in assets',
      'It is the largest fund',
      'Its total assets/liabilities/revenues/expenditures are at least 10% of the corresponding total for all funds in its category AND at least 5% of the aggregate total for all governmental and enterprise funds combined',
      'It receives federal grants',
    ],
    correctAnswer: 2,
    explanation: 'GASB 34 — Major fund criteria (two-step test): (1) 10% test: the fund\'s total assets/deferred outflows, liabilities/deferred inflows, revenues, or expenditures/expenses are at least 10% of the corresponding total for ALL funds of that category (governmental or enterprise). AND (2) 5% test: the same element is at least 5% of the corresponding total for ALL governmental AND enterprise funds combined. Also: the General Fund is ALWAYS a major fund. Management may designate any fund as major. Major funds are reported individually on fund financial statements. Non-major funds are aggregated in an "Other Governmental Funds" or "Other Enterprise Funds" column.',
    reference: 'GASB 34, ¶76',
  },

  // FAR-VI: CONTINGENCIES
  {
    id: 'far-d1-022',
    section: 'FAR',
    courseId: 'cpa',
    blueprintArea: 'FAR-VI',
    topicId: 'far-contingencies',
    topic: 'Transactions',
    subtopic: 'ASC 450 — Loss Contingencies',
    difficulty: 'easy',
    skillLevel: 'Remembering and Understanding',
    question: 'Under ASC 450, a loss contingency is accrued (recorded as a liability) when:',
    options: [
      'It is probable that a loss has been incurred AND the amount can be reasonably estimated',
      'The loss is remote',
      'Any lawsuit is filed against the company',
      'The loss is possible',
    ],
    correctAnswer: 0,
    explanation: 'ASC 450-20 (Loss Contingencies): Three likelihood categories: (1) Probable: likely to occur → ACCRUE if the amount is reasonably estimable (if a range exists and no best estimate within the range: accrue the minimum of the range). If probable but NOT estimable: disclose in notes. (2) Reasonably possible (more than remote but less than probable): DISCLOSE in notes only (nature, estimate of range if possible). (3) Remote: unlikely → generally no disclosure (exception: guarantees of others\' debt). Gain contingencies (ASC 450-30): NEVER accrue — only disclose if probable (and even then, avoid misleading implications about realization).',
    reference: 'ASC 450-20-25',
  },

  // FAR-V: GOVT — PROPRIETARY FUNDS
  {
    id: 'far-d1-023',
    section: 'FAR',
    courseId: 'cpa',
    blueprintArea: 'FAR-V',
    topicId: 'far-govt',
    topic: 'Governmental Accounting',
    subtopic: 'Enterprise Funds vs. Internal Service Funds',
    difficulty: 'easy',
    skillLevel: 'Remembering and Understanding',
    question: 'Proprietary funds use the same measurement focus and basis of accounting as:',
    options: [
      'Cash basis only',
      'Commercial (for-profit) entities — economic resources measurement focus and accrual basis of accounting',
      'Governmental funds (modified accrual)',
      'Fiduciary funds only',
    ],
    correctAnswer: 1,
    explanation: 'Proprietary funds: operated like businesses. (1) Enterprise funds: charge external users (water, sewer, transit, airport, parking). GASB requires enterprise fund when: fees charged to external users, debt backed solely by fees/charges, or legal requirement. (2) Internal service funds: provide services to other departments (motor pool, printing, central IT, self-insurance). Both use: economic resources measurement focus (reports all assets including capital assets and long-term liabilities) and full accrual basis. Financial statements: Statement of Net Position, Statement of Revenues/Expenses/Changes in Net Position, Statement of Cash Flows (direct method required — GASB only).',
    reference: 'GASB 34; GASB Codification §Sp20',
  },

  // FAR-VI: SHARE-BASED PAYMENTS — RSUs
  {
    id: 'far-d1-024',
    section: 'FAR',
    courseId: 'cpa',
    blueprintArea: 'FAR-VI',
    topicId: 'far-stock-comp',
    topic: 'Transactions',
    subtopic: 'Restricted Stock Units',
    difficulty: 'medium',
    skillLevel: 'Application',
    question: 'Restricted stock units (RSUs) under ASC 718 are measured at:',
    options: [
      'Book value per share',
      'Grant-date fair value of the stock (no option pricing model needed since there is no exercise/strike price), with compensation expense recognized over the service (vesting) period',
      'Exercise price',
      'Par value',
    ],
    correctAnswer: 1,
    explanation: 'ASC 718 RSUs: Fair value = market price of the stock on the grant date (simpler than options — no Black-Scholes needed). No exercise price (the employee receives shares, not the right to buy). Expense recognized over the vesting period (usually service-based — cliff or graded vesting). Graded vesting: can use straight-line over the total vesting period (practical expedient) or accelerated attribution. At vesting: Dr. APIC — RSU, Cr. Common Stock (par), Cr. APIC — Common Stock. Performance-based RSUs: expense recognized only if performance condition is probable of being met. Market conditions (stock price targets): reflected in fair value at grant, not probability-adjusted.',
    reference: 'ASC 718-10-30',
  },

  // FAR-VII: GOVT — GASB LEASE STANDARD
  {
    id: 'far-d1-025',
    section: 'FAR',
    courseId: 'cpa',
    blueprintArea: 'FAR-VII',
    topicId: 'far-govt-reporting',
    topic: 'State and Local Government',
    subtopic: 'GASB 87 — Leases',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'Under GASB 87, a government lessee recognizes:',
    options: [
      'A lease liability and an intangible right-to-use lease asset — with a single model that does not distinguish between finance and operating leases (all leases are treated similarly)',
      'Only rent expense each period',
      'The full purchase price of the leased asset',
      'Only a disclosure in the footnotes',
    ],
    correctAnswer: 0,
    explanation: 'GASB 87 (Leases — effective for periods beginning after June 15, 2021): Single model: ALL leases (> 12 months) are recorded the same way (no finance vs. operating distinction as in ASC 842). Lessee: (1) Lease liability = PV of future lease payments, (2) Intangible right-to-use lease asset = lease liability + prepayments + initial direct costs. Amortize the asset over the shorter of the lease term or the useful life. Interest expense on the liability. Lessor: (1) Lease receivable = PV of future lease payments, (2) Deferred inflow of resources = same amount. Short-term exemption: ≤ 12 months (including extension options). Contracts that transfer ownership are NOT leases under GASB 87 (treated as financed purchases).',
    reference: 'GASB 87',
  },
];
