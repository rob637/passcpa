// FAR - Financial Accounting Mastery Questions
// 2026 CPA Exam Blueprint Compliant
// World-Class expansion - Mastery batch

import { Question } from '../../../types';

export const FAR_QUESTIONS_MASTERY: Question[] = [
  {
    id: 'far-mast-001',
    section: 'FAR',
    topicId: 'far-framework',
    topic: 'Conceptual Framework',
    subtopic: 'Recognition Criteria',
    difficulty: 'hard',
    blueprintArea: 'FAR-I',
    skillLevel: 'Evaluation',
    question: 'Under the FASB conceptual framework, an item should be recognized when:',
    options: [
      'It has economic value',
      'It is material',
      'Cash is received',
      'It meets the definition of an element, is measurable, and information is relevant and faithfully represents what it purports to represent'
    ],
    correctAnswer: 3,
    explanation: 'Recognition: (1) meets element definition (asset, liability, etc.), (2) measurable with sufficient reliability, (3) relevant, (4) representational faithfulness. Derecognition when criteria no longer met.',
    reference: 'FASB Concepts Statement No. 8',
  },
  {
    id: 'far-mast-002',
    section: 'FAR',
    topicId: 'far-presentation',
    topic: 'Financial Statements',
    subtopic: 'Discontinued Operations',
    difficulty: 'hard',
    blueprintArea: 'FAR-I',
    skillLevel: 'Analysis',
    question: 'Discontinued operations reporting requires the component to represent:',
    options: [
      'A strategic shift that has or will have a major effect on operations and financial results',
      'Any disposed operation',
      'A loss-making division',
      'An asset held for sale'
    ],
    correctAnswer: 0,
    explanation: 'Discontinued operations (ASU 2014-08): disposal represents strategic shift with major effect (entire operating segment, major geographic area, major equity method investment). Report separately net of tax.',
    reference: 'ASC 205-20',
  },
  {
    id: 'far-mast-003',
    section: 'FAR',
    topicId: 'far-receivables',
    topic: 'Receivables',
    subtopic: 'CECL Model',
    difficulty: 'hard',
    blueprintArea: 'FAR-III',
    skillLevel: 'Analysis',
    question: 'The Current Expected Credit Loss (CECL) model requires:',
    options: [
      'Immediate recognition of expected lifetime credit losses upon asset origination or acquisition',
      'Recognizing losses when probable',
      'Annual impairment testing',
      'Fair value measurement'
    ],
    correctAnswer: 0,
    explanation: 'CECL (ASU 2016-13): recognize expected lifetime credit losses at origination/acquisition. Forward-looking, considers historical losses, current conditions, reasonable forecasts. Applies to: loans, HTM debt, receivables, lease receivables.',
    reference: 'ASC 326-20',
  },
  {
    id: 'far-mast-004',
    section: 'FAR',
    topicId: 'far-inventory',
    topic: 'Inventory',
    subtopic: 'Retail Method',
    difficulty: 'hard',
    blueprintArea: 'FAR-III',
    skillLevel: 'Application',
    question: 'The conventional retail inventory method approximates:',
    options: [
      'Lower of average cost or market',
      'FIFO',
      'LIFO',
      'Specific identification'
    ],
    correctAnswer: 0,
    explanation: 'Conventional retail: average cost basis with LCM adjustment. Markdowns excluded from cost-to-retail ratio (lowers ratio, conservative). LIFO retail: current period ratio only. FIFO retail: no adjustment for markdowns.',
    reference: 'ASC 330 - Retail Inventory',
  },
  {
    id: 'far-mast-005',
    section: 'FAR',
    topicId: 'far-ppe',
    topic: 'Fixed Assets',
    subtopic: 'Impairment Test',
    difficulty: 'hard',
    blueprintArea: 'FAR-III',
    skillLevel: 'Analysis',
    question: 'For long-lived assets held for use, impairment testing requires:',
    options: [
      'Recoverability test first (undiscounted cash flows), then measure loss at fair value',
      'Annual testing',
      'Direct fair value write-down',
      'Discounted cash flow comparison'
    ],
    correctAnswer: 0,
    explanation: 'Held for use: (1) recoverability test - compare carrying to undiscounted future cash flows. If carrying exceeds, then (2) measure impairment = carrying - fair value. Group at lowest level with identifiable cash flows.',
    reference: 'ASC 360-10-35',
  },
  {
    id: 'far-mast-006',
    section: 'FAR',
    topicId: 'far-intangibles',
    topic: 'Intangible Assets',
    subtopic: 'Indefinite-Lived Intangibles',
    difficulty: 'hard',
    blueprintArea: 'FAR-III',
    skillLevel: 'Analysis',
    question: 'Indefinite-lived intangible assets other than goodwill:',
    options: [
      'Are amortized over 15 years',
      'Are tested for impairment annually (or more frequently if indicators) by comparing fair value to carrying amount',
      'Never require impairment testing',
      'Use undiscounted cash flows',
    ],
    correctAnswer: 1,
    explanation: 'Indefinite-lived intangibles: no amortization. Annual impairment test (or more if indicators). Qualitative assessment allowed first. If quantitative needed: FV vs. carrying. No recoverability test. Different from goodwill (reporting unit).',
    reference: 'ASC 350-30',
  },
  {
    id: 'far-mast-007',
    section: 'FAR',
    topicId: 'far-liabilities',
    topic: 'Contingencies',
    subtopic: 'Gain Contingencies',
    difficulty: 'medium',
    blueprintArea: 'FAR-IV',
    skillLevel: 'Application',
    question: 'Gain contingencies should be:',
    options: [
      'Disclosed but not recognized until realized (conservatism)',
      'Recognized when probable',
      'Recognized at fair value',
      'Ignored until settled'
    ],
    correctAnswer: 0,
    explanation: 'Gain contingency: do NOT recognize (conservatism). Disclose if probability is high. Recognize only when realized (contingency resolved). Different from loss contingencies (recognize if probable and estimable).',
    reference: 'ASC 450-30',
  },
  {
    id: 'far-mast-008',
    section: 'FAR',
    topicId: 'far-bonds',
    topic: 'Debt',
    subtopic: 'Debt Modification vs Extinguishment',
    difficulty: 'hard',
    blueprintArea: 'FAR-IV',
    skillLevel: 'Analysis',
    question: 'A debt modification is treated as extinguishment when:',
    options: [
      'Any terms change',
      'Cash flows differ by more than 10% between old and modified debt',
      'Interest rate changes',
      'Maturity extends',
    ],
    correctAnswer: 1,
    explanation: 'Debt modification vs. extinguishment: >10% change in PV of cash flows (same discount rate) = extinguishment. Extinguishment: derecognize old, record new at FV, recognize gain/loss. Modification: adjust prospectively, fees expensed.',
    reference: 'ASC 470-50',
  },
  {
    id: 'far-mast-009',
    section: 'FAR',
    topicId: 'far-equity',
    topic: 'Stockholders\' Equity',
    subtopic: 'Treasury Stock',
    difficulty: 'hard',
    blueprintArea: 'FAR-V',
    skillLevel: 'Analysis',
    question: 'Under the cost method, when treasury stock is reissued below cost:',
    options: [
      'Record a loss',
      'Debit only APIC',
      'Debit APIC-Treasury Stock first, then Retained Earnings if APIC insufficient',
      'Record at fair value'
    ],
    correctAnswer: 2,
    explanation: 'Treasury stock reissued below cost: Dr. Cash, Dr. APIC-TS (from previous reissuances of same stock above cost), Dr. RE (if APIC-TS exhausted), Cr. Treasury Stock. Never debit a loss account.',
    reference: 'ASC 505-30',
  },
  {
    id: 'far-mast-010',
    section: 'FAR',
    topicId: 'far-equity',
    topic: 'Stock Compensation',
    subtopic: 'Performance Conditions',
    difficulty: 'hard',
    blueprintArea: 'FAR-V',
    skillLevel: 'Analysis',
    question: 'Stock options with performance conditions are accounted for by:',
    options: [
      'Measuring at grant date regardless',
      'Recognizing expense when probable of achievement over requisite service period, adjusting each period',
      'Waiting until vesting',
      'Ignoring performance conditions',
    ],
    correctAnswer: 1,
    explanation: 'Performance conditions: assess probability each period. If probable, recognize expense over service period (cliff or graded vesting). Adjust cumulative expense for probability changes. True-up to actual outcome at vesting.',
    reference: 'ASC 718-10-25',
  },
  {
    id: 'far-mast-011',
    section: 'FAR',
    topicId: 'far-govt',
    topic: 'Government Accounting',
    subtopic: 'Modified Accrual',
    difficulty: 'hard',
    blueprintArea: 'FAR-VI',
    skillLevel: 'Analysis',
    question: 'Under modified accrual basis, revenues are recognized when:',
    options: [
      'Measurable and available (collectible within current period or soon enough to pay current liabilities)',
      'Earned',
      'Cash received',
      'Appropriated'
    ],
    correctAnswer: 0,
    explanation: 'Modified accrual: revenues = measurable AND available (collected within period or soon enough to pay current liabilities - typically 60 days). Expenditures = when fund liability incurred (generally). Used in governmental funds.',
    reference: 'GASB Statement 34',
  },
  {
    id: 'far-mast-012',
    section: 'FAR',
    topicId: 'far-govt',
    topic: 'Government Accounting',
    subtopic: 'Derived Tax Revenue',
    difficulty: 'hard',
    blueprintArea: 'FAR-VI',
    skillLevel: 'Application',
    question: 'Derived tax revenue (sales tax, income tax) is recognized:',
    options: [
      'When received',
      'When budgeted',
      'When assessed',
      'In the period underlying exchange occurs (when measurable and available)'
    ],
    correctAnswer: 3,
    explanation: 'Derived tax revenues: recognize when underlying exchange occurs AND measurable and available. Sales tax: recognize when sale occurs. Income tax: recognize when income earned. Subject to availability criterion.',
    reference: 'GASB Statement 33',
  },
  {
    id: 'far-mast-013',
    section: 'FAR',
    topicId: 'far-nfp',
    topic: 'Not-for-Profit',
    subtopic: 'Functional Expenses',
    difficulty: 'hard',
    blueprintArea: 'FAR-VII',
    skillLevel: 'Application',
    question: 'Not-for-profit functional expense presentation requires:',
    options: [
      'Total expenses only',
      'Program expenses only',
      'Expenses by function (program vs. support) and nature, with allocation methodology disclosed',
      'Cash basis reporting'
    ],
    correctAnswer: 2,
    explanation: 'NFP expenses: present by function (program, management/general, fundraising) and by nature (salaries, supplies). Matrix format acceptable. Disclose allocation methods. Joint costs allocated if all criteria met.',
    reference: 'ASC 958-720',
  },
  {
    id: 'far-mast-014',
    section: 'FAR',
    topicId: 'far-nfp',
    topic: 'Not-for-Profit',
    subtopic: 'Contributed Services',
    difficulty: 'hard',
    blueprintArea: 'FAR-VII',
    skillLevel: 'Analysis',
    question: 'Contributed services are recognized as revenue and expense when:',
    options: [
      'Any volunteer work',
      'Board members volunteer',
      'They create or enhance nonfinancial assets OR require specialized skills that would otherwise be purchased',
      'Time is documented'
    ],
    correctAnswer: 2,
    explanation: 'Contributed services: recognize if (1) create/enhance non-financial asset, OR (2) require specialized skills, are provided by those with skills, and would typically be purchased. Other volunteer services disclosed only.',
    reference: 'ASC 958-605-25-16',
  },
  {
    id: 'far-mast-015',
    section: 'FAR',
    topicId: 'far-consolidation',
    topic: 'Consolidation',
    subtopic: 'Noncontrolling Interest',
    difficulty: 'hard',
    blueprintArea: 'FAR-II',
    skillLevel: 'Analysis',
    question: 'Noncontrolling interest is measured at:',
    options: [
      'Book value only',
      'Cost',
      'Fair value (full goodwill) or proportionate share of identifiable net assets (partial goodwill)',
      'Parent\'s carrying amount'
    ],
    correctAnswer: 2,
    explanation: 'NCI measurement: GAAP allows choice per acquisition. (1) Fair value = full goodwill (NCI share of goodwill), (2) proportionate share of identifiable net assets = partial goodwill. NCI reported in equity, not liability.',
    reference: 'ASC 810-10-45',
  },
  {
    id: 'far-mast-016',
    section: 'FAR',
    topicId: 'far-revenue',
    topic: 'Revenue Recognition',
    subtopic: 'Significant Financing',
    difficulty: 'hard',
    blueprintArea: 'FAR-II',
    skillLevel: 'Analysis',
    question: 'A significant financing component exists when:',
    options: [
      'Timing of payment provides financing benefit and that benefit is significant to the contract',
      'Any payment delay occurs',
      'Interest is charged',
      'Payment is upfront'
    ],
    correctAnswer: 0,
    explanation: 'Significant financing: adjust transaction price for time value of money if payment timing provides significant financing. Not significant if ≤1 year, or customer pays as/when consumed, or variable consideration uncertain. Use appropriate discount rate.',
    reference: 'ASC 606-10-32-15',
  },
  {
    id: 'far-mast-017',
    section: 'FAR',
    topicId: 'far-revenue',
    topic: 'Revenue Recognition',
    subtopic: 'Warranties',
    difficulty: 'hard',
    blueprintArea: 'FAR-II',
    skillLevel: 'Analysis',
    question: 'An extended warranty that provides a service beyond assurance is accounted for as:',
    options: [
      'A contingency',
      'A separate performance obligation with revenue deferred and recognized over warranty period',
      'Current expense',
      'Part of product cost',
    ],
    correctAnswer: 1,
    explanation: 'Warranty types: assurance-type (standard) = accrued liability, not separate PO. Service-type (extended, customer election) = separate PO, allocate transaction price, recognize revenue over service period.',
    reference: 'ASC 606-10-55-30',
  },
  {
    id: 'far-mast-018',
    section: 'FAR',
    topicId: 'far-pension',
    topic: 'Pensions',
    subtopic: 'Plan Amendments',
    difficulty: 'hard',
    blueprintArea: 'FAR-IV',
    skillLevel: 'Analysis',
    question: 'Prior service cost from a plan amendment is:',
    options: [
      'Recognized immediately in income',
      'Recognized in OCI and amortized to pension expense over remaining service period or life expectancy',
      'Added to plan assets',
      'Ignored',
    ],
    correctAnswer: 1,
    explanation: 'Prior service cost: recognize in OCI at amendment date. Amortize to expense over future service period of active employees (or remaining life if mostly inactive plan). Affects accumulated OCI until amortized.',
    reference: 'ASC 715-30-35-10',
  },
  {
    id: 'far-mast-019',
    section: 'FAR',
    topicId: 'far-leases',
    topic: 'Lease Accounting',
    subtopic: 'Sale-Leaseback',
    difficulty: 'hard',
    blueprintArea: 'FAR-IV',
    skillLevel: 'Analysis',
    question: 'In a sale-leaseback meeting sale criteria, the seller-lessee recognizes:',
    options: [
      'Full gain immediately',
      'No gain',
      'Only the portion of gain proportionate to rights transferred (gain × % rights transferred)',
      'Deferred gain'
    ],
    correctAnswer: 2,
    explanation: 'Sale-leaseback with sale: seller-lessee recognizes gain/loss only for rights transferred (not retained via leaseback). Gain = (FV - carrying amount) × (residual/FV). ROU asset and lease liability recorded for leaseback.',
    reference: 'ASC 842-40',
  },
  {
    id: 'far-mast-020',
    section: 'FAR',
    topicId: 'far-forex',
    topic: 'Foreign Currency',
    subtopic: 'Functional Currency',
    difficulty: 'hard',
    blueprintArea: 'FAR-V',
    skillLevel: 'Evaluation',
    question: 'Functional currency is determined by evaluating:',
    options: [
      'Parent\'s currency',
      'Country of incorporation',
      'Primary economic environment indicators including cash flows, sales prices, expenses, financing, and intercompany transactions',
      'Reporting currency'
    ],
    correctAnswer: 2,
    explanation: 'Functional currency indicators: (1) cash flow currency, (2) sales price determinants, (3) sales market location, (4) expense/cost currency, (5) financing currency, (6) intercompany volume. Management judgment required.',
    reference: 'ASC 830-10-55',
  },
  {
    id: 'far-mast-021',
    section: 'FAR',
    topicId: 'far-errors',
    topic: 'Error Correction',
    subtopic: 'Immaterial Prior Period Errors',
    difficulty: 'hard',
    blueprintArea: 'FAR-I',
    skillLevel: 'Analysis',
    question: 'When immaterial prior period errors become material in aggregate:',
    options: [
      'Prospective correction',
      'Retroactive restatement of prior periods (big R restatement if intentional, little r revision if unintentional)',
      'Disclosure only',
      'No action needed',
    ],
    correctAnswer: 1,
    explanation: 'Iron curtain approach may create material aggregate errors. SAB 108: evaluate both rollover and iron curtain. If correcting in current year would be material, restate priors. "Big R" = fraud/intentional. "Little r" = unintentional revision.',
    reference: 'ASC 250 / SAB 108',
  },
  {
    id: 'far-mast-022',
    section: 'FAR',
    topicId: 'far-fair-value',
    topic: 'Fair Value',
    subtopic: 'Market Participant Assumptions',
    difficulty: 'hard',
    blueprintArea: 'FAR-I',
    skillLevel: 'Evaluation',
    question: 'Fair value measurement should reflect:',
    options: [
      'Entity-specific value',
      'Assumptions market participants would use, including assumptions about risk',
      'Historical cost',
      'Insurance value',
    ],
    correctAnswer: 1,
    explanation: 'Fair value: exit price from market participant perspective. Use assumptions market participants would use (not entity-specific unless no market evidence). Consider: highest and best use, principal/most advantageous market.',
    reference: 'ASC 820-10-35',
  },
  {
    id: 'far-mast-023',
    section: 'FAR',
    topicId: 'far-segment',
    topic: 'Segment Reporting',
    subtopic: 'Chief Operating Decision Maker',
    difficulty: 'hard',
    blueprintArea: 'FAR-II',
    skillLevel: 'Analysis',
    question: 'Operating segments are identified based on:',
    options: [
      'Legal entities',
      'How the chief operating decision maker allocates resources and assesses performance',
      'Geographic regions only',
      'Product lines only',
    ],
    correctAnswer: 1,
    explanation: 'Operating segments: components the CODM (function, not person) uses to allocate resources and assess performance. Discrete financial information available. May not align with legal structure. CODM judgment required.',
    reference: 'ASC 280-10-50-1',
  },
  {
    id: 'far-mast-024',
    section: 'FAR',
    topicId: 'far-cash-flows',
    topic: 'Statement of Cash Flows',
    subtopic: 'Classification Issues',
    difficulty: 'hard',
    blueprintArea: 'FAR-I',
    skillLevel: 'Analysis',
    question: 'Interest paid is classified as:',
    options: [
      'Financing activity',
      'Investing activity',
      'Operating activity under US GAAP (IFRS allows operating or financing)',
      'Depends on debt type'
    ],
    correctAnswer: 2,
    explanation: 'US GAAP: interest paid = operating. Interest received = operating. Dividends received = operating. Dividends paid = financing. IFRS allows more flexibility. Classification differences affect operating cash flow comparisons.',
    reference: 'ASC 230-10-45',
  },
  {
    id: 'far-mast-025',
    section: 'FAR',
    topicId: 'far-investments',
    topic: 'Investments',
    subtopic: 'Equity Method Discontinuation',
    difficulty: 'hard',
    blueprintArea: 'FAR-II',
    skillLevel: 'Analysis',
    question: 'When an investor loses significant influence over an equity method investee:',
    options: [
      'Continue equity method',
      'Discontinue equity method, measure retained investment at fair value, recognize gain/loss',
      'Use cost method',
      'Consolidate',
    ],
    correctAnswer: 1,
    explanation: 'Loss of significant influence: stop equity method. Fair value retained interest. Recognize gain/loss for difference between (1) FV of consideration received + FV of retained investment, and (2) carrying amount. Reclassify AOCI.',
    reference: 'ASC 323-10-35-36',
  },
];
