// FAR - Financial Accounting Mastery Questions
// 2026 CPA Exam Blueprint Compliant
// World-Class expansion - Mastery batch

import { Question } from '../../../types';

export const FAR_QUESTIONS_MASTERY: Question[] = [
  {
    id: 'far-mast-001',
    section: 'FAR',
    courseId: 'cpa',
    topicId: 'far-framework',
    topic: 'Conceptual Framework',
    subtopic: 'Recognition Criteria',
    difficulty: 'hard',
    blueprintArea: 'FAR-I',
    skillLevel: 'Evaluation',
    question: 'Under the FASB conceptual framework, an item should be recognized when:',
    options: [
      'It has economic value',
      'It meets the definition of an element, is measurable, and information is relevant and faithfully represents what it purports to represent',
      'Cash is received',
      'It is material',
    ],
    correctAnswer: 1,
    explanation: 'Recognition: (1) meets element definition (asset, liability, etc.), (2) measurable with sufficient reliability, (3) relevant, (4) representational faithfulness. Derecognition when criteria no longer met.',
    reference: 'FASB Concepts Statement No. 8',
  },
  {
    id: 'far-mast-002',
    section: 'FAR',
    courseId: 'cpa',
    topicId: 'far-presentation',
    topic: 'Financial Statements',
    subtopic: 'Discontinued Operations',
    difficulty: 'hard',
    blueprintArea: 'FAR-I',
    skillLevel: 'Analysis',
    question: 'Discontinued operations reporting requires the component to represent:',
    options: [
      'An asset held for sale',
      'A loss-making division',
      'A strategic shift that has or will have a major effect on operations and financial results',
      'Any disposed operation',
    ],
    correctAnswer: 2,
    explanation: 'Discontinued operations (ASU 2014-08): disposal represents strategic shift with major effect (entire operating segment, major geographic area, major equity method investment). Report separately net of tax.',
    reference: 'ASC 205-20',
  },
  {
    id: 'far-mast-003',
    section: 'FAR',
    courseId: 'cpa',
    topicId: 'far-receivables',
    topic: 'Receivables',
    subtopic: 'CECL Model',
    difficulty: 'hard',
    blueprintArea: 'FAR-III',
    skillLevel: 'Analysis',
    question: 'The Current Expected Credit Loss (CECL) model requires:',
    options: [
      'Fair value measurement',
      'Annual impairment testing',
      'Immediate recognition of expected lifetime credit losses upon asset origination or acquisition',
      'Recognizing losses when probable',
    ],
    correctAnswer: 2,
    explanation: 'CECL (ASU 2016-13): recognize expected lifetime credit losses at origination/acquisition. Forward-looking, considers historical losses, current conditions, reasonable forecasts. Applies to: loans, HTM debt, receivables, lease receivables.',
    reference: 'ASC 326-20',
  },
  {
    id: 'far-mast-004',
    section: 'FAR',
    courseId: 'cpa',
    topicId: 'far-inventory',
    topic: 'Inventory',
    subtopic: 'Retail Method',
    difficulty: 'hard',
    blueprintArea: 'FAR-III',
    skillLevel: 'Application',
    question: 'The conventional retail inventory method approximates:',
    options: [
      'Lower of average cost or market',
      'LIFO',
      'Specific identification',
      'FIFO',
    ],
    correctAnswer: 0,
    explanation: 'Conventional retail: average cost basis with LCM adjustment. Markdowns excluded from cost-to-retail ratio (lowers ratio, conservative). LIFO retail: current period ratio only. FIFO retail: no adjustment for markdowns.',
    reference: 'ASC 330 - Retail Inventory',
  },
  {
    id: 'far-mast-005',
    section: 'FAR',
    courseId: 'cpa',
    topicId: 'far-ppe',
    topic: 'Fixed Assets',
    subtopic: 'Impairment Test',
    difficulty: 'hard',
    blueprintArea: 'FAR-III',
    skillLevel: 'Analysis',
    question: 'For long-lived assets held for use, impairment testing requires:',
    options: [
      'Recoverability test first (undiscounted cash flows), then measure loss at fair value',
      'Direct fair value write-down',
      'Discounted cash flow comparison',
      'Annual testing',
    ],
    correctAnswer: 0,
    explanation: 'Held for use: (1) recoverability test - compare carrying to undiscounted future cash flows. If carrying exceeds, then (2) measure impairment = carrying - fair value. Group at lowest level with identifiable cash flows.',
    reference: 'ASC 360-10-35',
  },
  {
    id: 'far-mast-006',
    section: 'FAR',
    courseId: 'cpa',
    topicId: 'far-intangibles',
    topic: 'Intangible Assets',
    subtopic: 'Indefinite-Lived Intangibles',
    difficulty: 'hard',
    blueprintArea: 'FAR-III',
    skillLevel: 'Analysis',
    question: 'Indefinite-lived intangible assets other than goodwill:',
    options: [
      'Never require impairment testing',
      'Are amortized over 15 years',
      'Use undiscounted cash flows',
      'Are tested for impairment annually (or more frequently if indicators) by comparing fair value to carrying amount',
    ],
    correctAnswer: 3,
    explanation: 'Indefinite-lived intangibles: no amortization. Annual impairment test (or more if indicators). Qualitative assessment allowed first. If quantitative needed: FV vs. carrying. No recoverability test. Different from goodwill (reporting unit).',
    reference: 'ASC 350-30',
  },
  {
    id: 'far-mast-007',
    courseId: 'cpa',
    section: 'FAR',
    blueprintArea: 'FAR-IV',
    topic: 'Contingencies',
    subtopic: 'Gain Contingencies',
    difficulty: 'medium',
    skillLevel: 'Application',
    question: 'Orion Corp. is the plaintiff in a lawsuit and legal counsel advises that it is probable the company will receive a judgment of $2 million. Under ASC 450, Orion should:',
    options: [
      'Accrue a $2 million gain contingency and disclose it in the notes',
      'Disclose the contingency in the notes but not accrue it',
      'Neither accrue nor disclose because the outcome is uncertain',
      'Record a receivable for $2 million offset by deferred revenue',
    ],
    correctAnswer: 1,
    explanation: 'Under ASC 450-30-25 (gain contingencies), gains are never accrued — they are disclosed in the notes when realization is probable. This conservative treatment prevents premature recognition of income. The gain is recognized only when realized (i.e., when the judgment is received or the claim is settled). Adequate disclosure should avoid misleading implications about the likelihood of realization.',
    reference: 'ASC 450-30',
  },
  {
    id: 'far-mast-008',
    section: 'FAR',
    courseId: 'cpa',
    topicId: 'far-bonds',
    topic: 'Debt',
    subtopic: 'Debt Modification vs Extinguishment',
    difficulty: 'hard',
    blueprintArea: 'FAR-IV',
    skillLevel: 'Analysis',
    question: 'A debt modification is treated as extinguishment when:',
    options: [
      'Any terms change',
      'Maturity extends',
      'Interest rate changes',
      'Cash flows differ by more than 10% between old and modified debt',
    ],
    correctAnswer: 3,
    explanation: 'Debt modification vs. extinguishment: >10% change in PV of cash flows (same discount rate) = extinguishment. Extinguishment: derecognize old, record new at FV, recognize gain/loss. Modification: adjust prospectively, fees expensed.',
    reference: 'ASC 470-50',
  },
  {
    id: 'far-mast-009',
    section: 'FAR',
    courseId: 'cpa',
    topicId: 'far-equity',
    topic: 'Stockholders\' Equity',
    subtopic: 'Treasury Stock',
    difficulty: 'hard',
    blueprintArea: 'FAR-V',
    skillLevel: 'Analysis',
    question: 'Under the cost method, when treasury stock is reissued below cost:',
    options: [
      'Debit APIC-Treasury Stock first, then Retained Earnings if APIC insufficient',
      'Record at fair value',
      'Record a loss',
      'Debit only APIC',
    ],
    correctAnswer: 0,
    explanation: 'Treasury stock reissued below cost: Dr. Cash, Dr. APIC-TS (from previous reissuances of same stock above cost), Dr. RE (if APIC-TS exhausted), Cr. Treasury Stock. Never debit a loss account.',
    reference: 'ASC 505-30',
  },
  {
    id: 'far-mast-010',
    section: 'FAR',
    courseId: 'cpa',
    topicId: 'far-equity',
    topic: 'Stock Compensation',
    subtopic: 'Performance Conditions',
    difficulty: 'hard',
    blueprintArea: 'FAR-V',
    skillLevel: 'Analysis',
    question: 'Stock options with performance conditions are accounted for by:',
    options: [
      'Ignoring performance conditions',
      'Measuring at grant date regardless',
      'Waiting until vesting',
      'Recognizing expense when probable of achievement over requisite service period, adjusting each period',
    ],
    correctAnswer: 3,
    explanation: 'Performance conditions: assess probability each period. If probable, recognize expense over service period (cliff or graded vesting). Adjust cumulative expense for probability changes. True-up to actual outcome at vesting.',
    reference: 'ASC 718-10-25',
  },
  {
    id: 'far-mast-011',
    section: 'FAR',
    courseId: 'cpa',
    topicId: 'far-govt',
    topic: 'Government Accounting',
    subtopic: 'Modified Accrual',
    difficulty: 'hard',
    blueprintArea: 'FAR-V',
    skillLevel: 'Analysis',
    question: 'Under modified accrual basis, revenues are recognized when:',
    options: [
      'Cash received',
      'Appropriated',
      'Measurable and available (collectible within current period or soon enough to pay current liabilities)',
      'Earned',
    ],
    correctAnswer: 2,
    explanation: 'Modified accrual: revenues = measurable AND available (collected within period or soon enough to pay current liabilities - typically 60 days). Expenditures = when fund liability incurred (generally). Used in governmental funds.',
    reference: 'GASB Statement 34',
  },
  {
    id: 'far-mast-012',
    section: 'FAR',
    courseId: 'cpa',
    topicId: 'far-govt',
    topic: 'Government Accounting',
    subtopic: 'Derived Tax Revenue',
    difficulty: 'hard',
    blueprintArea: 'FAR-V',
    skillLevel: 'Application',
    question: 'Derived tax revenue (sales tax, income tax) is recognized:',
    options: [
      'When assessed',
      'In the period underlying exchange occurs (when measurable and available)',
      'When received',
      'When budgeted',
    ],
    correctAnswer: 1,
    explanation: 'Derived tax revenues: recognize when underlying exchange occurs AND measurable and available. Sales tax: recognize when sale occurs. Income tax: recognize when income earned. Subject to availability criterion.',
    reference: 'GASB Statement 33',
  },
  {
    id: 'far-mast-013',
    section: 'FAR',
    courseId: 'cpa',
    topicId: 'far-nfp',
    topic: 'Not-for-Profit',
    subtopic: 'Functional Expenses',
    difficulty: 'hard',
    blueprintArea: 'FAR-V',
    skillLevel: 'Application',
    question: 'Not-for-profit functional expense presentation requires:',
    options: [
      'Cash basis reporting',
      'Expenses by function (program vs. support) and nature, with allocation methodology disclosed',
      'Total expenses only',
      'Program expenses only',
    ],
    correctAnswer: 1,
    explanation: 'NFP expenses: present by function (program, management/general, fundraising) and by nature (salaries, supplies). Matrix format acceptable. Disclose allocation methods. Joint costs allocated if all criteria met.',
    reference: 'ASC 958-720',
  },
  {
    id: 'far-mast-014',
    section: 'FAR',
    courseId: 'cpa',
    topicId: 'far-nfp',
    topic: 'Not-for-Profit',
    subtopic: 'Contributed Services',
    difficulty: 'hard',
    blueprintArea: 'FAR-V',
    skillLevel: 'Analysis',
    question: 'Contributed services are recognized as revenue and expense when:',
    options: [
      'They create or enhance nonfinancial assets OR require specialized skills that would otherwise be purchased',
      'Any volunteer work',
      'Time is documented',
      'Board members volunteer',
    ],
    correctAnswer: 0,
    explanation: 'Contributed services: recognize if (1) create/enhance non-financial asset, OR (2) require specialized skills, are provided by those with skills, and would typically be purchased. Other volunteer services disclosed only.',
    reference: 'ASC 958-605-25-16',
  },
  {
    id: 'far-mast-015',
    section: 'FAR',
    courseId: 'cpa',
    topicId: 'far-consolidation',
    topic: 'Consolidation',
    subtopic: 'Noncontrolling Interest',
    difficulty: 'hard',
    blueprintArea: 'FAR-II',
    skillLevel: 'Analysis',
    question: 'Noncontrolling interest is measured at:',
    options: [
      'Book value only',
      'Fair value (full goodwill) or proportionate share of identifiable net assets (partial goodwill)',
      'Parent\'s carrying amount',
      'Cost',
    ],
    correctAnswer: 1,
    explanation: 'NCI measurement: GAAP allows choice per acquisition. (1) Fair value = full goodwill (NCI share of goodwill), (2) proportionate share of identifiable net assets = partial goodwill. NCI reported in equity, not liability.',
    reference: 'ASC 810-10-45',
  },
  {
    id: 'far-mast-016',
    section: 'FAR',
    courseId: 'cpa',
    topicId: 'far-revenue',
    topic: 'Revenue Recognition',
    subtopic: 'Significant Financing',
    difficulty: 'hard',
    blueprintArea: 'FAR-II',
    skillLevel: 'Analysis',
    question: 'A significant financing component exists when:',
    options: [
      'Timing of payment provides financing benefit and that benefit is significant to the contract',
      'Payment is upfront',
      'Interest is charged',
      'Any payment delay occurs',
    ],
    correctAnswer: 0,
    explanation: 'Significant financing: adjust transaction price for time value of money if payment timing provides significant financing. Not significant if ≤1 year, or customer pays as/when consumed, or variable consideration uncertain. Use appropriate discount rate.',
    reference: 'ASC 606-10-32-15',
  },
  {
    id: 'far-mast-017',
    section: 'FAR',
    courseId: 'cpa',
    topicId: 'far-revenue',
    topic: 'Revenue Recognition',
    subtopic: 'Warranties',
    difficulty: 'hard',
    blueprintArea: 'FAR-II',
    skillLevel: 'Analysis',
    question: 'An extended warranty that provides a service beyond assurance is accounted for as:',
    options: [
      'Part of product cost',
      'A contingency',
      'Current expense',
      'A separate performance obligation with revenue deferred and recognized over warranty period',
    ],
    correctAnswer: 3,
    explanation: 'Warranty types: assurance-type (standard) = accrued liability, not separate PO. Service-type (extended, customer election) = separate PO, allocate transaction price, recognize revenue over service period.',
    reference: 'ASC 606-10-55-30',
  },
  {
    id: 'far-mast-018',
    section: 'FAR',
    courseId: 'cpa',
    topicId: 'far-pension',
    topic: 'Pensions',
    subtopic: 'Plan Amendments',
    difficulty: 'hard',
    blueprintArea: 'FAR-IV',
    skillLevel: 'Analysis',
    question: 'Prior service cost from a plan amendment is:',
    options: [
      'Ignored',
      'Recognized immediately in income',
      'Added to plan assets',
      'Recognized in OCI and amortized to pension expense over remaining service period or life expectancy',
    ],
    correctAnswer: 3,
    explanation: 'Prior service cost: recognize in OCI at amendment date. Amortize to expense over future service period of active employees (or remaining life if mostly inactive plan). Affects accumulated OCI until amortized.',
    reference: 'ASC 715-30-35-10',
  },
  {
    id: 'far-mast-019',
    section: 'FAR',
    courseId: 'cpa',
    topicId: 'far-leases',
    topic: 'Lease Accounting',
    subtopic: 'Sale-Leaseback',
    difficulty: 'hard',
    blueprintArea: 'FAR-IV',
    skillLevel: 'Analysis',
    question: 'In a sale-leaseback meeting sale criteria, the seller-lessee recognizes:',
    options: [
      'Only the portion of gain proportionate to rights transferred (gain × % rights transferred)',
      'Deferred gain',
      'Full gain immediately',
      'No gain',
    ],
    correctAnswer: 0,
    explanation: 'Sale-leaseback with sale: seller-lessee recognizes gain/loss only for rights transferred (not retained via leaseback). Gain = (FV - carrying amount) × (residual/FV). ROU asset and lease liability recorded for leaseback.',
    reference: 'ASC 842-40',
  },
  {
    id: 'far-mast-020',
    section: 'FAR',
    courseId: 'cpa',
    topicId: 'far-forex',
    topic: 'Foreign Currency',
    subtopic: 'Functional Currency',
    difficulty: 'hard',
    blueprintArea: 'FAR-V',
    skillLevel: 'Evaluation',
    question: 'Functional currency is determined by evaluating:',
    options: [
      'Primary economic environment indicators including cash flows, sales prices, expenses, financing, and intercompany transactions',
      'Reporting currency',
      'Parent\'s currency',
      'Country of incorporation',
    ],
    correctAnswer: 0,
    explanation: 'Functional currency indicators: (1) cash flow currency, (2) sales price determinants, (3) sales market location, (4) expense/cost currency, (5) financing currency, (6) intercompany volume. Management judgment required.',
    reference: 'ASC 830-10-55',
  },
  {
    id: 'far-mast-021',
    section: 'FAR',
    courseId: 'cpa',
    topicId: 'far-errors',
    topic: 'Error Correction',
    subtopic: 'Immaterial Prior Period Errors',
    difficulty: 'hard',
    blueprintArea: 'FAR-I',
    skillLevel: 'Analysis',
    question: 'When immaterial prior period errors become material in aggregate:',
    options: [
      'No action needed',
      'Disclosure only',
      'Prospective correction',
      'Retroactive restatement of prior periods (big R restatement if intentional, little r revision if unintentional)',
    ],
    correctAnswer: 3,
    explanation: 'Iron curtain approach may create material aggregate errors. SAB 108: evaluate both rollover and iron curtain. If correcting in current year would be material, restate priors. "Big R" = fraud/intentional. "Little r" = unintentional revision.',
    reference: 'ASC 250 / SAB 108',
  },
  {
    id: 'far-mast-022',
    section: 'FAR',
    courseId: 'cpa',
    topicId: 'far-fair-value',
    topic: 'Fair Value',
    subtopic: 'Market Participant Assumptions',
    difficulty: 'hard',
    blueprintArea: 'FAR-I',
    skillLevel: 'Evaluation',
    question: 'Fair value measurement should reflect:',
    options: [
      'Insurance value',
      'Historical cost',
      'Entity-specific value',
      'Assumptions market participants would use, including assumptions about risk',
    ],
    correctAnswer: 3,
    explanation: 'Fair value: exit price from market participant perspective. Use assumptions market participants would use (not entity-specific unless no market evidence). Consider: highest and best use, principal/most advantageous market.',
    reference: 'ASC 820-10-35',
  },
  {
    id: 'far-mast-023',
    section: 'FAR',
    courseId: 'cpa',
    topicId: 'far-segment',
    topic: 'Segment Reporting',
    subtopic: 'Chief Operating Decision Maker',
    difficulty: 'hard',
    blueprintArea: 'FAR-II',
    skillLevel: 'Analysis',
    question: 'Operating segments are identified based on:',
    options: [
      'Legal entities',
      'Geographic regions only',
      'Product lines only',
      'How the chief operating decision maker allocates resources and assesses performance',
    ],
    correctAnswer: 3,
    explanation: 'Operating segments: components the CODM (function, not person) uses to allocate resources and assess performance. Discrete financial information available. May not align with legal structure. CODM judgment required.',
    reference: 'ASC 280-10-50-1',
  },
  {
    id: 'far-mast-024',
    courseId: 'cpa',
    section: 'FAR',
    blueprintArea: 'FAR-I',
    topic: 'Statement of Cash Flows',
    subtopic: 'Classification Issues',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'Under ASC 230, which of the following items requires a supplemental disclosure rather than being reported within the three main categories of the statement of cash flows?',
    options: [
      'Cash paid for inventory purchases',
      'Conversion of bonds payable into common stock',
      'Cash received from sale of equipment',
      'Proceeds from issuing long-term debt',
    ],
    correctAnswer: 1,
    explanation: 'The conversion of bonds into stock is a significant noncash financing and investing activity. Under ASC 230-10-50, noncash transactions are excluded from the statement of cash flows but must be disclosed in a supplemental schedule or notes. Cash paid for inventory (operating), sale of equipment proceeds (investing), and debt issuance proceeds (financing) are all reported within the cash flow statement.',
    reference: 'ASC 230-10-45',
  },
  {
    id: 'far-mast-025',
    section: 'FAR',
    courseId: 'cpa',
    topicId: 'far-investments',
    topic: 'Investments',
    subtopic: 'Equity Method Discontinuation',
    difficulty: 'hard',
    blueprintArea: 'FAR-II',
    skillLevel: 'Analysis',
    question: 'When an investor loses significant influence over an equity method investee:',
    options: [
      'Use cost method',
      'Continue equity method',
      'Consolidate',
      'Discontinue equity method, measure retained investment at fair value, recognize gain/loss',
    ],
    correctAnswer: 3,
    explanation: 'Loss of significant influence: stop equity method. Fair value retained interest. Recognize gain/loss for difference between (1) FV of consideration received + FV of retained investment, and (2) carrying amount. Reclassify AOCI.',
    reference: 'ASC 323-10-35-36',
  },
];
