// World-Class Questions Batch 12 - Exam Quality MCQs
// 25 questions across all CPA exam sections

import { Question } from '../../../types';

export const WORLD_CLASS_BATCH_12: Question[] = [
  // FAR (4 questions)
  {
    id: 'far-wc-083',
    section: 'FAR',
    courseId: 'cpa',
    blueprintArea: 'FAR-II',
    topicId: 'far-liabilities',
    topic: 'Liabilities',
    subtopic: 'Contingencies',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'A lawsuit against the company is probable to result in a loss. The range of possible loss is $100,000 to $300,000, with no amount in the range more likely. What amount should be accrued?',
    options: [
      '$300,000',
      '$200,000',
      '$100,000',
      '$0',
    ],
    correctAnswer: 2,
    explanation: 'Under ASC 450, when loss is probable and estimable within a range, accrue the minimum if no amount is more likely. IFRS differs—it would use the midpoint. Disclose the nature and potential additional exposure.',
    reference: 'ASC 450-20-30',
  },
  {
    id: 'far-wc-084',
    section: 'FAR',
    courseId: 'cpa',
    blueprintArea: 'FAR-III',
    topicId: 'far-equity',
    topic: 'Stockholders\' Equity',
    subtopic: 'Treasury Stock',
    difficulty: 'medium',
    skillLevel: 'Application',
    question: 'A company reissues treasury stock for more than its cost. Under the cost method, the excess is credited to:',
    options: [
      'Additional paid-in capital from treasury stock',
      'Gain on treasury stock',
      'Common stock',
      'Retained earnings',
    ],
    correctAnswer: 0,
    explanation: 'Under cost method, reissue above cost: debit Cash, credit Treasury Stock (at cost), credit APIC-Treasury Stock (for excess). Gains on treasury stock transactions never go to income. If below cost, first reduce APIC, then retained earnings.',
    reference: 'ASC 505-30-30',
  },
  {
    id: 'far-wc-085',
    section: 'FAR',
    courseId: 'cpa',
    blueprintArea: 'FAR-V',
    topicId: 'far-nfp',
    topic: 'Not-for-Profit',
    subtopic: 'Donor Restrictions',
    difficulty: 'medium',
    skillLevel: 'Application',
    question: 'A donor gives $50,000 to a university restricted for scholarships. When scholarships are awarded, the university should:',
    options: [
      'Report expenses in net assets with donor restrictions',
      'Report release from restriction only when cash is disbursed',
      'Reduce contribution revenue retroactively',
      'Report release from restriction and expenses in net assets without donor restrictions',
    ],
    correctAnswer: 3,
    explanation: 'When purpose restrictions are met, assets are reclassified (released) from with donor restrictions to without donor restrictions. The scholarship expense is then reported in net assets without donor restrictions. The release and expense net to zero in that category.',
    reference: 'ASC 958-205-45',
  },
  {
    id: 'far-wc-086',
    section: 'FAR',
    courseId: 'cpa',
    blueprintArea: 'FAR-I',
    topicId: 'far-leases',
    topic: 'Leases',
    subtopic: 'Sale-Leaseback',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'A company sells a building for $500,000 (carrying value $400,000) and immediately leases it back. The sale qualifies as a sale under ASC 606. The present value of lease payments is $200,000. What gain is recognized at sale?',
    options: [
      '$60,000',
      '$40,000',
      '$0',
      '$100,000',
    ],
    correctAnswer: 0,
    explanation: 'When sale-leaseback qualifies as a sale: recognize gain only on portion transferred (not leased back). Gain = ($500,000 - $400,000) × ($500,000 - $200,000)/$500,000 = $100,000 × 60% = $60,000. Remaining gain deferred.',
    reference: 'ASC 842-40-25',
  },

  // AUD (4 questions)
  {
    id: 'aud-wc-083',
    section: 'AUD',
    courseId: 'cpa',
    blueprintArea: 'AUD-III',
    topicId: 'aud-procedures',
    topic: 'Audit Procedures',
    subtopic: 'Related Parties',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'When auditing related party transactions, the auditor is primarily concerned with:',
    options: [
      'Ensuring transactions are eliminated in consolidation',
      'Verifying the tax treatment',
      'Proper identification, accounting, and disclosure',
      'Determining if transactions are conducted at arm\'s length',
    ],
    correctAnswer: 2,
    explanation: 'The auditor\'s focus is whether related party transactions are properly identified, accounted for, and disclosed per the framework. Arm\'s length is relevant for certain disclosures, but not the primary concern—many related party transactions intentionally are not at arm\'s length.',
    reference: 'AU-C 550.03',
  },
  {
    id: 'aud-wc-084',
    section: 'AUD',
    courseId: 'cpa',
    blueprintArea: 'AUD-IV',
    topicId: 'aud-evaluation',
    topic: 'Evaluating Results',
    subtopic: 'Adjusting Entries',
    difficulty: 'medium',
    skillLevel: 'Application',
    question: 'The auditor proposes an adjusting entry that management refuses to record. The auditor should:',
    options: [
      'Withdraw from the engagement',
      'Automatically issue a qualified opinion',
      'Evaluate whether the unadjusted misstatement is material',
      'Record the entry without management consent',
    ],
    correctAnswer: 2,
    explanation: 'Management is responsible for financial statements and decides whether to adjust. The auditor accumulates unadjusted misstatements and evaluates their cumulative effect on the opinion. Immaterial misstatements don\'t require modification.',
    reference: 'AU-C 450.11',
  },
  {
    id: 'aud-wc-085',
    courseId: 'cpa',
    section: 'AUD',
    blueprintArea: 'AUD-VI',
    topic: 'SSARS Engagements',
    subtopic: 'Compilation',
    difficulty: 'easy',
    skillLevel: 'Remembering and Understanding',
    question: 'During a compilation engagement, a CPA discovers information that appears to be materially incorrect, incomplete, or misleading. What is the CPA\'s professional obligation?',
    options: [
      'Ignore it because compilations provide no assurance',
      'Request additional information from management and, if not resolved, consider modifying the report or withdrawing',
      'Contact regulatory authorities to report the issue',
      'Convert the engagement to an audit',
    ],
    correctAnswer: 1,
    explanation: 'Under AR-C 80.19, if the CPA becomes aware that information is incorrect, incomplete, or otherwise unsatisfactory, the CPA should request additional or revised information. If management refuses to provide it, the CPA should consider whether to modify the report or withdraw from the engagement. The CPA cannot simply ignore material issues even in a no-assurance engagement.',
    reference: 'AR-C 80.04',
  },
  {
    id: 'aud-wc-086',
    section: 'AUD',
    courseId: 'cpa',
    blueprintArea: 'AUD-I',
    topicId: 'aud-ethics',
    topic: 'Professional Responsibilities',
    subtopic: 'Confidentiality',
    difficulty: 'medium',
    skillLevel: 'Application',
    question: 'Disclosure of confidential client information is permitted without client consent when:',
    options: [
      'Competitors request industry benchmarks',
      'Another CPA firm requests information',
      'A potential employer requests a reference',
      'Responding to a valid subpoena',
    ],
    correctAnswer: 3,
    explanation: 'Confidential information may be disclosed: (1) in response to valid legal process (subpoena), (2) as required by law, (3) to comply with AICPA technical standards, (4) during peer review, (5) in litigation. Consent not needed for these.',
    reference: 'AICPA Code ET 1.700',
  },

  // REG (4 questions)
  {
    id: 'reg-wc-083',
    section: 'REG',
    courseId: 'cpa',
    blueprintArea: 'REG-II',
    topicId: 'reg-individual',
    topic: 'Individual Taxation',
    subtopic: 'Like-Kind Exchanges',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'In a Section 1031 exchange, a taxpayer exchanges property (basis $100,000, FMV $150,000) for like-kind property worth $130,000 plus $20,000 cash. What is the recognized gain?',
    options: [
      '$30,000',
      '$20,000',
      '$50,000',
      '$0',
    ],
    correctAnswer: 1,
    explanation: 'Realized gain = $150,000 - $100,000 = $50,000. Boot received = $20,000 cash. Recognized gain is the lesser of realized gain or boot received = $20,000. Basis in new property = $130,000 - ($50,000 - $20,000) = $100,000.',
    reference: 'IRC Section 1031',
  },
  {
    id: 'reg-wc-084',
    section: 'REG',
    courseId: 'cpa',
    blueprintArea: 'REG-III',
    topicId: 'reg-partnership',
    topic: 'Partnership Taxation',
    subtopic: 'Guaranteed Payments',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'A partner receives guaranteed payments of $50,000 and a distributive share of partnership income of $30,000. What amount is subject to self-employment tax?',
    options: [
      '$50,000',
      '$80,000',
      '$40,000',
      '$30,000',
    ],
    correctAnswer: 1,
    explanation: 'General partners include both guaranteed payments AND distributive share for self-employment tax. Total: $50,000 + $30,000 = $80,000. Limited partners generally only include guaranteed payments for self-employment tax.',
    reference: 'IRC Section 1402',
  },
  {
    id: 'reg-wc-085',
    section: 'REG',
    courseId: 'cpa',
    blueprintArea: 'REG-I',
    topicId: 'reg-business-law',
    topic: 'Business Law',
    subtopic: 'Negotiable Instruments',
    difficulty: 'medium',
    skillLevel: 'Application',
    question: 'To be a holder in due course of a negotiable instrument, a person must take the instrument:',
    options: [
      'Only from the original maker',
      'After the instrument is dishonored',
      'For value, in good faith, without notice of defenses',
      'With knowledge of any claims against it',
    ],
    correctAnswer: 2,
    explanation: 'HDC status requires: (1) holder of negotiable instrument, (2) taken for value, (3) in good faith, (4) without notice of overdue, dishonor, or claims/defenses. HDCs take free of personal defenses (fraud in inducement) but subject to real defenses (forgery, fraud in factum).',
    reference: 'UCC Article 3',
  },
  {
    id: 'reg-wc-086',
    section: 'REG',
    courseId: 'cpa',
    blueprintArea: 'REG-V',
    topicId: 'reg-ethics',
    topic: 'Ethics',
    subtopic: 'Tax Return Positions',
    difficulty: 'medium',
    skillLevel: 'Application',
    question: 'A CPA may recommend a tax return position if there is at least a:',
    options: [
      'Certainty of success',
      '50% likelihood of success',
      'Reasonable basis (approximately 20%)',
      '10% likelihood of success',
    ],
    correctAnswer: 2,
    explanation: 'Under AICPA SSTS and IRC 6694, tax positions need "reasonable basis" (approximately 20% likelihood). Positions without reasonable basis require disclosure. Positions below 20% should not be recommended. Preparer penalties apply for unreasonable positions.',
    reference: 'SSTS No. 1',
  },

  // BAR (5 questions)
  {
    id: 'bar-wc-092',
    section: 'BAR',
    courseId: 'cpa',
    blueprintArea: 'BAR-II',
    topicId: 'bar-valuation',
    topic: 'Valuation',
    subtopic: 'CAPM',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'Using CAPM, if the risk-free rate is 3%, market return is 10%, and beta is 1.5, what is the required return?',
    options: [
      '15.0%',
      '10.5%',
      '13.5%',
      '18.0%',
    ],
    correctAnswer: 2,
    explanation: 'CAPM: Required return = Rf + β(Rm - Rf) = 3% + 1.5(10% - 3%) = 3% + 1.5(7%) = 3% + 10.5% = 13.5%. Beta measures systematic risk. Higher beta means higher required return to compensate for greater risk.',
    reference: 'Capital Asset Pricing Model',
  },
  {
    id: 'bar-wc-093',
    section: 'BAR',
    courseId: 'cpa',
    blueprintArea: 'BAR-III',
    topicId: 'bar-technical',
    topic: 'Technical Accounting',
    subtopic: 'Discontinued Operations',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'Discontinued operations treatment under ASC 205-20 requires the component to represent:',
    options: [
      'Any sold or held-for-sale asset group',
      'A strategic shift with major effect on operations/financial results',
      'More than 25% of total revenue',
      'A geographically separate segment'
    ],
    correctAnswer: 1,
    explanation: 'ASC 205-20 requires discontinued operations for a component that is disposed of (or held for sale) AND represents a strategic shift that has (or will have) a major effect on operations and financial results. Not all disposals qualify.',
    reference: 'ASC 205-20-45',
  },
  {
    id: 'bar-wc-094',
    section: 'BAR',
    courseId: 'cpa',
    blueprintArea: 'BAR-IV',
    topicId: 'bar-cost',
    topic: 'Cost Accounting',
    subtopic: 'Job Order Costing',
    difficulty: 'medium',
    skillLevel: 'Application',
    question: 'In job order costing, overhead is applied to jobs using:',
    options: [
      'Actual overhead costs as incurred',
      'A predetermined overhead rate',
      'Direct costs only',
      'Historical averages from prior years'
    ],
    correctAnswer: 1,
    explanation: 'Job order costing applies overhead using a predetermined rate (estimated overhead ÷ estimated activity base). This allows timely costing before actual overhead is known. Differences create over/under-applied overhead adjusted at period end.',
    reference: 'Job Order Costing Systems',
  },
  {
    id: 'bar-wc-095',
    section: 'BAR',
    courseId: 'cpa',
    blueprintArea: 'BAR-I',
    topicId: 'bar-analysis',
    topic: 'Financial Statement Analysis',
    subtopic: 'Segment Reporting',
    difficulty: 'medium',
    skillLevel: 'Application',
    question: 'Under ASC 280, an operating segment must be reported separately if its revenue, profit/loss, or assets are at least:',
    options: [
      '10% of the combined totals',
      '15% of the combined totals',
      '5% of the combined totals',
      '25% of the combined totals',
    ],
    correctAnswer: 0,
    explanation: 'Quantitative thresholds for reportable segment: 10% of combined revenue (internal + external), 10% of greater of combined profit or combined loss, or 10% of combined assets. Segments below threshold may be combined with others.',
    reference: 'ASC 280-10-50',
  },
  {
    id: 'bar-wc-096',
    section: 'BAR',
    courseId: 'cpa',
    blueprintArea: 'BAR-II',
    topicId: 'bar-risk',
    topic: 'Risk Management',
    subtopic: 'Value at Risk',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'A 1-day 95% Value at Risk (VaR) of $1 million means:',
    options: [
      'Maximum possible loss is $1 million',
      'There is a 5% probability of losing more than $1 million in a day',
      'Expected loss is $1 million per day',
      'There is a 95% probability of losing $1 million',
    ],
    correctAnswer: 1,
    explanation: 'VaR at 95% confidence means we expect losses to exceed the VaR amount only 5% of the time. It does NOT represent maximum loss or expected loss. 95% VaR of $1M = 5% chance of losing more than $1M in one day.',
    reference: 'Value at Risk',
  },

  // ISC (4 questions)
  {
    id: 'isc-wc-083',
    courseId: 'cpa',
    section: 'ISC',
    blueprintArea: 'ISC-II',
    topic: 'Security Controls',
    subtopic: 'Zero Trust',
    difficulty: 'medium',
    skillLevel: 'Application',
    question: 'An auditor discovers that a client\'s information security policy requires annual penetration testing, but the most recent test was performed 26 months ago. The client\'s IT manager states the delay was due to budget constraints. How should this affect the auditor\'s assessment?',
    options: [
    'No impact because penetration testing is a nice-to-have, not a required control',
    'The failure to perform testing as required by policy represents a control deviation — the auditor should assess whether the security posture may have degraded, evaluate whether other monitoring controls partially compensate, and consider the risk of undiscovered vulnerabilities',
    'Budget constraints are a valid justification and no further action is needed',
    'The auditor should only be concerned about penetration testing for public companies',
    ],
    correctAnswer: 1,
    explanation: 'When an organization\'s own policies require specific security testing but the testing isn\'t performed, this represents a control deviation. Penetration testing identifies exploitable vulnerabilities that automated scanning may miss. A 26-month gap means: (1) new vulnerabilities may exist undetected, (2) management\'s commitment to security (tone at the top) may be questioned, (3) the control environment has a gap that should be documented, and (4) compensating controls should be evaluated.',
    reference: 'Zero Trust Architecture',
  },
  {
    id: 'isc-wc-084',
    section: 'ISC',
    courseId: 'cpa',
    blueprintArea: 'ISC-III',
    topicId: 'isc-systems',
    topic: 'Information Systems',
    subtopic: 'Blockchain',
    difficulty: 'medium',
    skillLevel: 'Application',
    question: 'An organization\'s IT department implements a network segmentation strategy that places the financial reporting systems in a separate network segment (VLAN) with restricted access. The auditor discovers that the segmentation rules have 47 \'temporary\' exceptions that were created over the past 3 years for troubleshooting purposes and never removed. Several exceptions allow unrestricted access from the general corporate network to the financial systems segment. What control issue exists?',
    options: [
      'Temporary exceptions are necessary for operational flexibility and do not need review',
      'The accumulated temporary exceptions have effectively negated the network segmentation control \u2014 unrestricted access from the corporate network to the financial systems segment means the segmentation exists only on paper, not in practice',
      '47 exceptions over 3 years is a normal and acceptable number',
      'Network segmentation does not affect financial data security',
    ],
    correctAnswer: 1,
    explanation: 'Network segmentation is a critical control for protecting financial systems. When 47 \'temporary\' exceptions persist for years: (1) the original security boundary is undermined, (2) unrestricted access paths bypass the segmentation, (3) the control exists only in documentation, not in operation, (4) the exception management process is broken. The auditor should recommend: immediate review of all exceptions, removal of unnecessary exceptions, and implementation of an exception management process with expiration dates.',
    reference: 'Blockchain Technology',
  },
  {
    id: 'isc-wc-085',
    section: 'ISC',
    courseId: 'cpa',
    blueprintArea: 'ISC-IV',
    topicId: 'isc-audit',
    topic: 'IT Audit',
    subtopic: 'Penetration Testing',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'In a penetration test, "black box" testing means the tester has:',
    options: [
      'No prior knowledge of the target system',
      'Access to source code only',
      'Partial knowledge with some documentation',
      'Full knowledge of system architecture',
    ],
    correctAnswer: 0,
    explanation: 'Black box: no prior knowledge (simulates external attacker). White box: full knowledge (architecture, source code). Gray box: partial knowledge. Black box tests real-world attack scenarios but may miss internal vulnerabilities.',
    reference: 'Penetration Testing Methodologies',
  },
  {
    id: 'isc-wc-086',
    section: 'ISC',
    courseId: 'cpa',
    blueprintArea: 'ISC-I',
    topicId: 'isc-governance',
    topic: 'IT Governance',
    subtopic: 'Service Level Agreements',
    difficulty: 'easy',
    skillLevel: 'Remembering and Understanding',
    question: 'A service level agreement (SLA) typically defines:',
    options: [
      'Hardware specifications',
      'Performance expectations and remedies for non-performance',
      'Employee job descriptions',
      'Software development methodologies',
    ],
    correctAnswer: 1,
    explanation: 'SLAs define expected service levels (availability, response time, support hours), metrics for measuring performance, and consequences (credits, penalties) for failing to meet targets. They\'re critical for vendor/cloud service management.',
    reference: 'IT Service Management',
  },

  // TCP (4 questions)
  {
    id: 'tcp-wc-083',
    courseId: 'cpa',
    section: 'TCP',
    blueprintArea: 'TCP-I',
    topic: 'Individual Tax Compliance',
    subtopic: 'Foreign Tax Credit',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'A taxpayer received a distribution from a traditional IRA of $30,000 at age 45. The taxpayer has no exceptions to the early withdrawal penalty. What are the tax consequences?',
    options: [
      '$30,000 is included in ordinary income and a 10% early withdrawal penalty ($3,000) applies',
      '$30,000 is tax-free because it\'s a return of contributions',
      '$30,000 is capital gain income',
      '$30,000 is ordinary income with no penalty because IRA distributions are penalty-free',
    ],
    correctAnswer: 0,
    explanation: 'Distributions from a traditional IRA before age 59½ are included in ordinary income (assuming deductible contributions) and subject to a 10% early withdrawal penalty under IRC §72(t). Tax consequences: $30,000 ordinary income + $3,000 penalty (10% × $30,000) = $33,000 total cost. Exceptions to the penalty include disability, first-time home purchase (up to $10,000), qualified education expenses, and substantially equal periodic payments (SEPP/72(t) distributions).',
    reference: 'IRC Section 904',
  },
  {
    id: 'tcp-wc-084',
    section: 'TCP',
    courseId: 'cpa',
    blueprintArea: 'TCP-II',
    topicId: 'tcp-entity',
    topic: 'Entity Tax Compliance',
    subtopic: 'Form 990',
    difficulty: 'medium',
    skillLevel: 'Application',
    question: 'Form 990 is required to be filed by:',
    options: [
      'All corporations',
      'Only private foundations',
      'Government entities',
      'Tax-exempt organizations with gross receipts above the threshold',
    ],
    correctAnswer: 3,
    explanation: 'Tax-exempt organizations file Form 990 (or 990-EZ, 990-N) based on gross receipts and total assets. Churches are generally exempt from filing. The form discloses finances, governance, and activities—it\'s publicly available.',
    reference: 'IRC Section 6033',
  },
  {
    id: 'tcp-wc-085',
    section: 'TCP',
    courseId: 'cpa',
    blueprintArea: 'TCP-III',
    topicId: 'tcp-planning',
    topic: 'Tax Planning',
    subtopic: 'R&D Credit',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'The research and development tax credit under IRC Section 41 is available for:',
    options: [
      'Any business research expenditures',
      'Market research and consumer surveys',
      'Only pharmaceutical companies',
      'Qualified research with technological uncertainty, process of experimentation, and new/improved function',
    ],
    correctAnswer: 3,
    explanation: 'The R&D credit requires 4-part test: (1) technological in nature, (2) elimination of uncertainty, (3) process of experimentation, (4) qualified purpose (new/improved function, performance, reliability, quality). Market research doesn\'t qualify.',
    reference: 'IRC Section 41',
  },
  {
    id: 'tcp-wc-086',
    section: 'TCP',
    courseId: 'cpa',
    blueprintArea: 'TCP-IV',
    topicId: 'tcp-representation',
    topic: 'Tax Representation',
    subtopic: 'Offer in Compromise',
    difficulty: 'medium',
    skillLevel: 'Application',
    question: 'An offer in compromise based on doubt as to collectibility requires demonstrating:',
    options: [
      'The taxpayer disagrees with the law',
      'The taxpayer cannot pay the full amount owed within the collection statute',
      'The tax was incorrectly assessed',
      'Full payment would create economic hardship',
    ],
    correctAnswer: 1,
    explanation: 'OIC-Doubt as to Collectibility: IRS accepts less when the taxpayer\'s reasonable collection potential (RCP) is less than full liability. RCP considers income, assets, and expenses. Different from Doubt as to Liability (disputing tax assessment).',
    reference: 'IRS Form 656 Instructions',
  },
];
