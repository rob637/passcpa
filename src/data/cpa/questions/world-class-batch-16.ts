// World-Class Questions Batch 16 - Exam Quality MCQs
// 25 questions across all CPA exam sections

import { Question } from '../../../types';

export const WORLD_CLASS_BATCH_16: Question[] = [
  // FAR (4 questions)
  {
    id: 'far-wc-099',
    section: 'FAR',
    courseId: 'cpa',
    blueprintArea: 'FAR-II',
    topicId: 'far-debt',
    topic: 'Debt',
    subtopic: 'Troubled Debt Restructuring',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'In a troubled debt restructuring where a creditor modifies terms, the new effective interest rate is:',
    options: [
      'Prime plus 2%',
      'The current market rate',
      'The original contractual rate',
      'The rate that equates future cash flows to the recorded investment',
    ],
    correctAnswer: 3,
    explanation: 'Under ASC 310-40 (post-2022 updates), the creditor determines new effective rate by comparing the present value of expected future cash flows to the recorded investment. This rate is used for income recognition going forward.',
    reference: 'ASC 310-40-35',
  },
  {
    id: 'far-wc-100',
    section: 'FAR',
    courseId: 'cpa',
    blueprintArea: 'FAR-III',
    topicId: 'far-segment',
    topic: 'Segment Reporting',
    subtopic: 'Reconciliation',
    difficulty: 'medium',
    skillLevel: 'Application',
    question: 'Segment disclosures must include a reconciliation of total segment revenues to:',
    options: [
      'Net income',
      'Consolidated revenues',
      'Operating income',
      'Gross revenues',
    ],
    correctAnswer: 1,
    explanation: 'ASC 280 requires reconciliation of: segment revenues to consolidated revenues, segment profit/loss to consolidated income before taxes, segment assets to consolidated assets. This explains differences from reported consolidated amounts.',
    reference: 'ASC 280-10-50',
  },
  {
    id: 'far-wc-101',
    section: 'FAR',
    courseId: 'cpa',
    blueprintArea: 'FAR-V',
    topicId: 'far-nfp',
    topic: 'Not-for-Profit',
    subtopic: 'Investment Returns',
    difficulty: 'medium',
    skillLevel: 'Application',
    question: 'Investment income earned by a not-for-profit organization with no donor restrictions is reported as:',
    options: [
      'An increase in net assets without donor restrictions',
      'A liability until spent',
      'Deferred revenue',
      'An increase in net assets with donor restrictions',
    ],
    correctAnswer: 0,
    explanation: 'Investment income without donor restrictions on the return increases net assets without donor restrictions. If the original contribution restricted investment return to a purpose, income remains with donor restrictions until purpose is met.',
    reference: 'ASC 958-320-45',
  },
  {
    id: 'far-wc-102',
    section: 'FAR',
    courseId: 'cpa',
    blueprintArea: 'FAR-I',
    topicId: 'far-disclosure',
    topic: 'Financial Disclosures',
    subtopic: 'Fair Value Disclosure',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'Fair value disclosure is required for all financial instruments except:',
    options: [
      'Cash equivalents',
      'Equity method investments',
      'Available-for-sale securities',
      'Long-term debt',
    ],
    correctAnswer: 1,
    explanation: 'ASC 825 requires fair value disclosure for most financial instruments. Exceptions include: equity method investments, pension obligations, leases, certain insurance contracts, and equity instruments that lack a readily determinable FV.',
    reference: 'ASC 825-10-50',
  },

  // AUD (4 questions)
  {
    id: 'aud-wc-099',
    section: 'AUD',
    courseId: 'cpa',
    blueprintArea: 'AUD-II',
    topicId: 'aud-internal-control',
    topic: 'Internal Control',
    subtopic: 'Control Documentation',
    difficulty: 'medium',
    skillLevel: 'Application',
    question: 'The auditor documents internal control understanding primarily to:',
    options: [
      'Satisfy peer review requirements',
      'Reduce the audit fee',
      'Create a control manual for the client',
      'Support risk assessment and design of further procedures',
    ],
    correctAnswer: 3,
    explanation: 'Documentation of control understanding supports the auditor\'s risk assessment and provides a basis for designing the nature, timing, and extent of tests. It demonstrates compliance with standards and facilitates supervision.',
    reference: 'AU-C 315.33',
  },
  {
    id: 'aud-wc-100',
    section: 'AUD',
    courseId: 'cpa',
    blueprintArea: 'AUD-III',
    topicId: 'aud-procedures',
    topic: 'Audit Procedures',
    subtopic: 'Attorney Letters',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'An attorney\'s refusal to respond to the audit inquiry letter is:',
    options: [
      'Irrelevant if no litigation is pending',
      'Only relevant for litigation-heavy industries',
      'Acceptable if the client agrees',
      'A scope limitation that may affect the opinion',
    ],
    correctAnswer: 3,
    explanation: 'Attorney response is essential audit evidence for litigation, claims, and assessments. Refusal to respond creates a scope limitation. The auditor should consider effects on the opinion depending on materiality and whether alternative evidence exists.',
    reference: 'AU-C 501.12',
  },
  {
    id: 'aud-wc-101',
    section: 'AUD',
    courseId: 'cpa',
    blueprintArea: 'AUD-V',
    topicId: 'aud-reports',
    topic: 'Audit Reports',
    subtopic: 'Group Audits',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'When making reference to a component auditor in the group audit report, the group auditor:',
    options: [
      'Takes full responsibility for the component audit',
      'Must reperform all component audit work',
      'Cannot issue an unmodified opinion',
      'Shares responsibility by identifying the component auditor',
    ],
    correctAnswer: 3,
    explanation: 'Making reference divides responsibility: group auditor takes responsibility for their portion, component auditor for theirs. The report identifies the magnitude of the component (% of assets, revenues). Reference is not a qualification.',
    reference: 'AU-C 600.24',
  },
  {
    id: 'aud-wc-102',
    section: 'AUD',
    courseId: 'cpa',
    blueprintArea: 'AUD-VI',
    topicId: 'aud-review',
    topic: 'Review Engagements',
    subtopic: 'Review Report',
    difficulty: 'medium',
    skillLevel: 'Application',
    question: 'A review report concludes that the financial statements:',
    options: [
      'Present fairly in all material respects',
      'Should not require material modifications to conform with the framework',
      'Are free from misstatement',
      'Are based on information that is the representation of management',
    ],
    correctAnswer: 1,
    explanation: 'Review provides limited assurance: "not aware of any material modifications that should be made" (negative assurance). An audit provides "present fairly" (positive assurance). A review does not guarantee freedom from misstatement.',
    reference: 'AR-C 90.35',
  },

  // REG (4 questions)
  {
    id: 'reg-wc-099',
    section: 'REG',
    courseId: 'cpa',
    blueprintArea: 'REG-II',
    topicId: 'reg-individual',
    topic: 'Individual Taxation',
    subtopic: 'Casualty Losses',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'For tax years after 2017, personal casualty and theft losses are deductible only if:',
    options: [
      'They are insured',
      'They arise from a federally declared disaster',
      'They involve a principal residence',
      'They exceed 10% of AGI',
    ],
    correctAnswer: 1,
    explanation: 'TCJA limited personal casualty loss deductions to federally declared disasters only (2018-2025). Business and investment property losses remain deductible. The $100 floor and 10% AGI limitation still apply to qualifying losses.',
    reference: 'IRC Section 165(h)',
  },
  {
    id: 'reg-wc-100',
    section: 'REG',
    courseId: 'cpa',
    blueprintArea: 'REG-III',
    topicId: 'reg-corporate',
    topic: 'Corporate Taxation',
    subtopic: 'Section 351',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'In a tax-free Section 351 transfer, the transferor\'s basis in stock received equals:',
    options: [
      'Face value of stock received',
      'Zero',
      'Adjusted basis of assets transferred, increased by gain recognized and decreased by boot received',
      'Fair market value of assets transferred',
    ],
    correctAnswer: 2,
    explanation: 'Stockholder\'s basis in stock = basis of property transferred + gain recognized - boot received - liabilities assumed. This preserves the deferred gain. Corporation\'s basis in assets = transferor\'s basis + gain recognized by transferor.',
    reference: 'IRC Section 358',
  },
  {
    id: 'reg-wc-101',
    section: 'REG',
    courseId: 'cpa',
    blueprintArea: 'REG-I',
    topicId: 'reg-business-law',
    topic: 'Business Law',
    subtopic: 'Bankruptcy',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'In a Chapter 7 bankruptcy, which claim has the highest priority?',
    options: [
      'Unsecured employee wage claims (up to limits)',
      'Administrative expenses of the estate',
      'Tax claims within 3 years of filing',
      'General unsecured creditors',
    ],
    correctAnswer: 1,
    explanation: 'Priority order: (1) Secured creditors (to extent of collateral), (2) Administrative expenses, (3) Gap claims, (4) Employee wages (up to $15,150 per person), (5) Employee benefits, (6) Certain tax claims, (7) General unsecured.',
    reference: '11 USC 507',
  },
  {
    id: 'reg-wc-102',
    section: 'REG',
    courseId: 'cpa',
    blueprintArea: 'REG-IV',
    topicId: 'reg-property',
    topic: 'Property Transactions',
    subtopic: 'Holding Period',
    difficulty: 'medium',
    skillLevel: 'Application',
    question: 'Property received in a like-kind exchange has a holding period that:',
    options: [
      'Depends on whether boot was received',
      'Includes the holding period of the property given up',
      'Is always short-term',
      'Starts on the date of the exchange',
    ],
    correctAnswer: 1,
    explanation: 'In a like-kind exchange, the replacement property\'s holding period includes (tacks onto) the holding period of the property surrendered. This preserves the original holding period status for future sales.',
    reference: 'IRC Section 1223',
  },

  // BAR (5 questions)
  {
    id: 'bar-wc-112',
    section: 'BAR',
    courseId: 'cpa',
    blueprintArea: 'BAR-I',
    topicId: 'bar-analysis',
    topic: 'Financial Statement Analysis',
    subtopic: 'Profitability Ratios',
    difficulty: 'easy',
    skillLevel: 'Remembering and Understanding',
    question: 'Return on Assets (ROA) is calculated as:',
    options: [
      'Net income / Average total assets',
      'Operating income / Total revenue',
      'Net income / Total equity',
      'EBITDA / Total debt',
    ],
    correctAnswer: 0,
    explanation: 'ROA = Net income / Average total assets. It measures how efficiently management uses assets to generate profit. Higher ROA indicates better asset utilization. Can be decomposed: ROA = Profit margin × Asset turnover.',
    reference: 'Financial Ratio Analysis',
  },
  {
    id: 'bar-wc-113',
    section: 'BAR',
    courseId: 'cpa',
    blueprintArea: 'BAR-II',
    topicId: 'bar-valuation',
    topic: 'Valuation',
    subtopic: 'Sensitivity Analysis',
    difficulty: 'medium',
    skillLevel: 'Application',
    question: 'In sensitivity analysis, the "base case" represents:',
    options: [
      'The worst possible outcome',
      'The best possible outcome',
      'Most likely assumptions and their expected results',
      'A random scenario',
    ],
    correctAnswer: 2,
    explanation: 'The base case uses most likely/expected assumptions. Sensitivity analysis then varies one input at a time to see impact on outcomes. This identifies which variables have the greatest effect on results.',
    reference: 'Sensitivity Analysis',
  },
  {
    id: 'bar-wc-114',
    section: 'BAR',
    courseId: 'cpa',
    blueprintArea: 'BAR-III',
    topicId: 'bar-technical',
    topic: 'Technical Accounting',
    subtopic: 'Subsequent Events',
    difficulty: 'medium',
    skillLevel: 'Application',
    question: 'An unrecognized subsequent event (Type II) that is material should be:',
    options: [
      'Ignored in the financial statements',
      'Recorded as an adjusting entry',
      'Disclosed in the notes',
      'Reported to regulators only',
    ],
    correctAnswer: 2,
    explanation: 'Type II events (arising after balance sheet date) are not adjusted but are disclosed if omission would mislead users. Examples: business combination, natural disaster, major lawsuit filed, equity/debt issuance.',
    reference: 'ASC 855-10-50',
  },
  {
    id: 'bar-wc-115',
    section: 'BAR',
    courseId: 'cpa',
    blueprintArea: 'BAR-IV',
    topicId: 'bar-cost',
    topic: 'Cost Accounting',
    subtopic: 'Spoilage',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'Normal spoilage in manufacturing is:',
    options: [
      'Absorbed as part of product cost',
      'Expensed as a period cost',
      'Always abnormal and inefficient',
      'Credited to manufacturing overhead',
    ],
    correctAnswer: 0,
    explanation: 'Normal spoilage: inherent in production, expected at efficient operations, absorbed into product cost (good units bear the cost). Abnormal spoilage: excess of normal, charged to a separate loss account in the period incurred.',
    reference: 'Cost Accounting Standards',
  },
  {
    id: 'bar-wc-116',
    section: 'BAR',
    courseId: 'cpa',
    blueprintArea: 'BAR-I',
    topicId: 'bar-analysis',
    topic: 'Financial Statement Analysis',
    subtopic: 'Z-Score',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'An Altman Z-Score below 1.81 indicates:',
    options: [
      'Strong financial health',
      'High probability of bankruptcy',
      'Target for acquisition',
      'Excellent credit rating'
    ],
    correctAnswer: 1,
    explanation: 'Z-Score zones: <1.81 = distress/high bankruptcy risk, 1.81-2.99 = gray zone (uncertainty), >2.99 = safe zone (low risk). The model uses five financial ratios to predict bankruptcy probability.',
    reference: 'Altman Z-Score Model',
  },

  // ISC (4 questions)
  {
    id: 'isc-wc-099',
    section: 'ISC',
    courseId: 'cpa',
    blueprintArea: 'ISC-II',
    topicId: 'isc-security',
    topic: 'Security Controls',
    subtopic: 'Intrusion Detection',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'A signature-based intrusion detection system identifies threats by:',
    options: [
      'Predicting future attacks using AI',
      'Matching patterns against known attack signatures',
      'Analyzing network traffic volume',
      'Detecting deviations from normal behavior',
    ],
    correctAnswer: 1,
    explanation: 'Signature-based IDS matches traffic/activity patterns against database of known attack signatures. Effective for known threats but cannot detect zero-day attacks. Anomaly-based IDS detects deviations from baseline behavior.',
    reference: 'Intrusion Detection Systems',
  },
  {
    id: 'isc-wc-100',
    section: 'ISC',
    courseId: 'cpa',
    blueprintArea: 'ISC-III',
    topicId: 'isc-systems',
    topic: 'Information Systems',
    subtopic: 'Microservices',
    difficulty: 'medium',
    skillLevel: 'Application',
    question: 'A microservices architecture is characterized by:',
    options: [
      'Small, independently deployable services',
      'Tight coupling between modules',
      'One database shared by all components',
      'A single monolithic application',
    ],
    correctAnswer: 0,
    explanation: 'Microservices: small, independent services that communicate via APIs. Each service is separately deployable, scalable, and can use different technologies. Contrasts with monolithic architecture where all functionality is in one codebase.',
    reference: 'Software Architecture',
  },
  {
    id: 'isc-wc-101',
    section: 'ISC',
    courseId: 'cpa',
    blueprintArea: 'ISC-IV',
    topicId: 'isc-audit',
    topic: 'IT Audit',
    subtopic: 'Data Integrity',
    difficulty: 'medium',
    skillLevel: 'Application',
    question: 'Hash totals are used to verify:',
    options: [
      'Network bandwidth',
      'Data completeness and integrity during processing',
      'Password complexity',
      'User authentication',
    ],
    correctAnswer: 1,
    explanation: 'Hash totals sum numeric fields (even non-meaningful sums like account numbers) before and after processing. Matching totals verify that all records were processed and no data was lost or corrupted. Different from encryption hashes.',
    reference: 'Batch Processing Controls',
  },
  {
    id: 'isc-wc-102',
    section: 'ISC',
    courseId: 'cpa',
    blueprintArea: 'ISC-I',
    topicId: 'isc-governance',
    topic: 'IT Governance',
    subtopic: 'Privacy',
    difficulty: 'medium',
    skillLevel: 'Application',
    question: 'The GDPR right to erasure is also known as:',
    options: [
      'Right to rectification',
      'Right to be forgotten',
      'Right to object',
      'Right to portability',
    ],
    correctAnswer: 1,
    explanation: 'GDPR\'s "right to be forgotten" (Article 17) allows individuals to request deletion of their personal data. Controllers must comply unless data is needed for legal obligations, public interest, or defense of claims.',
    reference: 'GDPR Article 17',
  },

  // TCP (4 questions)
  {
    id: 'tcp-wc-099',
    section: 'TCP',
    courseId: 'cpa',
    blueprintArea: 'TCP-I',
    topicId: 'tcp-individual',
    topic: 'Individual Tax Compliance',
    subtopic: 'SALT Deduction',
    difficulty: 'medium',
    skillLevel: 'Application',
    question: 'The TCJA limitation on state and local tax (SALT) deductions is:',
    options: [
      'Unlimited if elected',
      '$5,000 for all filers',
      '$15,000 per person',
      '$10,000 ($5,000 if married filing separately)',
    ],
    correctAnswer: 3,
    explanation: 'TCJA caps SALT deduction (property + income/sales taxes) at $10,000 ($5,000 MFS) for 2018-2025. This significantly affected high-tax state residents. Some states created workarounds via pass-through entity taxes.',
    reference: 'IRC Section 164',
  },
  {
    id: 'tcp-wc-100',
    section: 'TCP',
    courseId: 'cpa',
    blueprintArea: 'TCP-II',
    topicId: 'tcp-entity',
    topic: 'Entity Tax Compliance',
    subtopic: 'Partnership Basis',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'A partner\'s outside basis is affected by the partner\'s share of:',
    options: [
      'Only recourse liabilities',
      'Only capital contributions, not liabilities',
      'Only the partner\'s direct contributions',
      'Partnership liabilities (both recourse and nonrecourse)',
    ],
    correctAnswer: 3,
    explanation: 'Outside basis includes: cash + property contributions + share of all liabilities. Recourse liabilities allocated to partners who bear economic risk of loss. Nonrecourse generally allocated by profit ratios.',
    reference: 'IRC Section 752',
  },
  {
    id: 'tcp-wc-101',
    courseId: 'cpa',
    section: 'TCP',
    blueprintArea: 'TCP-III',
    topic: 'Tax Planning',
    subtopic: 'Opportunity Zones',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'A taxpayer owns a rental property with a net operating loss of $30,000 from the rental activity. The taxpayer\'s AGI is $130,000 and they actively participate. What amount of the rental loss is deductible?',
    options: [
      '$10,000 — the $25,000 allowance is reduced by $15,000 due to AGI phaseout',
      '$30,000 — fully deductible',
      '$25,000 — the maximum rental loss allowance',
      '$0 — passive losses are never deductible',
    ],
    correctAnswer: 0,
    explanation: 'Under IRC §469(i), active participants in rental real estate may deduct up to $25,000 of rental losses against nonpassive income. The allowance phases out by $1 for every $2 of AGI above $100,000 (fully phased out at $150,000). At AGI of $130,000: phaseout = ($130,000 − $100,000) × 50% = $15,000 reduction. Remaining allowance = $25,000 − $15,000 = $10,000. The $10,000 is deductible; the remaining $20,000 is suspended and carried forward.',
    reference: 'IRC Section 1400Z-2',
  },
  {
    id: 'tcp-wc-102',
    section: 'TCP',
    courseId: 'cpa',
    blueprintArea: 'TCP-IV',
    topicId: 'tcp-representation',
    topic: 'Tax Representation',
    subtopic: 'Penalty Abatement',
    difficulty: 'medium',
    skillLevel: 'Application',
    question: 'First-time penalty abatement (FTA) generally requires the taxpayer to have:',
    options: [
      'Representation by an attorney',
      'Filed for bankruptcy',
      'A good reason for the failure',
      'A clean compliance history for the prior 3 years',
    ],
    correctAnswer: 3,
    explanation: 'FTA administrative waiver requires: (1) no penalties in prior 3 years, (2) current on all filings, (3) paid or arranged to pay current liability. One-time abatement of failure-to-file/pay penalties without proving reasonable cause.',
    reference: 'IRM 20.1.1.3.6.1',
  },
];
