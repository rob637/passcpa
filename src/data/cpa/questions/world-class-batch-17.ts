// World-Class Questions Batch 17 - Exam Quality MCQs
// 25 questions across all CPA exam sections

import { Question } from '../../../types';

export const WORLD_CLASS_BATCH_17: Question[] = [
  // FAR (4 questions)
  {
    id: 'far-wc-103',
    section: 'FAR',
    blueprintArea: 'FAR-II',
    topicId: 'far-derivatives',
    topic: 'Derivatives',
    subtopic: 'Hedge Effectiveness',
    difficulty: 'hard',
    question: 'Under ASC 815, a derivative qualifies for hedge accounting only if:',
    options: [
      'It generates immediate income',
      'There is formal designation, documentation, and the hedge is highly effective',
      'The derivative was purchased at fair value',
      'The underlying asset is a financial instrument'
    ],
    correctAnswer: 1,
    explanation: 'Hedge accounting requires: (1) formal designation and documentation at inception, (2) eligible hedging instrument and hedged item, (3) highly effective in offsetting changes in FV or cash flows. Effectiveness tested quarterly.',
    reference: 'ASC 815-20-25',
  },
  {
    id: 'far-wc-104',
    section: 'FAR',
    blueprintArea: 'FAR-IV',
    topicId: 'far-government',
    topic: 'Government Accounting',
    subtopic: 'Encumbrances',
    difficulty: 'medium',
    question: 'In governmental accounting, encumbrances are:',
    options: [
      'Actual expenditures recorded when incurred',
      'Commitments for future expenditures reserved from appropriations',
      'Revenue expected but not yet received',
      'Long-term debt obligations'
    ],
    correctAnswer: 1,
    explanation: 'Encumbrances reserve appropriations for purchase orders and contracts. They\'re budgetary controls, not GAAP expenditures. When goods/services are received, encumbrances are reversed and actual expenditures recorded.',
    reference: 'GASB Standards',
  },
  {
    id: 'far-wc-105',
    section: 'FAR',
    blueprintArea: 'FAR-III',
    topicId: 'far-eps',
    topic: 'Earnings Per Share',
    subtopic: 'Contingently Issuable Shares',
    difficulty: 'hard',
    question: 'Contingently issuable shares are included in diluted EPS when:',
    options: [
      'The contingency has been resolved and shares will be issued',
      'The contingency period has expired',
      'Management estimates the probability over 50%',
      'The conditions for issuance are currently satisfied'
    ],
    correctAnswer: 3,
    explanation: 'Per ASC 260, contingently issuable shares are included in diluted EPS if the conditions would be satisfied based on the status at the end of the reporting period. Once resolved, shares are included in basic EPS from resolution date.',
    reference: 'ASC 260-10-45',
  },
  {
    id: 'far-wc-106',
    section: 'FAR',
    blueprintArea: 'FAR-V',
    topicId: 'far-nfp',
    topic: 'Not-for-Profit',
    subtopic: 'Collections',
    difficulty: 'medium',
    question: 'A museum that does not capitalize its collection items must:',
    options: [
      'Record them at estimated fair value',
      'Disclose the policy and collections-related activities',
      'Recognize depreciation expense',
      'Report a loss when items are acquired'
    ],
    correctAnswer: 1,
    explanation: 'If a not-for-profit elects not to capitalize collection items (allowed if maintained for public exhibition/education and protected), it must describe its capitalization policy and disclose activities related to collections.',
    reference: 'ASC 958-360-50',
  },

  // AUD (4 questions)
  {
    id: 'aud-wc-103',
    section: 'AUD',
    blueprintArea: 'AUD-I',
    topicId: 'aud-ethics',
    topic: 'Ethics',
    subtopic: 'Quality Control',
    difficulty: 'medium',
    question: 'Under QC standards, engagement quality control review is required for:',
    options: [
      'All assurance engagements',
      'Audits of listed entities and engagements designated by policy',
      'Only new client engagements',
      'Compilations only'
    ],
    correctAnswer: 1,
    explanation: 'EQCR is required for: audits of listed entities, engagements where law/regulation requires it, and engagements designated by firm policy. The reviewer provides objective evaluation before report issuance.',
    reference: 'QC Section 10',
  },
  {
    id: 'aud-wc-104',
    section: 'AUD',
    blueprintArea: 'AUD-IV',
    topicId: 'aud-sampling',
    topic: 'Sampling',
    subtopic: 'Nonsampling Risk',
    difficulty: 'hard',
    question: 'Nonsampling risk arises from:',
    options: [
      'Using a sample that is too small',
      'Human error in performing procedures or evaluating results',
      'Statistical fluctuations in sample selection',
      'Using random instead of systematic selection'
    ],
    correctAnswer: 1,
    explanation: 'Nonsampling risk: errors from misinterpreting evidence, applying inappropriate procedures, failing to recognize misstatements. Unlike sampling risk, it exists even with 100% testing. Mitigated through training, supervision, quality control.',
    reference: 'AU-C 530.05',
  },
  {
    id: 'aud-wc-105',
    section: 'AUD',
    blueprintArea: 'AUD-II',
    topicId: 'aud-fraud',
    topic: 'Fraud',
    subtopic: 'Management Override',
    difficulty: 'hard',
    question: 'The audit response to the risk of management override of controls includes:',
    options: [
      'Testing journal entries and reviewing accounting estimates',
      'Relying entirely on internal audit work',
      'Obtaining management representations only',
      'Decreasing the sample size for substantive tests'
    ],
    correctAnswer: 0,
    explanation: 'Management override is presumed fraud risk on all audits. Required procedures: (1) Test appropriateness of journal entries, (2) Review estimates for bias, (3) Understand business rationale for unusual transactions.',
    reference: 'AU-C 240.32',
  },
  {
    id: 'aud-wc-106',
    section: 'AUD',
    blueprintArea: 'AUD-V',
    topicId: 'aud-reports',
    topic: 'Audit Reports',
    subtopic: 'Key Audit Matters',
    difficulty: 'hard',
    question: 'Key Audit Matters (Critical Audit Matters in the US) must be communicated:',
    options: [
      'Only when the opinion is modified',
      'In all audits of public companies',
      'Only in compilation engagements',
      'When specifically requested by management'
    ],
    correctAnswer: 1,
    explanation: 'PCAOB AS 3101 requires CAM communication in audits of public companies (except emerging growth companies unless opted in). CAMs are matters communicated to the audit committee that are especially challenging, complex, or require significant judgment.',
    reference: 'AS 3101',
  },

  // REG (4 questions)
  {
    id: 'reg-wc-103',
    section: 'REG',
    blueprintArea: 'REG-II',
    topicId: 'reg-individual',
    topic: 'Individual Taxation',
    subtopic: 'Education Credits',
    difficulty: 'medium',
    question: 'The American Opportunity Tax Credit maximum per eligible student is:',
    options: [
      '$1,500',
      '$2,500',
      '$4,000',
      '$5,000'
    ],
    correctAnswer: 1,
    explanation: 'AOTC: 100% of first $2,000 + 25% of next $2,000 = $2,500 max per student for first 4 years of college. 40% ($1,000) is refundable. Phases out at MAGI $80K-$90K ($160K-$180K MFJ). Modified AGI limits.',
    reference: 'IRC Section 25A',
  },
  {
    id: 'reg-wc-104',
    section: 'REG',
    blueprintArea: 'REG-III',
    topicId: 'reg-corporate',
    topic: 'Corporate Taxation',
    subtopic: 'Organizational Costs',
    difficulty: 'medium',
    question: 'A corporation may currently deduct organizational costs up to:',
    options: [
      '$500',
      '$5,000 (reduced by amounts over $50,000)',
      '$10,000',
      'Zero - all must be capitalized'
    ],
    correctAnswer: 1,
    explanation: 'Corps may deduct up to $5,000 of organizational costs, reduced dollar-for-dollar by amounts exceeding $50,000. Remainder amortized over 180 months. Covers legal/accounting fees for formation, not stock issuance costs.',
    reference: 'IRC Section 248',
  },
  {
    id: 'reg-wc-105',
    section: 'REG',
    blueprintArea: 'REG-I',
    topicId: 'reg-business-law',
    topic: 'Business Law',
    subtopic: 'Secured Transactions',
    difficulty: 'hard',
    question: 'Under UCC Article 9, a purchase money security interest (PMSI) in inventory has priority over earlier perfected interests if the PMSI holder:',
    options: [
      'Files a financing statement first',
      'Gives written notice to prior perfected creditors before debtor takes possession',
      'Obtains debtor consent',
      'Has possession of the inventory'
    ],
    correctAnswer: 1,
    explanation: 'PMSI in inventory requires superpriority filing + notification. The PMSI holder must: (1) perfect before debtor receives possession, and (2) send authenticated notice to competing secured parties within 5 years of their filing.',
    reference: 'UCC 9-324',
  },
  {
    id: 'reg-wc-106',
    section: 'REG',
    blueprintArea: 'REG-IV',
    topicId: 'reg-property',
    topic: 'Property Transactions',
    subtopic: 'Passive Losses',
    difficulty: 'hard',
    question: 'The $25,000 rental real estate exception to passive loss rules requires:',
    options: [
      'Material participation in the rental',
      'Active participation with AGI under $150,000',
      'Real estate professional status',
      'At-risk investment over $25,000'
    ],
    correctAnswer: 1,
    explanation: 'Active participation (less than material participation) allows up to $25,000 loss against nonpassive income. Phases out $1 for every $2 of MAGI over $100,000 (eliminated at $150,000). Must own 10%+ of rental.',
    reference: 'IRC Section 469(i)',
  },

  // BAR (5 questions)
  {
    id: 'bar-wc-117',
    section: 'BAR',
    blueprintArea: 'BAR-II',
    topicId: 'bar-valuation',
    topic: 'Valuation',
    subtopic: 'WACC',
    difficulty: 'medium',
    question: 'In calculating WACC, the cost of debt is:',
    options: [
      'The coupon rate on existing bonds',
      'The after-tax cost based on current market yields',
      'The prime rate plus a spread',
      'Equal to the cost of equity'
    ],
    correctAnswer: 1,
    explanation: 'WACC uses after-tax cost of debt = Yield × (1 - tax rate). Market yields (not historical coupon rates) reflect current borrowing costs. Interest is tax-deductible, creating the tax shield advantage over equity.',
    reference: 'WACC Calculation',
  },
  {
    id: 'bar-wc-118',
    section: 'BAR',
    blueprintArea: 'BAR-III',
    topicId: 'bar-technical',
    topic: 'Technical Accounting',
    subtopic: 'Derivatives',
    difficulty: 'hard',
    question: 'A fair value hedge adjusts:',
    options: [
      'The derivative only',
      'Both the derivative and the hedged item to fair value',
      'The hedged item only',
      'Neither - gains and losses go to OCI'
    ],
    correctAnswer: 1,
    explanation: 'Fair value hedge: derivative is marked to market on balance sheet. The hedged item is also adjusted for changes in fair value attributable to the hedged risk. Both adjustments flow through earnings, offsetting each other.',
    reference: 'ASC 815-25',
  },
  {
    id: 'bar-wc-119',
    section: 'BAR',
    blueprintArea: 'BAR-IV',
    topicId: 'bar-cost',
    topic: 'Cost Accounting',
    subtopic: 'Relevant Costs',
    difficulty: 'medium',
    question: 'Sunk costs are:',
    options: [
      'Relevant to current decisions',
      'Never relevant because they cannot be changed',
      'Variable costs that vary with production',
      'The same as opportunity costs'
    ],
    correctAnswer: 1,
    explanation: 'Sunk costs are past costs that cannot be recovered regardless of decision. They are irrelevant to future decisions. Only future, differential costs/benefits matter for decision-making. Avoid "sunk cost fallacy."',
    reference: 'Managerial Accounting',
  },
  {
    id: 'bar-wc-120',
    section: 'BAR',
    blueprintArea: 'BAR-I',
    topicId: 'bar-analysis',
    topic: 'Financial Statement Analysis',
    subtopic: 'Quality of Earnings',
    difficulty: 'hard',
    question: 'High quality of earnings is indicated by:',
    options: [
      'High non-recurring income items',
      'Large adjustments between net income and operating cash flow',
      'Stable, recurring revenue with conservative accounting policies',
      'Aggressive revenue recognition'
    ],
    correctAnswer: 2,
    explanation: 'Quality earnings are sustainable, cash-backed, and reflect economic reality. Red flags: large non-recurring items, aggressive policies, high accruals-to-cash divergence. High quality shows consistent operations and conservative recognition.',
    reference: 'Earnings Quality Analysis',
  },
  {
    id: 'bar-wc-121',
    section: 'BAR',
    blueprintArea: 'BAR-II',
    topicId: 'bar-valuation',
    topic: 'Valuation',
    subtopic: 'Terminal Value',
    difficulty: 'hard',
    question: 'In DCF valuation, the terminal value represents:',
    options: [
      'The initial investment',
      'Value of all cash flows beyond the explicit forecast period',
      'The current stock price',
      'Book value at liquidation'
    ],
    correctAnswer: 1,
    explanation: 'Terminal value = value of all cash flows after forecast period (often 60-80% of total DCF value). Calculated via: (1) Gordon growth model: FCF × (1+g)/(r-g), or (2) Exit multiple approach. Critical assumption in valuations.',
    reference: 'DCF Valuation',
  },

  // ISC (4 questions)
  {
    id: 'isc-wc-103',
    section: 'ISC',
    blueprintArea: 'ISC-I',
    topicId: 'isc-governance',
    topic: 'IT Governance',
    subtopic: 'SLA',
    difficulty: 'medium',
    question: 'A Service Level Agreement (SLA) primarily defines:',
    options: [
      'Employee compensation',
      'Expected service quality, availability, and responsibilities',
      'Physical security requirements only',
      'Hardware specifications'
    ],
    correctAnswer: 1,
    explanation: 'SLAs define: service scope, performance metrics (uptime, response time), responsibilities of both parties, remedies for non-compliance, change management processes. Critical for vendor management and cloud services.',
    reference: 'Service Level Management',
  },
  {
    id: 'isc-wc-104',
    section: 'ISC',
    blueprintArea: 'ISC-II',
    topicId: 'isc-security',
    topic: 'Security Controls',
    subtopic: 'Zero Trust',
    difficulty: 'hard',
    question: 'Zero Trust security architecture assumes:',
    options: [
      'The network perimeter is secure',
      'Internal users are always trusted',
      'No implicit trust for any user, device, or network regardless of location',
      'Firewalls provide complete protection'
    ],
    correctAnswer: 2,
    explanation: 'Zero Trust: "never trust, always verify" regardless of location. No implicit trust based on network location. Requires continuous verification, least privilege access, and micro-segmentation. Responds to perimeter-less environments.',
    reference: 'Zero Trust Architecture',
  },
  {
    id: 'isc-wc-105',
    section: 'ISC',
    blueprintArea: 'ISC-III',
    topicId: 'isc-systems',
    topic: 'Information Systems',
    subtopic: 'NoSQL Databases',
    difficulty: 'medium',
    question: 'NoSQL databases are best suited for:',
    options: [
      'Complex joins and ACID transactions',
      'Large volumes of unstructured or semi-structured data',
      'Traditional financial reporting',
      'Small datasets with fixed schemas'
    ],
    correctAnswer: 1,
    explanation: 'NoSQL excels with: high volume/velocity data, flexible schemas, horizontal scaling, semi-structured data (JSON, documents). Types: document (MongoDB), key-value (Redis), column (Cassandra), graph (Neo4j). Trades consistency for availability/speed.',
    reference: 'Database Systems',
  },
  {
    id: 'isc-wc-106',
    section: 'ISC',
    blueprintArea: 'ISC-IV',
    topicId: 'isc-audit',
    topic: 'IT Audit',
    subtopic: 'CAATs',
    difficulty: 'medium',
    question: 'Computer-Assisted Audit Techniques (CAATs) include:',
    options: [
      'Manual inspection of physical documents',
      'Software for data extraction, analysis, and testing',
      'Physical inventory counting',
      'Verbal inquiries of management'
    ],
    correctAnswer: 1,
    explanation: 'CAATs: automated tools for audit procedures. Examples: embedded audit modules, generalized audit software (ACL, IDEA), test data generators, parallel simulation. Enable testing of entire populations vs. sampling.',
    reference: 'IT Auditing Standards',
  },

  // TCP (4 questions)
  {
    id: 'tcp-wc-103',
    section: 'TCP',
    blueprintArea: 'TCP-I',
    topicId: 'tcp-individual',
    topic: 'Individual Tax Compliance',
    subtopic: 'Net Investment Income Tax',
    difficulty: 'hard',
    question: 'The 3.8% Net Investment Income Tax applies to:',
    options: [
      'All wages and salaries',
      'The lesser of net investment income or MAGI over threshold',
      'Only capital gains',
      'All income regardless of type'
    ],
    correctAnswer: 1,
    explanation: 'NIIT (3.8%) applies to lesser of: (1) net investment income (interest, dividends, capital gains, rents, royalties, passive income), or (2) MAGI exceeding threshold ($250K MFJ, $200K single). Not on wages or active business income.',
    reference: 'IRC Section 1411',
  },
  {
    id: 'tcp-wc-104',
    section: 'TCP',
    blueprintArea: 'TCP-II',
    topicId: 'tcp-entity',
    topic: 'Entity Tax Compliance',
    subtopic: 'S Corporation Election',
    difficulty: 'medium',
    question: 'Form 2553, S Corporation election, must generally be filed:',
    options: [
      'Within 75 days after the effective date or the entire preceding year',
      'By year-end',
      'Within 6 months after formation',
      'Any time before the first tax return is due'
    ],
    correctAnswer: 0,
    explanation: 'Form 2553 must be filed: by the 15th day of the 3rd month (2½ months) after the beginning of the tax year for which the election is to be effective, OR any time during the preceding tax year. Late election relief available.',
    reference: 'IRC Section 1362(b)',
  },
  {
    id: 'tcp-wc-105',
    section: 'TCP',
    blueprintArea: 'TCP-III',
    topicId: 'tcp-planning',
    topic: 'Tax Planning',
    subtopic: 'Grantor Trusts',
    difficulty: 'hard',
    question: 'In a grantor trust, income is taxed to:',
    options: [
      'The trust itself',
      'The beneficiaries',
      'The grantor',
      'No one - it is tax-exempt'
    ],
    correctAnswer: 2,
    explanation: 'Grantor trusts are disregarded for income tax - grantor is taxed on all trust income regardless of distributions. Common for revocable trusts, trusts with retained powers. This allows tax-free transfer of growth to beneficiaries.',
    reference: 'IRC Sections 671-679',
  },
  {
    id: 'tcp-wc-106',
    section: 'TCP',
    blueprintArea: 'TCP-IV',
    topicId: 'tcp-representation',
    topic: 'Tax Representation',
    subtopic: 'Authorization',
    difficulty: 'medium',
    question: 'Form 2848, Power of Attorney, authorizes a representative to:',
    options: [
      'Sign tax returns without taxpayer authorization',
      'Represent the taxpayer before the IRS and receive confidential information',
      'Make binding elections without taxpayer knowledge',
      'Pay taxes from the representative\'s funds'
    ],
    correctAnswer: 1,
    explanation: 'Form 2848 authorizes: represent before IRS, receive and inspect confidential information, perform acts taxpayer specifies. Does not authorize signing returns (needs separate authorization) or receiving refund checks.',
    reference: 'IRC Section 6103; Circular 230',
  },
];
