// World-Class Questions Batch 18 - Exam Quality MCQs
// 25 questions across all CPA exam sections

import { Question } from '../../../types';

export const WORLD_CLASS_BATCH_18: Question[] = [
  // FAR (4 questions)
  {
    id: 'far-wc-107',
    section: 'FAR',
    courseId: 'cpa',
    blueprintArea: 'FAR-I',
    topicId: 'far-cash-flow',
    topic: 'Statement of Cash Flows',
    subtopic: 'Direct Method',
    difficulty: 'medium',
    skillLevel: 'Application',
    question: 'Under the direct method, cash paid to suppliers is calculated as:',
    options: [
      'Cost of goods sold + Increase in inventory + Decrease in accounts payable',
      'Cost of goods sold - Increase in inventory - Increase in accounts payable',
      'Purchases + Decrease in accounts payable',
      'Cost of goods sold only'
    ],
    correctAnswer: 0,
    explanation: 'Cash paid = COGS + Increase in inventory (purchased but not sold) + Decrease in A/P (paid more than purchased). Conversely, subtract inventory decreases and A/P increases. Converts accrual COGS to cash basis.',
    reference: 'ASC 230-10-45',
  },
  {
    id: 'far-wc-108',
    section: 'FAR',
    courseId: 'cpa',
    blueprintArea: 'FAR-II',
    topicId: 'far-contingencies',
    topic: 'Contingencies',
    subtopic: 'Gain Contingencies',
    difficulty: 'medium',
    skillLevel: 'Application',
    question: 'Gain contingencies should be:',
    options: [
      'Recognized when probable and estimable',
      'Disclosed but not recognized until realized',
      'Always recorded immediately',
      'Neither disclosed nor recorded'
    ],
    correctAnswer: 1,
    explanation: 'Gain contingencies are disclosed if material but NOT recognized until realized. This reflects conservatism - avoid premature recognition of uncertain gains. Loss contingencies are recognized if probable and estimable.',
    reference: 'ASC 450-30-50',
  },
  {
    id: 'far-wc-109',
    section: 'FAR',
    courseId: 'cpa',
    blueprintArea: 'FAR-IV',
    topicId: 'far-government',
    topic: 'Government Accounting',
    subtopic: 'Major Funds',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'A governmental fund is reported as a major fund if its revenues or expenditures are:',
    options: [
      'At least 5% of category totals for all governmental funds',
      'At least 10% of the corresponding total for all governmental and enterprise funds combined',
      'Both the 10% and 5% tests are met',
      'The fund is designated by management'
    ],
    correctAnswer: 2,
    explanation: 'A fund is major if it meets: (1) 10% of corresponding element (assets, liabilities, revenues, or expenditures) of category (governmental or enterprise), AND (2) 5% of combined governmental and enterprise fund total for same element.',
    reference: 'GASB 34',
  },
  {
    id: 'far-wc-110',
    section: 'FAR',
    courseId: 'cpa',
    blueprintArea: 'FAR-III',
    topicId: 'far-consolidation',
    topic: 'Consolidation',
    subtopic: 'Variable Interest Entities',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'The primary beneficiary of a Variable Interest Entity (VIE) is the entity that has:',
    options: [
      'More than 50% voting interest',
      'Power to direct activities and obligation to absorb losses or receive benefits',
      'The largest investment in the VIE',
      'Operating control rights only'
    ],
    correctAnswer: 1,
    explanation: 'Per ASC 810, primary beneficiary has BOTH: (1) power to direct activities that most significantly impact VIE\'s economic performance, AND (2) obligation to absorb losses or right to receive benefits that could be significant. Must consolidate.',
    reference: 'ASC 810-10-25',
  },

  // AUD (4 questions)
  {
    id: 'aud-wc-107',
    section: 'AUD',
    courseId: 'cpa',
    blueprintArea: 'AUD-III',
    topicId: 'aud-procedures',
    topic: 'Audit Procedures',
    subtopic: 'Confirmation',
    difficulty: 'medium',
    skillLevel: 'Application',
    question: 'Positive confirmations request the respondent to:',
    options: [
      'Reply only if the stated balance is incorrect',
      'Reply regardless of whether the balance is correct or incorrect',
      'Forward the response to management',
      'Confirm through a phone call only'
    ],
    correctAnswer: 1,
    explanation: 'Positive confirmation: respond whether agreeing or disagreeing. Provides more persuasive evidence than negative. Negative: reply only if disagree. Positive used for large balances, disputed amounts, or higher risk.',
    reference: 'AU-C 505.15',
  },
  {
    id: 'aud-wc-108',
    section: 'AUD',
    courseId: 'cpa',
    blueprintArea: 'AUD-IV',
    topicId: 'aud-sampling',
    topic: 'Sampling',
    subtopic: 'Stratification',
    difficulty: 'medium',
    skillLevel: 'Application',
    question: 'Stratified sampling is used primarily to:',
    options: [
      'Eliminate all sampling risk',
      'Reduce sample size while maintaining precision',
      'Select items randomly without replacement',
      'Simplify the selection process'
    ],
    correctAnswer: 1,
    explanation: 'Stratification divides population into subgroups with similar characteristics. Testing more large items (high variability) and fewer small items (low variability) reduces sample size needed for given precision. Efficient for populations with wide ranges.',
    reference: 'AU-C 530.A8',
  },
  {
    id: 'aud-wc-109',
    section: 'AUD',
    courseId: 'cpa',
    blueprintArea: 'AUD-II',
    topicId: 'aud-internal-control',
    topic: 'Internal Control',
    subtopic: 'COSO',
    difficulty: 'medium',
    skillLevel: 'Application',
    question: 'COSO\'s internal control framework includes how many components?',
    options: [
      'Three',
      'Five',
      'Seven',
      'Ten'
    ],
    correctAnswer: 1,
    explanation: 'COSO framework has 5 components: (1) Control environment, (2) Risk assessment, (3) Control activities, (4) Information and communication, (5) Monitoring activities. The 2013 update added 17 principles supporting these components.',
    reference: 'COSO Framework',
  },
  {
    id: 'aud-wc-110',
    section: 'AUD',
    courseId: 'cpa',
    blueprintArea: 'AUD-VI',
    topicId: 'aud-other',
    topic: 'Other Services',
    subtopic: 'Agreed-Upon Procedures',
    difficulty: 'medium',
    skillLevel: 'Application',
    question: 'An agreed-upon procedures engagement results in:',
    options: [
      'An opinion on fair presentation',
      'Limited assurance on the subject matter',
      'A report of findings without assurance or opinion',
      'A review report with negative assurance'
    ],
    correctAnswer: 2,
    explanation: 'AUP engagements: practitioner performs specific procedures agreed with engaging party and specified parties. Reports findings without opinion or assurance. Users draw their own conclusions from the findings.',
    reference: 'AT-C Section 215',
  },

  // REG (4 questions)
  {
    id: 'reg-wc-107',
    section: 'REG',
    courseId: 'cpa',
    blueprintArea: 'REG-II',
    topicId: 'reg-individual',
    topic: 'Individual Taxation',
    subtopic: 'Estimated Tax',
    difficulty: 'medium',
    skillLevel: 'Application',
    question: 'To avoid the underpayment penalty, taxpayers generally must pay estimated taxes equal to at least:',
    options: [
      '80% of current year tax',
      '90% of current year tax or 100% of prior year tax',
      '100% of current year tax',
      '50% of current year tax'
    ],
    correctAnswer: 1,
    explanation: 'Safe harbors: (1) 90% of current year tax, OR (2) 100% of prior year tax (110% if prior year AGI > $150K). Must pay in quarterly installments. Withholding counts toward estimated tax requirement.',
    reference: 'IRC Section 6654',
  },
  {
    id: 'reg-wc-108',
    section: 'REG',
    courseId: 'cpa',
    blueprintArea: 'REG-III',
    topicId: 'reg-corporate',
    topic: 'Corporate Taxation',
    subtopic: 'Accumulated Earnings Tax',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'The accumulated earnings tax is designed to:',
    options: [
      'Tax all corporate retained earnings',
      'Discourage corporations from retaining earnings to avoid shareholder dividends',
      'Replace the corporate income tax',
      'Encourage dividend distributions to foreign shareholders'
    ],
    correctAnswer: 1,
    explanation: 'AET is a penalty tax (20%) on corporations retaining earnings beyond reasonable business needs to avoid shareholder-level dividend taxes. Applies to C corps only. Reasonable needs include expansion, debt retirement, contingencies.',
    reference: 'IRC Section 531',
  },
  {
    id: 'reg-wc-109',
    section: 'REG',
    courseId: 'cpa',
    blueprintArea: 'REG-I',
    topicId: 'reg-business-law',
    topic: 'Business Law',
    subtopic: 'Agency',
    difficulty: 'medium',
    skillLevel: 'Application',
    question: 'An agency relationship requires:',
    options: [
      'A written contract in all cases',
      'Consent of both principal and agent',
      'Payment of compensation to the agent',
      'Registration with state authorities'
    ],
    correctAnswer: 1,
    explanation: 'Agency requires: mutual consent (express or implied), agent acts on behalf of principal, principal has right to control. No consideration required - gratuitous agency is valid. Writing required only for specific situations (Statute of Frauds).',
    reference: 'Agency Law',
  },
  {
    id: 'reg-wc-110',
    section: 'REG',
    courseId: 'cpa',
    blueprintArea: 'REG-IV',
    topicId: 'reg-property',
    topic: 'Property Transactions',
    subtopic: 'Section 1245',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'Section 1245 recapture provisions require:',
    options: [
      'Recognizing gain on sale of personal property as ordinary income to the extent of depreciation',
      'Long-term capital gain treatment for all sales',
      'No recognition of gain if reinvested',
      'Charitable contribution deduction for appreciated property'
    ],
    correctAnswer: 0,
    explanation: 'Section 1245: gain on disposition of depreciable personal property is ordinary income to extent of all depreciation taken. Any excess is Section 1231 gain. Depreciation recapture prevents conversion of ordinary deductions to capital gains.',
    reference: 'IRC Section 1245',
  },

  // BAR (5 questions)
  {
    id: 'bar-wc-122',
    section: 'BAR',
    courseId: 'cpa',
    blueprintArea: 'BAR-I',
    topicId: 'bar-analysis',
    topic: 'Financial Statement Analysis',
    subtopic: 'Dupont Analysis',
    difficulty: 'medium',
    skillLevel: 'Application',
    question: 'The DuPont formula decomposes ROE into:',
    options: [
      'Profit margin × Total asset turnover × Financial leverage',
      'Current ratio × Quick ratio × Debt ratio',
      'EPS × P/E ratio × Shares outstanding',
      'EBITDA margin × Capex ratio × Working capital'
    ],
    correctAnswer: 0,
    explanation: 'DuPont: ROE = (Net income/Sales) × (Sales/Assets) × (Assets/Equity) = Profitability × Efficiency × Leverage. Shows drivers of shareholder returns and identifies areas for improvement.',
    reference: 'DuPont Analysis',
  },
  {
    id: 'bar-wc-123',
    section: 'BAR',
    courseId: 'cpa',
    blueprintArea: 'BAR-II',
    topicId: 'bar-valuation',
    topic: 'Valuation',
    subtopic: 'Beta',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'A beta greater than 1.0 indicates:',
    options: [
      'The stock is less volatile than the market',
      'The stock is more volatile than the market',
      'No correlation with the market',
      'The stock always outperforms the market'
    ],
    correctAnswer: 1,
    explanation: 'Beta measures systematic risk relative to market. Beta > 1: amplifies market movements, Beta < 1: dampens, Beta = 1: moves with market. Used in CAPM: Expected return = Rf + β(Rm - Rf).',
    reference: 'Capital Asset Pricing Model',
  },
  {
    id: 'bar-wc-124',
    section: 'BAR',
    courseId: 'cpa',
    blueprintArea: 'BAR-III',
    topicId: 'bar-technical',
    topic: 'Technical Accounting',
    subtopic: 'Stock-Based Compensation',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'Stock options granted to employees are measured at:',
    options: [
      'Intrinsic value at grant date',
      'Fair value at grant date, expensed over the service period',
      'Exercise price',
      'Market value at exercise date'
    ],
    correctAnswer: 1,
    explanation: 'ASC 718: measure at grant-date fair value using option pricing model (Black-Scholes or binomial). Expense recognized over requisite service period (usually vesting period). True-up for forfeitures as they occur.',
    reference: 'ASC 718-10-30',
  },
  {
    id: 'bar-wc-125',
    section: 'BAR',
    courseId: 'cpa',
    blueprintArea: 'BAR-IV',
    topicId: 'bar-cost',
    topic: 'Cost Accounting',
    subtopic: 'Transfer Pricing',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'The transfer price that motivates optimal decisions in a decentralized firm is typically:',
    options: [
      'Full cost',
      'Market price when an external market exists',
      'Variable cost only',
      'Negotiated between divisions regardless of cost'
    ],
    correctAnswer: 1,
    explanation: 'Market price is preferred when: external market exists, divisions operate independently, capacity is available. Ensures goal congruence - divisions make decisions that maximize firm-wide profit. Avoids suboptimization.',
    reference: 'Transfer Pricing',
  },
  {
    id: 'bar-wc-126',
    section: 'BAR',
    courseId: 'cpa',
    blueprintArea: 'BAR-I',
    topicId: 'bar-analysis',
    topic: 'Financial Statement Analysis',
    subtopic: 'Operating Leverage',
    difficulty: 'medium',
    skillLevel: 'Application',
    question: 'High operating leverage indicates:',
    options: [
      'Large proportion of variable costs',
      'Large proportion of fixed costs relative to variable costs',
      'High debt levels',
      'Low break-even point'
    ],
    correctAnswer: 1,
    explanation: 'Operating leverage = Fixed costs / Total costs. High leverage: profits amplify with sales increases, but also amplify losses with decreases. Companies with high fixed costs (manufacturing) have higher operating leverage than service firms.',
    reference: 'Cost-Volume-Profit Analysis',
  },

  // ISC (4 questions)
  {
    id: 'isc-wc-107',
    section: 'ISC',
    courseId: 'cpa',
    blueprintArea: 'ISC-I',
    topicId: 'isc-governance',
    topic: 'IT Governance',
    subtopic: 'COBIT',
    difficulty: 'medium',
    skillLevel: 'Application',
    question: 'COBIT is primarily a framework for:',
    options: [
      'Financial reporting only',
      'IT governance and management',
      'Physical security controls',
      'Payroll processing'
    ],
    correctAnswer: 1,
    explanation: 'COBIT (Control Objectives for Information Technologies) provides comprehensive IT governance framework. Covers strategic alignment, value delivery, risk management, resource management, performance measurement. Complements COSO.',
    reference: 'COBIT Framework',
  },
  {
    id: 'isc-wc-108',
    section: 'ISC',
    courseId: 'cpa',
    blueprintArea: 'ISC-II',
    topicId: 'isc-security',
    topic: 'Security Controls',
    subtopic: 'Incident Response',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'The correct order of incident response phases is:',
    options: [
      'Recovery, Detection, Containment, Eradication',
      'Preparation, Detection, Containment, Eradication, Recovery, Lessons Learned',
      'Response, Investigation, Closure',
      'Alert, Investigate, Report'
    ],
    correctAnswer: 1,
    explanation: 'NIST incident response: (1) Preparation, (2) Detection & Analysis, (3) Containment, (4) Eradication, (5) Recovery, (6) Post-incident (lessons learned). Preparation occurs before incidents; lessons learned improves future response.',
    reference: 'NIST SP 800-61',
  },
  {
    id: 'isc-wc-109',
    section: 'ISC',
    courseId: 'cpa',
    blueprintArea: 'ISC-III',
    topicId: 'isc-systems',
    topic: 'Information Systems',
    subtopic: 'CI/CD',
    difficulty: 'medium',
    skillLevel: 'Application',
    question: 'Continuous Integration/Continuous Deployment (CI/CD) enables:',
    options: [
      'Manual testing only',
      'Automated building, testing, and deployment of code changes',
      'Annual software releases',
      'Elimination of all code defects'
    ],
    correctAnswer: 1,
    explanation: 'CI/CD automates: code integration, automated testing, deployment pipelines. Benefits: faster releases, reduced manual errors, quick feedback. CI: frequent code merges with automated testing. CD: automated deployment to production.',
    reference: 'DevOps Practices',
  },
  {
    id: 'isc-wc-110',
    section: 'ISC',
    courseId: 'cpa',
    blueprintArea: 'ISC-IV',
    topicId: 'isc-audit',
    topic: 'IT Audit',
    subtopic: 'Penetration Testing',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'Penetration testing differs from vulnerability scanning in that it:',
    options: [
      'Only identifies potential vulnerabilities',
      'Actively exploits vulnerabilities to demonstrate impact',
      'Is fully automated with no human involvement',
      'Focuses on policy compliance only'
    ],
    correctAnswer: 1,
    explanation: 'Vulnerability scanning identifies potential weaknesses (automated, broad). Penetration testing actively exploits vulnerabilities (manual/automated, depth). Pen tests show actual risk and impact, not just theoretical vulnerabilities.',
    reference: 'Security Assessment',
  },

  // TCP (4 questions)
  {
    id: 'tcp-wc-107',
    section: 'TCP',
    courseId: 'cpa',
    blueprintArea: 'TCP-I',
    topicId: 'tcp-individual',
    topic: 'Individual Tax Compliance',
    subtopic: 'HSA',
    difficulty: 'medium',
    skillLevel: 'Application',
    question: 'Health Savings Account contributions are:',
    options: [
      'Not deductible',
      'Deductible above the line, limited annually, and available only with HDHP',
      'Only deductible by employers',
      'Subject to immediate taxation'
    ],
    correctAnswer: 1,
    explanation: 'HSA contributions: above-the-line deduction (reduces AGI), requires high-deductible health plan. 2024 limits: $4,150 individual, $8,300 family + $1,000 catch-up (55+). Distributions for qualified medical expenses are tax-free.',
    reference: 'IRC Section 223',
  },
  {
    id: 'tcp-wc-108',
    section: 'TCP',
    courseId: 'cpa',
    blueprintArea: 'TCP-II',
    topicId: 'tcp-entity',
    topic: 'Entity Tax Compliance',
    subtopic: 'LLC Taxation',
    difficulty: 'medium',
    skillLevel: 'Application',
    question: 'A multi-member LLC is treated by default as:',
    options: [
      'A C corporation',
      'An S corporation',
      'A partnership',
      'A disregarded entity'
    ],
    correctAnswer: 2,
    explanation: 'Default classification: multi-member LLC = partnership, single-member LLC = disregarded entity. LLCs can elect corporate status (Form 8832) or S corp status (Form 2553). Check-the-box regulations govern entity classification.',
    reference: 'Treasury Reg 301.7701',
  },
  {
    id: 'tcp-wc-109',
    section: 'TCP',
    courseId: 'cpa',
    blueprintArea: 'TCP-III',
    topicId: 'tcp-planning',
    topic: 'Tax Planning',
    subtopic: 'Section 199A',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'The qualified business income (QBI) deduction under Section 199A is limited for specified service trades or businesses (SSTBs) when:',
    options: [
      'QBI exceeds $100,000',
      'Taxable income exceeds threshold amounts ($182,100 single/$364,200 MFJ for 2024)',
      'The business has employees',
      'The business operates in multiple states'
    ],
    correctAnswer: 1,
    explanation: 'SSTBs (law, health, consulting, etc.) fully qualify for QBI deduction only when taxable income is below threshold. Phases out over $50K/$100K. Above phase-out, SSTBs get no deduction. Non-SSTBs subject to W-2/capital limits instead.',
    reference: 'IRC Section 199A',
  },
  {
    id: 'tcp-wc-110',
    section: 'TCP',
    courseId: 'cpa',
    blueprintArea: 'TCP-IV',
    topicId: 'tcp-representation',
    topic: 'Tax Representation',
    subtopic: 'Statute of Limitations',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'The general statute of limitations for IRS assessment of additional tax is:',
    options: [
      '1 year from filing',
      '3 years from the later of due date or filing date',
      '7 years from filing',
      '10 years from filing'
    ],
    correctAnswer: 1,
    explanation: 'General rule: 3 years from later of due date or actual filing. Extended to 6 years if >25% gross income omission. No limit for fraud or non-filing. Collection statute: 10 years from assessment.',
    reference: 'IRC Section 6501',
  },
];
