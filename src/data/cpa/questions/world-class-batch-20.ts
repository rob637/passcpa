// World-Class Questions Batch 20 - Exam Quality MCQs
// 25 questions across all CPA exam sections

import { Question } from '../../../types';

export const WORLD_CLASS_BATCH_20: Question[] = [
  // FAR (4 questions)
  {
    id: 'far-wc-115',
    section: 'FAR',
    blueprintArea: 'FAR-I',
    topicId: 'far-fair-value',
    topic: 'Fair Value',
    subtopic: 'Level 3 Inputs',
    difficulty: 'hard',
    question: 'Level 3 fair value inputs are:',
    options: [
      'Quoted prices in active markets',
      'Observable inputs other than quoted prices',
      'Unobservable inputs reflecting entity\'s own assumptions',
      'Government-published rates'
    ],
    correctAnswer: 2,
    explanation: 'Level 3: unobservable inputs when market data unavailable. Entity uses best available information including own data. Examples: discounted cash flows with entity assumptions, certain real estate, private equity. Requires extensive disclosures.',
    reference: 'ASC 820-10-35',
  },
  {
    id: 'far-wc-116',
    section: 'FAR',
    blueprintArea: 'FAR-II',
    topicId: 'far-bonds',
    topic: 'Bonds',
    subtopic: 'Impairment',
    difficulty: 'hard',
    question: 'Under the CECL model, the allowance for credit losses on debt securities is:',
    options: [
      'Based only on realized losses',
      'Recorded when a loss is probable',
      'Measured at an amount equal to lifetime expected credit losses',
      'Never recorded for investment-grade bonds'
    ],
    correctAnswer: 2,
    explanation: 'CECL (ASC 326): record allowance equal to lifetime expected credit losses at origination or purchase. Updated each reporting period. Applies to held-to-maturity debt securities (available-for-sale has separate model).',
    reference: 'ASC 326-20',
  },
  {
    id: 'far-wc-117',
    section: 'FAR',
    blueprintArea: 'FAR-III',
    topicId: 'far-foreign-currency',
    topic: 'Foreign Currency',
    subtopic: 'Functional Currency',
    difficulty: 'hard',
    question: 'A foreign subsidiary\'s functional currency is determined by:',
    options: [
      'Parent company preference',
      'The currency of the country of incorporation',
      'The currency of the primary economic environment',
      'The reporting currency of consolidated statements'
    ],
    correctAnswer: 2,
    explanation: 'Functional currency: currency of primary economic environment where entity generates/expends cash. Factors: sales prices, labor/materials costs, financing, intercompany transactions. May differ from local currency.',
    reference: 'ASC 830-10-45',
  },
  {
    id: 'far-wc-118',
    section: 'FAR',
    blueprintArea: 'FAR-V',
    topicId: 'far-nfp',
    topic: 'Not-for-Profit',
    subtopic: 'Promises to Give',
    difficulty: 'medium',
    question: 'Unconditional promises to give with payments due in future periods are recorded at:',
    options: [
      'Face value',
      'Present value using a discount rate',
      'Zero until received',
      'Average historical donation amounts'
    ],
    correctAnswer: 1,
    explanation: 'Multi-year pledges recorded at present value using risk-adjusted discount rate. Subsequent changes in present value recognized as contribution revenue (not interest). Conditional promises not recognized until conditions met.',
    reference: 'ASC 958-605-30',
  },

  // AUD (4 questions)
  {
    id: 'aud-wc-115',
    section: 'AUD',
    blueprintArea: 'AUD-III',
    topicId: 'aud-evidence',
    topic: 'Audit Evidence',
    subtopic: 'External Confirmations',
    difficulty: 'medium',
    question: 'The most persuasive audit evidence is typically:',
    options: [
      'Client-prepared documents reviewed internally',
      'Oral representations from management',
      'External evidence obtained directly by the auditor',
      'Prior period workpapers'
    ],
    correctAnswer: 2,
    explanation: 'Evidence hierarchy: external sources more reliable than internal; directly obtained more reliable than indirectly; documents more reliable than oral; original better than copies. External confirmations sent to auditor are highly reliable.',
    reference: 'AU-C 500.A5',
  },
  {
    id: 'aud-wc-116',
    section: 'AUD',
    blueprintArea: 'AUD-IV',
    topicId: 'aud-procedures',
    topic: 'Audit Procedures',
    subtopic: 'Analytical Procedures',
    difficulty: 'medium',
    question: 'Analytical procedures are required during which phases of the audit?',
    options: [
      'Planning only',
      'Planning and near the end of the audit',
      'Testing of controls only',
      'Only when substantive testing is insufficient'
    ],
    correctAnswer: 1,
    explanation: 'Required: (1) planning - understand entity and identify risks, (2) overall review near completion - assess if statements consistent with auditor\'s understanding. Optional but common as substantive procedures during fieldwork.',
    reference: 'AU-C 520.06',
  },
  {
    id: 'aud-wc-117',
    section: 'AUD',
    blueprintArea: 'AUD-II',
    topicId: 'aud-risk',
    topic: 'Risk Assessment',
    subtopic: 'Detection Risk',
    difficulty: 'medium',
    question: 'Detection risk is the risk that:',
    options: [
      'Material misstatement exists in financial statements',
      'Controls will not prevent misstatement',
      'Auditor\'s procedures will not detect existing misstatement',
      'Management will commit fraud'
    ],
    correctAnswer: 2,
    explanation: 'Detection risk: risk that audit procedures won\'t detect material misstatement. Auditor controls this through nature, timing, extent of procedures. Inversely related to assessed inherent and control risks.',
    reference: 'AU-C 200.A42',
  },
  {
    id: 'aud-wc-118',
    section: 'AUD',
    blueprintArea: 'AUD-VI',
    topicId: 'aud-other',
    topic: 'Other Services',
    subtopic: 'Prospective Financial Information',
    difficulty: 'hard',
    question: 'An examination of a financial forecast results in:',
    options: [
      'An opinion on whether the forecast is presented in accordance with AICPA guidelines',
      'A guarantee that results will be achieved',
      'A compilation with no assurance',
      'A review with limited assurance'
    ],
    correctAnswer: 0,
    explanation: 'Forecast examination: opinion on whether presented in conformity with AICPA guidelines and assumptions provide reasonable basis. Does not guarantee achievement. Compilation (no assurance) and AUP also available for prospective info.',
    reference: 'AT-C Section 305',
  },

  // REG (4 questions)
  {
    id: 'reg-wc-115',
    section: 'REG',
    blueprintArea: 'REG-II',
    topicId: 'reg-individual',
    topic: 'Individual Taxation',
    subtopic: 'Filing Status',
    difficulty: 'medium',
    question: 'A taxpayer whose spouse died during the tax year can file:',
    options: [
      'Only single status',
      'Married filing jointly for the year of death',
      'Head of household only',
      'Surviving spouse status for the year of death'
    ],
    correctAnswer: 1,
    explanation: 'Year of death: MFJ allowed if not remarried. Following 2 years: Qualifying surviving spouse if dependent child and not remarried. After: single or HOH if qualifies. Surviving spouse status provides full MFJ tax rates.',
    reference: 'IRC Section 2(a)',
  },
  {
    id: 'reg-wc-116',
    section: 'REG',
    blueprintArea: 'REG-III',
    topicId: 'reg-s-corp',
    topic: 'S Corporation',
    subtopic: 'Built-in Gains',
    difficulty: 'hard',
    question: 'The built-in gains tax applies when an S corporation:',
    options: [
      'Was always an S corporation',
      'Converted from C corporation and disposes of appreciated assets within recognition period',
      'Distributes cash to shareholders',
      'Elects S status in the current year'
    ],
    correctAnswer: 1,
    explanation: 'Built-in gains tax: 21% corporate tax on net built-in gains recognized within 5-year recognition period after C-to-S conversion. Applies to pre-conversion appreciation. Limits benefit of converting to pass-through to avoid corporate tax.',
    reference: 'IRC Section 1374',
  },
  {
    id: 'reg-wc-117',
    section: 'REG',
    blueprintArea: 'REG-I',
    topicId: 'reg-business-law',
    topic: 'Business Law',
    subtopic: 'Statute of Frauds',
    difficulty: 'medium',
    question: 'The Statute of Frauds requires a writing for:',
    options: [
      'All contracts',
      'Contracts for the sale of goods over $500 under UCC',
      'Oral lease agreements under one year',
      'Service contracts under $1,000'
    ],
    correctAnswer: 1,
    explanation: 'Statute of Frauds requires writing for: land sales/interests, goods >=$ 500 (UCC), suretyship, marriage consideration, contracts not performable within one year, executor promises. Prevents fraud through documentation.',
    reference: 'UCC 2-201',
  },
  {
    id: 'reg-wc-118',
    section: 'REG',
    blueprintArea: 'REG-IV',
    topicId: 'reg-property',
    topic: 'Property Transactions',
    subtopic: 'Installment Sales',
    difficulty: 'hard',
    question: 'Under the installment method, gross profit is recognized as:',
    options: [
      'Entirely in year of sale',
      'Proportionally as payments are received',
      'In the final year of collection',
      'Only when the note is sold'
    ],
    correctAnswer: 1,
    explanation: 'Installment method: gross profit % Ã— payments received each year. GP% = (Selling price - Cost) / Selling price. Applies to deferred payment sales; not available for inventory sales or dealer dispositions.',
    reference: 'IRC Section 453',
  },

  // BAR (5 questions)
  {
    id: 'bar-wc-132',
    section: 'BAR',
    blueprintArea: 'BAR-I',
    topicId: 'bar-analysis',
    topic: 'Financial Statement Analysis',
    subtopic: 'Cash Conversion Cycle',
    difficulty: 'medium',
    question: 'The cash conversion cycle equals:',
    options: [
      'Inventory days + Receivables days only',
      'Inventory days + Receivables days - Payables days',
      'Operating cycle minus net income',
      'Receivables days only'
    ],
    correctAnswer: 1,
    explanation: 'CCC = DIO + DSO - DPO (days inventory outstanding + days sales outstanding - days payables outstanding). Measures time from cash outflow for inventory to cash inflow from sales. Shorter is better.',
    reference: 'Working Capital Analysis',
  },
  {
    id: 'bar-wc-133',
    section: 'BAR',
    blueprintArea: 'BAR-II',
    topicId: 'bar-valuation',
    topic: 'Valuation',
    subtopic: 'IRR',
    difficulty: 'medium',
    question: 'The internal rate of return (IRR) is the discount rate that:',
    options: [
      'Maximizes total cash flows',
      'Makes NPV equal to zero',
      'Equals the cost of capital',
      'Minimizes project risk'
    ],
    correctAnswer: 1,
    explanation: 'IRR: discount rate where PV of inflows = PV of outflows (NPV = 0). Accept projects where IRR > cost of capital. Limitations: multiple IRRs with unconventional cash flows, scale issues, reinvestment rate assumption.',
    reference: 'Capital Budgeting',
  },
  {
    id: 'bar-wc-134',
    section: 'BAR',
    blueprintArea: 'BAR-III',
    topicId: 'bar-technical',
    topic: 'Technical Accounting',
    subtopic: 'Convertible Debt',
    difficulty: 'hard',
    question: 'Under ASC 470-20, traditional convertible debt is initially recorded:',
    options: [
      'At fair value with equity component separated',
      'Entirely as a liability at proceeds received',
      'As equity only',
      'At the conversion value'
    ],
    correctAnswer: 1,
    explanation: 'Post-ASU 2020-06, most convertible debt recorded entirely as liability (no beneficial conversion feature separation). Simplifies accounting. Convert at carrying amount method upon conversion. Interest expense at stated rate.',
    reference: 'ASC 470-20',
  },
  {
    id: 'bar-wc-135',
    section: 'BAR',
    blueprintArea: 'BAR-IV',
    topicId: 'bar-cost',
    topic: 'Cost Accounting',
    subtopic: 'Contribution Margin',
    difficulty: 'easy',
    question: 'Contribution margin per unit equals:',
    options: [
      'Sales price minus all costs',
      'Sales price minus variable cost per unit',
      'Fixed costs divided by units',
      'Gross profit plus fixed costs'
    ],
    correctAnswer: 1,
    explanation: 'Contribution margin = Price - Variable cost. Amount each unit contributes toward covering fixed costs and profit. CM ratio = CM/Price. Used in CVP analysis, break-even calculations, product mix decisions.',
    reference: 'Cost-Volume-Profit Analysis',
  },
  {
    id: 'bar-wc-136',
    section: 'BAR',
    blueprintArea: 'BAR-I',
    topicId: 'bar-analysis',
    topic: 'Financial Statement Analysis',
    subtopic: 'Leverage Ratios',
    difficulty: 'medium',
    question: 'The debt-to-equity ratio is calculated as:',
    options: [
      'Total liabilities divided by total assets',
      'Total debt divided by total equity',
      'Current liabilities divided by current assets',
      'Net income divided by equity'
    ],
    correctAnswer: 1,
    explanation: 'D/E = Total debt / Total equity. Higher ratio indicates more leverage and financial risk. Variations: long-term debt/equity, debt/capital. Important for creditors assessing risk and covenant compliance.',
    reference: 'Leverage Analysis',
  },

  // ISC (4 questions)
  {
    id: 'isc-wc-115',
    section: 'ISC',
    blueprintArea: 'ISC-I',
    topicId: 'isc-governance',
    topic: 'IT Governance',
    subtopic: 'Segregation of Duties',
    difficulty: 'medium',
    question: 'In IT, the functions that should be segregated include:',
    options: [
      'Programming and computer operations',
      'All users and all programmers',
      'Management and staff',
      'Internal and external users only'
    ],
    correctAnswer: 0,
    explanation: 'Key IT segregation: development/programming separate from operations (production). Also: security administration separate from development/operations, DBA separate from application development. Prevents unauthorized program changes going to production.',
    reference: 'IT Controls',
  },
  {
    id: 'isc-wc-116',
    section: 'ISC',
    blueprintArea: 'ISC-II',
    topicId: 'isc-security',
    topic: 'Security Controls',
    subtopic: 'Social Engineering',
    difficulty: 'medium',
    question: 'Phishing is an example of:',
    options: [
      'Symmetric encryption',
      'Social engineering attack',
      'Firewall configuration',
      'Database normalization'
    ],
    correctAnswer: 1,
    explanation: 'Phishing: social engineering via fraudulent emails/websites to steal credentials. Variations: spear phishing (targeted), whaling (executives), vishing (voice), smishing (SMS). Mitigated through training and technical controls.',
    reference: 'Social Engineering',
  },
  {
    id: 'isc-wc-117',
    section: 'ISC',
    blueprintArea: 'ISC-III',
    topicId: 'isc-systems',
    topic: 'Information Systems',
    subtopic: 'Backup Strategies',
    difficulty: 'medium',
    question: 'An incremental backup copies:',
    options: [
      'All data every time',
      'Only data changed since the last backup of any type',
      'Only data changed since the last full backup',
      'Selected files chosen manually'
    ],
    correctAnswer: 1,
    explanation: 'Incremental: copies only data changed since last backup (any type). Fast backup, slower recovery (needs all incrementals). Differential: copies all changes since last full backup. Full: copies everything.',
    reference: 'Backup Strategies',
  },
  {
    id: 'isc-wc-118',
    section: 'ISC',
    blueprintArea: 'ISC-IV',
    topicId: 'isc-audit',
    topic: 'IT Audit',
    subtopic: 'General vs Application Controls',
    difficulty: 'medium',
    question: 'General IT controls differ from application controls in that they:',
    options: [
      'Apply only to specific transactions',
      'Apply to all systems and applications broadly',
      'Are only physical controls',
      'Are tested by application users'
    ],
    correctAnswer: 1,
    explanation: 'General controls: affect all systems (access security, change management, operations, BCP). Application controls: specific to individual applications (input validation, processing controls, output controls). General controls support application control effectiveness.',
    reference: 'IT Audit Standards',
  },

  // TCP (4 questions)
  {
    id: 'tcp-wc-115',
    section: 'TCP',
    blueprintArea: 'TCP-I',
    topicId: 'tcp-individual',
    topic: 'Individual Tax Compliance',
    subtopic: 'Capital Loss Carryover',
    difficulty: 'medium',
    question: 'Individual capital losses in excess of the annual limit are:',
    options: [
      'Lost forever',
      'Carried forward indefinitely maintaining their character',
      'Converted to ordinary losses',
      'Carried back two years first'
    ],
    correctAnswer: 1,
    explanation: 'Annual capital loss deduction limited to $3,000 ($1,500 MFS). Excess carried forward indefinitely, maintaining character (ST/LT). Apply ST losses against ST gains first, then LT against LT, then cross-character.',
    reference: 'IRC Section 1212',
  },
  {
    id: 'tcp-wc-116',
    section: 'TCP',
    blueprintArea: 'TCP-II',
    topicId: 'tcp-entity',
    topic: 'Entity Tax Compliance',
    subtopic: 'Partnership Allocations',
    difficulty: 'hard',
    question: 'For partnership allocations to be respected for tax purposes, they must have:',
    options: [
      'Equal percentage to all partners',
      'Substantial economic effect or be in accordance with partners\' interests',
      'IRS pre-approval',
      'Written agreement only'
    ],
    correctAnswer: 1,
    explanation: 'Allocations respected if: substantial economic effect (proper capital accounts, liquidation follows accounts, deficit restoration) OR in accordance with partners\' interests in partnership. Prevents allocations designed only for tax avoidance.',
    reference: 'IRC Section 704(b)',
  },
  {
    id: 'tcp-wc-117',
    section: 'TCP',
    blueprintArea: 'TCP-III',
    topicId: 'tcp-planning',
    topic: 'Tax Planning',
    subtopic: 'Tax Deferral',
    difficulty: 'medium',
    question: 'Tax deferral strategies provide value primarily because of:',
    options: [
      'Permanent exclusion of income',
      'Time value of money - later payment is better',
      'Lower audit probability',
      'Simpler reporting requirements'
    ],
    correctAnswer: 1,
    explanation: 'Deferral value: tax dollars retained earn additional returns until payment due. Also: possibility of lower future rates, possible basis step-up at death. Present value of deferred tax < current tax payment.',
    reference: 'Tax Planning Principles',
  },
  {
    id: 'tcp-wc-118',
    section: 'TCP',
    blueprintArea: 'TCP-IV',
    topicId: 'tcp-representation',
    topic: 'Tax Representation',
    subtopic: 'Offer in Compromise',
    difficulty: 'hard',
    question: 'An Offer in Compromise allows settlement of tax liability based on:',
    options: [
      'Taxpayer\'s preferences only',
      'Doubt as to collectibility, doubt as to liability, or effective tax administration',
      'Automatic forgiveness after 5 years',
      'Good faith estimate by the taxpayer'
    ],
    correctAnswer: 1,
    explanation: 'OIC grounds: (1) Doubt as to liability - genuine dispute about amount owed, (2) Doubt as to collectibility - can\'t pay full amount, (3) Effective tax administration - paying would cause economic hardship or be inequitable.',
    reference: 'IRC Section 7122',
  },
];
