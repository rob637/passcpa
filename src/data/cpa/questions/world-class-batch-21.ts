// World-Class Questions Batch 21 - Exam Quality MCQs
// 25 questions across all CPA exam sections

import { Question } from '../../../types';

export const WORLD_CLASS_BATCH_21: Question[] = [
  // FAR (4 questions)
  {
    id: 'far-wc-119',
    section: 'FAR',
    courseId: 'cpa',
    blueprintArea: 'FAR-II',
    topicId: 'far-leases',
    topic: 'Leases',
    subtopic: 'Finance vs Operating',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'Under ASC 842, a lease is classified as a finance lease for the lessee if:',
    options: [
      'The lease term is less than 12 months',
      'Any one of the five classification criteria is met',
      'The lease contains only variable payments',
      'The lessee can terminate at any time'
    ],
    correctAnswer: 1,
    explanation: 'Finance lease if ANY of: (1) ownership transfers, (2) purchase option reasonably certain, (3) term is major part of asset life, (4) PV ≥ substantially all of fair value, (5) specialized asset. Otherwise operating lease.',
    reference: 'ASC 842-10-25-2',
  },
  {
    id: 'far-wc-120',
    section: 'FAR',
    courseId: 'cpa',
    blueprintArea: 'FAR-I',
    topicId: 'far-income-statement',
    topic: 'Income Statement',
    subtopic: 'Discontinued Operations',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'Discontinued operations reporting requires the disposed component to represent:',
    options: [
      'Any asset group',
      'A strategic shift with major effect on operations and financial results',
      'Only unprofitable segments',
      'Foreign operations only'
    ],
    correctAnswer: 1,
    explanation: 'ASC 205-20: discontinued operations when disposal represents strategic shift (e.g., disposing major line of business, geographical area, equity method investment, or subsidiary) with major effect on operations and financial results.',
    reference: 'ASC 205-20-45',
  },
  {
    id: 'far-wc-121',
    section: 'FAR',
    courseId: 'cpa',
    blueprintArea: 'FAR-III',
    topicId: 'far-business-combinations',
    topic: 'Business Combinations',
    subtopic: 'Acquisition Method',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'Under the acquisition method, identifiable assets acquired are measured at:',
    options: [
      'Historical cost to the acquiree',
      'Fair value at acquisition date',
      'Book value plus 10%',
      'The acquirer\'s carrying amount'
    ],
    correctAnswer: 1,
    explanation: 'ASC 805 requires fair value measurement of identifiable assets acquired and liabilities assumed at acquisition date. Difference between consideration and net FV of identifiables = goodwill (or bargain purchase gain).',
    reference: 'ASC 805-20-30',
  },
  {
    id: 'far-wc-122',
    section: 'FAR',
    courseId: 'cpa',
    blueprintArea: 'FAR-IV',
    topicId: 'far-government',
    topic: 'Government Accounting',
    subtopic: 'Net Position',
    difficulty: 'medium',
    skillLevel: 'Application',
    question: 'In government-wide statements, net position is classified into:',
    options: [
      'Restricted and unrestricted only',
      'Net investment in capital assets, restricted, and unrestricted',
      'Fund balance classifications',
      'Assets minus liabilities only'
    ],
    correctAnswer: 1,
    explanation: 'Government-wide net position: (1) Net investment in capital assets (capital assets less related debt), (2) Restricted (externally imposed or by law), (3) Unrestricted. Different from fund balance classifications used in fund statements.',
    reference: 'GASB 34',
  },

  // AUD (4 questions)
  {
    id: 'aud-wc-119',
    section: 'AUD',
    courseId: 'cpa',
    blueprintArea: 'AUD-I',
    topicId: 'aud-engagement',
    topic: 'Engagement Acceptance',
    subtopic: 'Preconditions',
    difficulty: 'medium',
    skillLevel: 'Application',
    question: 'Before accepting an audit engagement, the auditor must determine that:',
    options: [
      'The audit fee is profitable',
      'The financial reporting framework is acceptable and management agrees to responsibilities',
      'All predecessor auditor work can be relied upon',
      'The client has no legal issues'
    ],
    correctAnswer: 1,
    explanation: 'Preconditions: (1) acceptable financial reporting framework, (2) management acknowledges responsibilities for FS preparation, internal control, and providing access/information to auditor. Without these, decline or limit scope.',
    reference: 'AU-C 210.06',
  },
  {
    id: 'aud-wc-120',
    section: 'AUD',
    courseId: 'cpa',
    blueprintArea: 'AUD-III',
    topicId: 'aud-procedures',
    topic: 'Audit Procedures',
    subtopic: 'Written Representations',
    difficulty: 'medium',
    skillLevel: 'Application',
    question: 'The management representation letter is dated as of:',
    options: [
      'The balance sheet date',
      'The date of the auditor\'s report',
      'The engagement letter date',
      'The planning meeting date'
    ],
    correctAnswer: 1,
    explanation: 'Management representation letter dated same as auditor\'s report (or as close as practicable). Covers all representations for the period under audit. Required for all audits; refusal = scope limitation.',
    reference: 'AU-C 580.14',
  },
  {
    id: 'aud-wc-121',
    section: 'AUD',
    courseId: 'cpa',
    blueprintArea: 'AUD-V',
    topicId: 'aud-reports',
    topic: 'Audit Reports',
    subtopic: 'Comparative Statements',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'When a predecessor auditor\'s report is not reissued on prior period statements:',
    options: [
      'The successor cannot refer to the predecessor',
      'An other-matter paragraph describes the prior audit',
      'The current auditor must re-audit prior periods',
      'No opinion can be given on current year'
    ],
    correctAnswer: 1,
    explanation: 'If predecessor report not reissued, successor adds other-matter paragraph stating: predecessor audited prior year, opinion type, date of report, and if modified, the reasons. Successor does not take responsibility for prior opinion.',
    reference: 'AU-C 700.A55',
  },
  {
    id: 'aud-wc-122',
    section: 'AUD',
    courseId: 'cpa',
    blueprintArea: 'AUD-II',
    topicId: 'aud-internal-control',
    topic: 'Internal Control',
    subtopic: 'Test of Controls',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'Tests of controls are required when the auditor:',
    options: [
      'Plans to rely on operating effectiveness of controls to reduce substantive testing',
      'Uses only substantive procedures',
      'Issues an adverse opinion',
      'Performs a review engagement'
    ],
    correctAnswer: 0,
    explanation: 'Test controls when: (1) assessing RMM includes expectation that controls are operating effectively, or (2) substantive procedures alone cannot provide sufficient evidence. Test nature, timing, extent, and consistency of performance.',
    reference: 'AU-C 330.08',
  },

  // REG (4 questions)
  {
    id: 'reg-wc-119',
    section: 'REG',
    courseId: 'cpa',
    blueprintArea: 'REG-II',
    topicId: 'reg-individual',
    topic: 'Individual Taxation',
    subtopic: 'Kiddie Tax',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'The kiddie tax applies to children under age 19 (or 24 if full-time students) whose:',
    options: [
      'Total income exceeds $1,250',
      'Unearned income exceeds the threshold amount',
      'Wages exceed $5,000',
      'Parent claims them as dependent'
    ],
    correctAnswer: 1,
    explanation: 'Kiddie tax: child\'s unearned income above threshold ($2,500 in 2024) taxed at parents\' marginal rate. Applies to children under 19, under 24 if student, who don\'t provide more than half own support. Prevents income shifting.',
    reference: 'IRC Section 1(g)',
  },
  {
    id: 'reg-wc-120',
    section: 'REG',
    courseId: 'cpa',
    blueprintArea: 'REG-III',
    topicId: 'reg-corporate',
    topic: 'Corporate Taxation',
    subtopic: 'Corporate Liquidations',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'In a complete liquidation of a subsidiary (Section 332), the parent corporation:',
    options: [
      'Recognizes gain or loss on the distribution',
      'Takes a fair market value basis in assets received',
      'Takes a carryover basis in assets with no gain/loss recognition',
      'Must pay dividend taxes on distributions'
    ],
    correctAnswer: 2,
    explanation: 'Section 332: if parent owns 80%+ of stock, tax-free liquidation. Parent takes carryover basis in assets, inherits tax attributes (NOLs, E&P). Subsidiary recognizes no gain/loss. Regular liquidation rules (Section 331) apply otherwise.',
    reference: 'IRC Sections 332, 334',
  },
  {
    id: 'reg-wc-121',
    section: 'REG',
    courseId: 'cpa',
    blueprintArea: 'REG-I',
    topicId: 'reg-business-law',
    topic: 'Business Law',
    subtopic: 'Product Liability',
    difficulty: 'medium',
    skillLevel: 'Application',
    question: 'Strict product liability applies to:',
    options: [
      'Only intentional misconduct by manufacturers',
      'Sellers of defective products regardless of negligence',
      'Service providers exclusively',
      'Consumers who misuse products'
    ],
    correctAnswer: 1,
    explanation: 'Strict liability: seller liable for defective product injury without proving negligence. Requires: defect (design, manufacturing, or warning), causation, damages. Applies to commercial sellers in the chain of distribution.',
    reference: 'Restatement of Torts',
  },
  {
    id: 'reg-wc-122',
    section: 'REG',
    courseId: 'cpa',
    blueprintArea: 'REG-IV',
    topicId: 'reg-property',
    topic: 'Property Transactions',
    subtopic: 'Related Party Sales',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'A loss on sale of property to a related party is:',
    options: [
      'Fully deductible',
      'Disallowed, but may offset gain on subsequent sale by related party',
      'Capitalized to basis',
      'Converted to capital loss'
    ],
    correctAnswer: 1,
    explanation: 'Section 267: loss denied between related parties (>50% ownership, family, controlled entities). Disallowed loss can offset related party\'s gain on subsequent sale to unrelated party (basis pickup rule). Prevents artificial loss recognition.',
    reference: 'IRC Section 267',
  },

  // BAR (5 questions)
  {
    id: 'bar-wc-137',
    section: 'BAR',
    courseId: 'cpa',
    blueprintArea: 'BAR-II',
    topicId: 'bar-valuation',
    topic: 'Valuation',
    subtopic: 'Cost of Equity',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'The CAPM formula for cost of equity is:',
    options: [
      'Risk-free rate + Market risk premium',
      'Risk-free rate + Beta × (Market return - Risk-free rate)',
      'Dividend yield + Growth rate',
      'WACC × Debt ratio'
    ],
    correctAnswer: 1,
    explanation: 'CAPM: Ke = Rf + β(Rm - Rf). Risk-free rate + company-specific risk (beta × market risk premium). Alternative: Dividend Discount Model (D1/P0 + g). Both estimate required return on equity.',
    reference: 'Capital Asset Pricing Model',
  },
  {
    id: 'bar-wc-138',
    section: 'BAR',
    courseId: 'cpa',
    blueprintArea: 'BAR-III',
    topicId: 'bar-technical',
    topic: 'Technical Accounting',
    subtopic: 'Segment Reporting',
    difficulty: 'medium',
    skillLevel: 'Application',
    question: 'Operating segments are determined based on:',
    options: [
      'Legal entity structure',
      'Geographic location only',
      'Internal reports reviewed by the chief operating decision maker',
      'Product profitability'
    ],
    correctAnswer: 2,
    explanation: 'ASC 280: segments identified by internal reports used by CODM to allocate resources and assess performance. Management approach reflects internal organization. May differ from legal entities or product line structure.',
    reference: 'ASC 280-10-50',
  },
  {
    id: 'bar-wc-139',
    section: 'BAR',
    courseId: 'cpa',
    blueprintArea: 'BAR-IV',
    topicId: 'bar-cost',
    topic: 'Cost Accounting',
    subtopic: 'Flexible Budgets',
    difficulty: 'medium',
    skillLevel: 'Application',
    question: 'A flexible budget adjusts:',
    options: [
      'All costs for inflation',
      'Budgeted costs for actual activity level',
      'Actual costs to planned amounts',
      'Fixed costs for changes in capacity'
    ],
    correctAnswer: 1,
    explanation: 'Flexible budget: adjusts variable costs for actual volume while fixed costs remain unchanged. Enables meaningful variance analysis by comparing actual results to what "should have been" at actual volume.',
    reference: 'Flexible Budgeting',
  },
  {
    id: 'bar-wc-140',
    section: 'BAR',
    courseId: 'cpa',
    blueprintArea: 'BAR-I',
    topicId: 'bar-analysis',
    topic: 'Financial Statement Analysis',
    subtopic: 'Inventory Turnover',
    difficulty: 'easy',
    skillLevel: 'Remembering and Understanding',
    question: 'Inventory turnover is calculated as:',
    options: [
      'Net sales / Average inventory',
      'Cost of goods sold / Average inventory',
      'Average inventory / Cost of goods sold',
      'Net income / Total inventory'
    ],
    correctAnswer: 1,
    explanation: 'Inventory turnover = COGS / Average inventory. Use COGS (not sales) for consistency since inventory is at cost. Higher turnover indicates efficient inventory management. Days in inventory = 365 / turnover.',
    reference: 'Activity Ratios',
  },
  {
    id: 'bar-wc-141',
    section: 'BAR',
    courseId: 'cpa',
    blueprintArea: 'BAR-II',
    topicId: 'bar-valuation',
    topic: 'Valuation',
    subtopic: 'Discounted Cash Flow',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'Free cash flow to firm (FCFF) equals:',
    options: [
      'Net income only',
      'EBIT(1-tax) + Depreciation - CapEx - Change in NWC',
      'Operating cash flow + Interest paid',
      'Revenue - Operating expenses'
    ],
    correctAnswer: 1,
    explanation: 'FCFF = EBIT(1-t) + D&A - CapEx - ΔNWC. Cash available to all capital providers (debt and equity). Different from FCFE which is cash to equityholders only. Used with WACC for enterprise valuation.',
    reference: 'Free Cash Flow',
  },

  // ISC (4 questions)
  {
    id: 'isc-wc-119',
    section: 'ISC',
    courseId: 'cpa',
    blueprintArea: 'ISC-II',
    topicId: 'isc-security',
    topic: 'Security Controls',
    subtopic: 'PKI',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'In public key infrastructure, a certificate authority (CA) is responsible for:',
    options: [
      'Creating private keys for all users',
      'Issuing digital certificates that bind public keys to identities',
      'Encrypting all data transmissions',
      'Managing password policies'
    ],
    correctAnswer: 1,
    explanation: 'CA: trusted third party that issues digital certificates verifying identity-to-public-key binding. Components: CA (issues certs), RA (registration authority), CRL (revocation lists), certificate repository. Enables secure authentication.',
    reference: 'Public Key Infrastructure',
  },
  {
    id: 'isc-wc-120',
    section: 'ISC',
    courseId: 'cpa',
    blueprintArea: 'ISC-III',
    topicId: 'isc-systems',
    topic: 'Information Systems',
    subtopic: 'Data Lake',
    difficulty: 'medium',
    skillLevel: 'Application',
    question: 'A data lake differs from a data warehouse primarily because it:',
    options: [
      'Only stores structured data',
      'Stores raw data in native format without predefined schema',
      'Is smaller in capacity',
      'Only supports batch processing'
    ],
    correctAnswer: 1,
    explanation: 'Data lake: raw data storage in native format (structured, semi-structured, unstructured). Schema-on-read vs. warehouse schema-on-write. Supports diverse analytics; requires governance to avoid "data swamp."',
    reference: 'Data Architecture',
  },
  {
    id: 'isc-wc-121',
    section: 'ISC',
    courseId: 'cpa',
    blueprintArea: 'ISC-I',
    topicId: 'isc-governance',
    topic: 'IT Governance',
    subtopic: 'BCP vs DRP',
    difficulty: 'medium',
    skillLevel: 'Application',
    question: 'Business continuity planning differs from disaster recovery in that BCP:',
    options: [
      'Focuses only on IT systems',
      'Encompasses all business functions, not just IT recovery',
      'Is only for natural disasters',
      'Requires no testing'
    ],
    correctAnswer: 1,
    explanation: 'BCP: comprehensive plan for maintaining all critical business functions during disruption. DRP: subset focused specifically on IT system recovery. BCP includes people, processes, facilities; DRP focuses on technology restoration.',
    reference: 'Business Continuity',
  },
  {
    id: 'isc-wc-122',
    section: 'ISC',
    courseId: 'cpa',
    blueprintArea: 'ISC-IV',
    topicId: 'isc-audit',
    topic: 'IT Audit',
    subtopic: 'Embedded Audit Modules',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'Embedded audit modules are:',
    options: [
      'External audit software installed temporarily',
      'Continuous monitoring routines built into application systems',
      'Manual testing procedures',
      'Hardware devices attached to servers'
    ],
    correctAnswer: 1,
    explanation: 'EAMs: audit routines programmed into production applications. Continuously monitor transactions meeting specified criteria. Advantages: real-time, 100% coverage. Disadvantages: requires development coordination, maintenance.',
    reference: 'Continuous Auditing',
  },

  // TCP (4 questions)
  {
    id: 'tcp-wc-119',
    section: 'TCP',
    courseId: 'cpa',
    blueprintArea: 'TCP-I',
    topicId: 'tcp-individual',
    topic: 'Individual Tax Compliance',
    subtopic: 'Alimony',
    difficulty: 'medium',
    skillLevel: 'Application',
    question: 'For divorce agreements executed after 2018, alimony payments are:',
    options: [
      'Deductible by the payer and taxable to the recipient',
      'Not deductible by the payer and not taxable to the recipient',
      'Split equally between parties for tax purposes',
      'Reported as capital gains'
    ],
    correctAnswer: 1,
    explanation: 'TCJA eliminated alimony deduction for payer and income inclusion for recipient for agreements executed after December 31, 2018. Pre-2019 agreements follow old rules unless modified. Child support never deductible/taxable.',
    reference: 'TCJA; IRC Section 215 (repealed)',
  },
  {
    id: 'tcp-wc-120',
    section: 'TCP',
    courseId: 'cpa',
    blueprintArea: 'TCP-II',
    topicId: 'tcp-entity',
    topic: 'Entity Tax Compliance',
    subtopic: 'Consolidated Returns',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'To file a consolidated tax return, the parent corporation must own:',
    options: [
      'More than 50% of subsidiary stock',
      'At least 80% of voting power and value of subsidiary stock',
      'Any amount of preferred stock',
      '100% of all subsidiary stock'
    ],
    correctAnswer: 1,
    explanation: 'Consolidated return requires affiliated group: parent owns 80%+ of vote AND value of at least one subsidiary. Subsidiaries must meet same test. Benefits: offset income/losses, defer intercompany gains. Election is binding.',
    reference: 'IRC Section 1504',
  },
  {
    id: 'tcp-wc-121',
    section: 'TCP',
    courseId: 'cpa',
    blueprintArea: 'TCP-III',
    topicId: 'tcp-planning',
    topic: 'Tax Planning',
    subtopic: 'Installment Sales',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'The installment method cannot be used for:',
    options: [
      'Real property sales',
      'Sales of publicly traded securities',
      'Personal property sales over $10,000',
      'Sales to unrelated parties'
    ],
    correctAnswer: 1,
    explanation: 'Installment method unavailable for: publicly traded securities, inventory sales, dealer dispositions. Also limited for depreciation recapture (ordinary income recognized in year of sale). Available for most other deferred payment sales.',
    reference: 'IRC Section 453',
  },
  {
    id: 'tcp-wc-122',
    section: 'TCP',
    courseId: 'cpa',
    blueprintArea: 'TCP-IV',
    topicId: 'tcp-representation',
    topic: 'Tax Representation',
    subtopic: 'Innocent Spouse Relief',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'Innocent spouse relief under IRC Section 6015 requires demonstrating:',
    options: [
      'Only that the taxpayer filed jointly',
      'Lack of knowledge or reason to know of the understatement and inequity of holding liable',
      'That the other spouse committed fraud',
      'Filing an amended return within 30 days'
    ],
    correctAnswer: 1,
    explanation: 'Innocent spouse (§6015(b)): understatement due to erroneous item of other spouse, didn\'t know/have reason to know, inequitable to hold liable. Also separation of liability (§6015(c)) and equitable relief (§6015(f)) available.',
    reference: 'IRC Section 6015',
  },
];
