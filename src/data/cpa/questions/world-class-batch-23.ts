// World-Class Questions Batch 23 - Exam Quality MCQs
// 25 questions across all CPA exam sections

import { Question } from '../../../types';

export const WORLD_CLASS_BATCH_23: Question[] = [
  // FAR (4 questions)
  {
    id: 'far-wc-127',
    courseId: 'cpa',
    section: 'FAR',
    blueprintArea: 'FAR-II',
    topic: 'Property, Plant & Equipment',
    subtopic: 'Asset Retirement Obligations',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'Delta Corp. acquired a manufacturing plant with a legal obligation to dismantle it at the end of its 20-year useful life. The estimated future dismantling cost is $1.2 million, and the credit-adjusted risk-free rate is 6%. The present value of the ARO at inception is approximately $374,000. In Year 2, what is the accretion expense?',
    options: [
      '$22,440',
      '$23,746',
      '$72,000',
      '$60,000',
    ],
    correctAnswer: 1,
    explanation: 'An ARO is initially recorded at present value (ASC 410-20). Year 1 accretion = $374,000 × 6% = $22,440. The ARO balance at end of Year 1 = $374,000 + $22,440 = $396,440. Year 2 accretion = $396,440 × 6% = $23,786. The closest answer is $23,746 (slight rounding difference in the PV calculation). Accretion expense is recorded each period as a component of operating expense, increasing the ARO liability toward its settlement amount.',
    reference: 'ASC 410-20-25',
  },
  {
    id: 'far-wc-128',
    section: 'FAR',
    courseId: 'cpa',
    blueprintArea: 'FAR-I',
    topicId: 'far-comprehensive-income',
    topic: 'Comprehensive Income',
    subtopic: 'Components',
    difficulty: 'medium',
    skillLevel: 'Application',
    question: 'Other comprehensive income includes all EXCEPT:',
    options: [
      'Unrealized gains on available-for-sale securities',
      'Pension plan funded status adjustments',
      'Cash dividends declared',
      'Foreign currency translation adjustments',
    ],
    correctAnswer: 2,
    explanation: 'OCI components: foreign currency translation, unrealized gains/losses on AFS securities, pension/OPEB prior service and actuarial gains/losses, cash flow hedge gains/losses, certain credit risk changes. Dividends affect retained earnings, not OCI.',
    reference: 'ASC 220-10-45',
  },
  {
    id: 'far-wc-129',
    section: 'FAR',
    courseId: 'cpa',
    blueprintArea: 'FAR-IV',
    topicId: 'far-government',
    topic: 'Government Accounting',
    subtopic: 'Budgetary Comparison',
    difficulty: 'medium',
    skillLevel: 'Application',
    question: 'Budgetary comparison schedules are required for:',
    options: [
      'General fund and major special revenue funds with legally adopted budgets',
      'All funds including fiduciary',
      'Enterprise funds only',
      'All governmental funds',
    ],
    correctAnswer: 0,
    explanation: 'GASB requires budgetary comparison (original budget, final budget, actual) for general fund and major special revenue funds with legally adopted annual budgets. Can be statement (part of basic statements) or RSI schedule.',
    reference: 'GASB 34',
  },
  {
    id: 'far-wc-130',
    section: 'FAR',
    courseId: 'cpa',
    blueprintArea: 'FAR-III',
    topicId: 'far-interim',
    topic: 'Interim Reporting',
    subtopic: 'Integral Approach',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'Under the integral approach to interim reporting:',
    options: [
      'LIFO liquidations are ignored',
      'Each interim period is part of the annual period',
      'Annual estimates are prohibited',
      'Each interim period is a discrete period',
    ],
    correctAnswer: 1,
    explanation: 'Integral approach: interim period is part of annual period. Certain costs allocated (property taxes, bonuses). Use estimated annual ETR for income taxes. Some items (extraordinary, segment disposal) are discrete. Balance between integral and discrete.',
    reference: 'ASC 270-10-45',
  },

  // AUD (4 questions)
  {
    id: 'aud-wc-127',
    section: 'AUD',
    courseId: 'cpa',
    blueprintArea: 'AUD-I',
    topicId: 'aud-engagement',
    topic: 'Engagement Planning',
    subtopic: 'Overall Audit Strategy',
    difficulty: 'medium',
    skillLevel: 'Application',
    question: 'The overall audit strategy includes decisions about:',
    options: [
      'Tax reporting requirements',
      'Individual account balances only',
      'Detailed tests of transactions only',
      'Scope, timing, direction of the audit, and resources',
    ],
    correctAnswer: 3,
    explanation: 'Overall strategy sets: scope (reporting framework, locations, components), audit timing (interim vs. year-end), direction (risk focus areas, materiality levels), resources needed (team composition, specialists). Guides detailed audit plan.',
    reference: 'AU-C 300.07',
  },
  {
    id: 'aud-wc-128',
    courseId: 'cpa',
    section: 'AUD',
    blueprintArea: 'AUD-V',
    topic: 'Audit Reports',
    subtopic: 'Emphasis of Matter',
    difficulty: 'medium',
    skillLevel: 'Application',
    question: 'An auditor performs a walkthrough of the client\'s purchase-to-payment process and discovers that purchase orders are not required for amounts under $5,000. Management states this is intentional to reduce administrative burden. How should the auditor evaluate this?',
    options: [
    'Accept management\'s justification since $5,000 is immaterial',
    'Evaluate the risk — assess the volume and total dollar amount of sub-$5,000 purchases, consider whether the gap could lead to unauthorized purchases or misstatements in aggregate, and determine if compensating controls exist',
    'Report the finding as a material weakness',
    'Ignore the finding because walkthroughs are only for documenting the process',
    ],
    correctAnswer: 1,
    explanation: 'The auditor should evaluate the design of the control and its risk implications. Many small transactions without purchase orders could aggregate to material amounts and create opportunities for unauthorized purchases or fraud. The auditor should: (1) quantify the total volume, (2) assess compensating controls (approval limits, vendor lists, budget monitoring), (3) determine if the risk is adequately addressed, and (4) consider the implication for the control environment assessment.',
    reference: 'AU-C 706.06',
  },
  {
    id: 'aud-wc-129',
    courseId: 'cpa',
    section: 'AUD',
    blueprintArea: 'AUD-III',
    topic: 'Audit Procedures',
    subtopic: 'Related Parties',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'An auditor is auditing a company that sells extended warranties. Revenue from warranty contracts is recognized ratably over the warranty period. At year-end, 40% of a 3-year warranty period has elapsed. The company recorded 100% of the warranty revenue at the time of sale. What type of misstatement has occurred and which assertion is affected?',
    options: [
      'Overstatement of revenue affecting the existence assertion',
      'Overstatement of revenue and understatement of deferred revenue, affecting the cutoff and valuation assertions',
      'Understatement of warranty expense affecting the completeness assertion',
      'No misstatement — revenue recognition at point of sale is acceptable',
    ],
    correctAnswer: 1,
    explanation: 'Extended warranty revenue should be recognized ratably over the warranty period (per ASC 606 for performance obligations satisfied over time). If 40% of the period has elapsed, only 40% of revenue should be recognized, with 60% deferred. Recording 100% at sale overstates revenue and understates deferred (unearned) revenue, affecting both the cutoff assertion (revenue recognized in wrong period) and valuation (incorrect measurement).',
    reference: 'AU-C 550',
  },
  {
    id: 'aud-wc-130',
    section: 'AUD',
    courseId: 'cpa',
    blueprintArea: 'AUD-II',
    topicId: 'aud-it',
    topic: 'IT Considerations',
    subtopic: 'IT General Controls',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'IT general controls typically include:',
    options: [
      'Manual reconciliations only',
      'Edit checks and validation routines',
      'Sales transaction processing',
      'Program change controls, access controls, and computer operations',
    ],
    correctAnswer: 3,
    explanation: 'ITGCs: (1) Program development/change controls, (2) Access security, (3) Computer operations (job scheduling, backup), (4) Program and data controls. ITGCs support effectiveness of application controls. Pervasive across all applications.',
    reference: 'AU-C 315.A80',
  },

  // REG (4 questions)
  {
    id: 'reg-wc-127',
    courseId: 'cpa',
    section: 'REG',
    blueprintArea: 'REG-II',
    topic: 'Individual Taxation',
    subtopic: 'Gambling',
    difficulty: 'medium',
    skillLevel: 'Application',
    question: 'A professional poker player earned $95,000 in tournament winnings and $15,000 in cash game winnings during the year. The player documented $80,000 in gambling losses and $12,000 in travel expenses related to poker tournaments. How should this be reported?',
    options: [
      'Report $110,000 income on Schedule C; deduct $80,000 gambling losses and $12,000 business expenses on Schedule C',
      'Report $110,000 as other income; deduct $80,000 as an itemized deduction on Schedule A only',
      'Report $30,000 net gambling income on Schedule C',
      'Report $110,000 income; deduct only $80,000 losses with no business expense deduction',
    ],
    correctAnswer: 0,
    explanation: 'Professional gamblers who gamble as a trade or business under IRC §162 report winnings and losses on Schedule C. Gambling income of $110,000 is reported as gross receipts. Gambling losses of $80,000 and related business expenses of $12,000 (travel) are deductible on Schedule C, subject to the limitation that gambling losses may not exceed gambling income. Professional status allows deduction of business expenses that recreational gamblers cannot claim.',
    reference: 'IRC Section 165(d)',
  },
  {
    id: 'reg-wc-128',
    section: 'REG',
    courseId: 'cpa',
    blueprintArea: 'REG-III',
    topicId: 'reg-corporate',
    topic: 'Corporate Taxation',
    subtopic: 'Earnings and Profits',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'Earnings and profits (E&P) differ from taxable income because E&P:',
    options: [
      'Adjusts for items like depreciation differences and tax-exempt income',
      'Is not affected by distributions',
      'Is always lower than taxable income',
      'Always equals net income under GAAP',
    ],
    correctAnswer: 0,
    explanation: 'E&P adjustments from taxable income: add back exempt income, reduce by federal taxes paid, adjust depreciation to ADS, disallow certain deductions (dividends received deduction, NOL). E&P determines dividend treatment of distributions.',
    reference: 'IRC Section 312',
  },
  {
    id: 'reg-wc-129',
    section: 'REG',
    courseId: 'cpa',
    blueprintArea: 'REG-I',
    topicId: 'reg-business-law',
    topic: 'Business Law',
    subtopic: 'Employment Law',
    difficulty: 'medium',
    skillLevel: 'Application',
    question: 'The Fair Labor Standards Act requires:',
    options: [
      'Unlimited paid time off',
      'Minimum wage and overtime pay for non-exempt employees',
      'Employer-provided health insurance',
      'That all employees receive a salary',
    ],
    correctAnswer: 1,
    explanation: 'FLSA: minimum wage ($7.25 federal), overtime (1.5× regular rate for hours over 40/week), child labor restrictions, recordkeeping. Exempt employees (executive, administrative, professional) need not receive overtime.',
    reference: 'Fair Labor Standards Act',
  },
  {
    id: 'reg-wc-130',
    section: 'REG',
    courseId: 'cpa',
    blueprintArea: 'REG-IV',
    topicId: 'reg-property',
    topic: 'Property Transactions',
    subtopic: 'Involuntary Conversions',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'Under Section 1033, gain from involuntary conversion is deferred if:',
    options: [
      'Similar or related-use property is acquired within the replacement period',
      'Insurance proceeds are received',
      'The taxpayer elects recognition',
      'Any property is purchased with the proceeds',
    ],
    correctAnswer: 0,
    explanation: 'Section 1033: defer gain by acquiring qualifying replacement property (similar use for personal, like-kind for business) within replacement period (2 years, 3 for condemned real property). Basis in new property reduced by deferred gain.',
    reference: 'IRC Section 1033',
  },

  // BAR (5 questions)
  {
    id: 'bar-wc-147',
    section: 'BAR',
    courseId: 'cpa',
    blueprintArea: 'BAR-II',
    topicId: 'bar-valuation',
    topic: 'Valuation',
    subtopic: 'Gordon Growth Model',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'The Gordon Growth Model values equity as:',
    options: [
      'Earnings × P/E ratio',
      'Next period dividend / (Required return - Growth rate)',
      'Last year dividend × Growth rate',
      'Book value + Goodwill',
    ],
    correctAnswer: 1,
    explanation: 'Gordon Growth: V = D1 / (r - g). Assumes constant perpetual growth. D1 = next period dividend, r = required return, g = growth rate. Requires r > g. Simple but sensitive to growth assumption; useful for stable dividend payers.',
    reference: 'Dividend Discount Model',
  },
  {
    id: 'bar-wc-148',
    section: 'BAR',
    courseId: 'cpa',
    blueprintArea: 'BAR-III',
    topicId: 'bar-technical',
    topic: 'Technical Accounting',
    subtopic: 'Pushdown Accounting',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'Pushdown accounting results in:',
    options: [
      'The acquired company recording assets at the acquirer\'s cost basis',
      'No changes to the acquired company\'s books',
      'The acquired company reflecting the acquirer\'s fair value adjustments in its own books',
      'Elimination of all goodwill',
    ],
    correctAnswer: 2,
    explanation: 'Pushdown: acquired entity "pushes down" acquisition accounting to its separate statements - records assets/liabilities at FV determined in acquisition, recognizes goodwill. Optional under ASC 805-50. Creates fresh-start accounting.',
    reference: 'ASC 805-50',
  },
  {
    id: 'bar-wc-149',
    section: 'BAR',
    courseId: 'cpa',
    blueprintArea: 'BAR-IV',
    topicId: 'bar-cost',
    topic: 'Cost Accounting',
    subtopic: 'Throughput Accounting',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'Throughput accounting focuses on:',
    options: [
      'Detailed variance analysis',
      'Allocating all costs to products',
      'Maximizing throughput while minimizing operating expenses and inventory',
      'Historical cost tracking',
    ],
    correctAnswer: 2,
    explanation: 'Throughput accounting (Theory of Constraints): maximize throughput (sales - direct materials), minimize operating expenses and inventory investment. Focus on bottleneck constraints. Alternative to traditional absorption costing.',
    reference: 'Throughput Accounting',
  },
  {
    id: 'bar-wc-150',
    section: 'BAR',
    courseId: 'cpa',
    blueprintArea: 'BAR-I',
    topicId: 'bar-analysis',
    topic: 'Financial Statement Analysis',
    subtopic: 'Free Cash Flow',
    difficulty: 'medium',
    skillLevel: 'Application',
    question: 'Free cash flow to equity (FCFE) represents:',
    options: [
      'Operating cash flow only',
      'Cash available to all capital providers',
      'Cash available to equityholders after debt obligations',
      'Net income plus depreciation',
    ],
    correctAnswer: 2,
    explanation: 'FCFE = FCFF - Interest(1-t) + Net borrowing. Or: Operating CF - CapEx - Debt repayments + New debt. Cash available to equity holders for dividends or reinvestment. Discounted at cost of equity for equity value.',
    reference: 'Free Cash Flow',
  },
  {
    id: 'bar-wc-151',
    section: 'BAR',
    courseId: 'cpa',
    blueprintArea: 'BAR-II',
    topicId: 'bar-valuation',
    topic: 'Valuation',
    subtopic: 'Precedent Transactions',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'Precedent transaction analysis uses:',
    options: [
      'Current trading multiples of comparable companies',
      'Discounted cash flow projections',
      'Acquisition multiples from completed M&A transactions',
      'Book value only',
    ],
    correctAnswer: 2,
    explanation: 'Precedent transactions: uses multiples paid in completed acquisitions of similar companies. Includes control premiums paid. Complements comparable company analysis (trading multiples) and DCF for triangulation.',
    reference: 'Valuation Methods',
  },

  // ISC (4 questions)
  {
    id: 'isc-wc-127',
    section: 'ISC',
    courseId: 'cpa',
    blueprintArea: 'ISC-II',
    topicId: 'isc-security',
    topic: 'Security Controls',
    subtopic: 'DDoS',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'A Distributed Denial of Service (DDoS) attack:',
    options: [
      'Overwhelms systems with traffic from multiple sources to disrupt availability',
      'Modifies application code',
      'Installs malware on individual computers',
      'Steals data from databases',
    ],
    correctAnswer: 0,
    explanation: 'DDoS: floods target with traffic from many compromised systems (botnet), overwhelming capacity and denying service to legitimate users. Mitigation: CDNs, traffic filtering, rate limiting, cloud-based DDoS protection services.',
    reference: 'Cyber Attacks',
  },
  {
    id: 'isc-wc-128',
    section: 'ISC',
    courseId: 'cpa',
    blueprintArea: 'ISC-III',
    topicId: 'isc-systems',
    topic: 'Information Systems',
    subtopic: 'Blockchain',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'A blockchain provides data integrity through:',
    options: [
      'Cryptographic hashing and distributed consensus',
      'Periodic manual verification',
      'Single administrator control',
      'Centralized database management',
    ],
    correctAnswer: 0,
    explanation: 'Blockchain: distributed ledger with blocks containing cryptographic hash of previous block. Changes invalidate the chain. Consensus mechanisms (proof of work, stake) validate transactions. Immutable, transparent, decentralized.',
    reference: 'Blockchain Technology',
  },
  {
    id: 'isc-wc-129',
    section: 'ISC',
    courseId: 'cpa',
    blueprintArea: 'ISC-I',
    topicId: 'isc-governance',
    topic: 'IT Governance',
    subtopic: 'SDLC',
    difficulty: 'medium',
    skillLevel: 'Application',
    question: 'The system development life cycle (SDLC) phases typically include:',
    options: [
      'Hardware installation only',
      'Budget, forecast, and audit only',
      'Marketing and sales',
      'Planning, analysis, design, implementation, and maintenance',
    ],
    correctAnswer: 3,
    explanation: 'SDLC phases: (1) Planning/Feasibility, (2) Requirements/Analysis, (3) Design, (4) Development/Implementation, (5) Testing, (6) Deployment, (7) Maintenance. Methodologies: waterfall, agile, spiral. Controls at each phase.',
    reference: 'SDLC',
  },
  {
    id: 'isc-wc-130',
    section: 'ISC',
    courseId: 'cpa',
    blueprintArea: 'ISC-IV',
    topicId: 'isc-audit',
    topic: 'IT Audit',
    subtopic: 'Test Data Method',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'The test data method of IT auditing:',
    options: [
      'Processes fictitious transactions through production programs to test controls',
      'Interviews all programmers',
      'Only tests hardware components',
      'Reviews source code manually',
    ],
    correctAnswer: 0,
    explanation: 'Test data: auditor creates fictitious valid and invalid transactions to test program logic and controls. Run through production programs. Must ensure test data doesn\'t contaminate production files. Alternative to code review.',
    reference: 'IT Audit Techniques',
  },

  // TCP (4 questions)
  {
    id: 'tcp-wc-127',
    section: 'TCP',
    courseId: 'cpa',
    blueprintArea: 'TCP-I',
    topicId: 'tcp-individual',
    topic: 'Individual Tax Compliance',
    subtopic: 'Foreign Tax Credit',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'The foreign tax credit is:',
    options: [
      'Only available to corporations',
      'Unlimited in amount',
      'Always a deduction',
      'A dollar-for-dollar credit limited by taxable income from foreign sources',
    ],
    correctAnswer: 3,
    explanation: 'FTC is a credit (not deduction) for foreign taxes paid on foreign-source income. Limited to US tax on foreign-source income. Excess credits carry back 1 year, forward 10 years. Election between credit and deduction annually.',
    reference: 'IRC Section 901',
  },
  {
    id: 'tcp-wc-128',
    section: 'TCP',
    courseId: 'cpa',
    blueprintArea: 'TCP-II',
    topicId: 'tcp-entity',
    topic: 'Entity Tax Compliance',
    subtopic: 'Personal Holding Company',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'A personal holding company tax applies when:',
    options: [
      'The corporation is publicly traded',
      'The company has significant real estate holdings',
      'Any corporation has investment income',
      'Five or fewer individuals own more than 50% and 60%+ of income is passive',
    ],
    correctAnswer: 3,
    explanation: 'PHC tax: additional 20% tax on undistributed PHC income when: (1) stock ownership test (>50% owned by 5 or fewer), AND (2) income test (60%+ is PHC income - dividends, interest, rents, royalties). Encourages dividend payment.',
    reference: 'IRC Section 541',
  },
  {
    id: 'tcp-wc-129',
    section: 'TCP',
    courseId: 'cpa',
    blueprintArea: 'TCP-III',
    topicId: 'tcp-planning',
    topic: 'Tax Planning',
    subtopic: 'Net Operating Losses',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'Under current law (post-TCJA), net operating losses can:',
    options: [
      'Offset 100% of income with no time limitation',
      'Be carried back 2 years and forward 20 years',
      'Be carried back 5 years',
      'Only be carried forward indefinitely, limited to 80% of taxable income',
    ],
    correctAnswer: 3,
    explanation: 'Post-TCJA NOL rules: no carryback (except farming/insurance), indefinite carryforward, limited to 80% of taxable income. CARES Act provided temporary relief (2018-2020 losses: 5-year carryback, no 80% limit) but standard rules resumed.',
    reference: 'IRC Section 172',
  },
  {
    id: 'tcp-wc-130',
    section: 'TCP',
    courseId: 'cpa',
    blueprintArea: 'TCP-IV',
    topicId: 'tcp-representation',
    topic: 'Tax Representation',
    subtopic: 'Enrolled Agent',
    difficulty: 'medium',
    skillLevel: 'Application',
    question: 'An Enrolled Agent is authorized to:',
    options: [
      'Practice only in one state',
      'Only handle audits, not appeals',
      'Only prepare tax returns',
      'Represent taxpayers before all administrative levels of the IRS',
    ],
    correctAnswer: 3,
    explanation: 'EA: federally-licensed tax practitioner with unlimited representation rights before IRS (examinations, appeals, collections). Earned by passing SEE or IRS experience. National license - no state limitation. Subject to Circular 230.',
    reference: 'Circular 230',
  },
];
