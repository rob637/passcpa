// World-Class Questions Batch 25 - Exam Quality MCQs
// 25 questions across all CPA exam sections

import { Question } from '../../../types';

export const WORLD_CLASS_BATCH_25: Question[] = [
  // FAR (4 questions)
  {
    id: 'far-wc-135',
    section: 'FAR',
    courseId: 'cpa',
    blueprintArea: 'FAR-II',
    topicId: 'far-deferred-tax',
    topic: 'Deferred Taxes',
    subtopic: 'Valuation Allowance',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'A valuation allowance is recorded for deferred tax assets when:',
    options: [
      'The company is profitable',
      'It is more likely than not that some or all of the DTA will not be realized',
      'Management elects to record it',
      'Deferred tax liabilities exist',
    ],
    correctAnswer: 1,
    explanation: 'ASC 740: valuation allowance if >50% likely DTA won\'t be realized. Consider: future reversals of DTLs, future taxable income, tax planning strategies, carryback potential. Negative evidence: cumulative losses, history of expiring carryforwards.',
    reference: 'ASC 740-10-30',
  },
  {
    id: 'far-wc-136',
    courseId: 'cpa',
    section: 'FAR',
    blueprintArea: 'FAR-I',
    topic: 'Balance Sheet',
    subtopic: 'Current vs Noncurrent',
    difficulty: 'medium',
    skillLevel: 'Application',
    question: 'Harrison Corp. has a 5-year note payable with a principal balance of $2 million that contains a subjective acceleration clause allowing the lender to demand repayment. As of the balance sheet date, the lender has not indicated any intent to exercise the clause. How should the note be classified?',
    options: [
      'Current liability because the lender could demand payment at any time',
      'Noncurrent liability because the lender has not accelerated the debt',
      'Split between current and noncurrent based on scheduled payments',
      'Removed from the balance sheet and disclosed in notes only',
    ],
    correctAnswer: 1,
    explanation: 'Under ASC 470-10-45, a long-term obligation with a subjective acceleration clause is classified as noncurrent unless the lender has actually accelerated the obligation or it is probable the clause will be exercised. An objective acceleration clause (e.g., violation of a debt covenant ratio) that has been triggered would require current classification. Since the lender has not indicated intent to exercise, the debt remains noncurrent.',
    reference: 'ASC 470-10-45',
  },
  {
    id: 'far-wc-137',
    section: 'FAR',
    courseId: 'cpa',
    blueprintArea: 'FAR-III',
    topicId: 'far-foreign',
    topic: 'Foreign Operations',
    subtopic: 'Translation vs Remeasurement',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'Foreign currency translation (vs remeasurement) applies when:',
    options: [
      'The functional currency is the local currency',
      'There are no intercompany transactions',
      'The subsidiary operates in a highly inflationary economy',
      'The functional currency is the US dollar',
    ],
    correctAnswer: 0,
    explanation: 'Translation: functional currency ≠ reporting currency, use current rate method, CTA to OCI. Remeasurement: functional currency = reporting currency (or highly inflationary), use temporal method, gains/losses to income statement.',
    reference: 'ASC 830-10-45',
  },
  {
    id: 'far-wc-138',
    section: 'FAR',
    courseId: 'cpa',
    blueprintArea: 'FAR-IV',
    topicId: 'far-government',
    topic: 'Government Accounting',
    subtopic: 'Derived Tax Revenues',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'Derived tax revenues (e.g., sales taxes) are recognized when:',
    options: [
      'The next fiscal year begins',
      'The underlying exchange transaction occurs and resources are available',
      'Budgeted amounts are approved',
      'Cash is received',
    ],
    correctAnswer: 1,
    explanation: 'GASB 33: derived tax revenues recognized when underlying exchange occurs (sale made, income earned) AND available for recognition (collected or expected within availability period). Uses modified accrual for recognition timing.',
    reference: 'GASB 33',
  },

  // AUD (4 questions)
  {
    id: 'aud-wc-135',
    section: 'AUD',
    courseId: 'cpa',
    blueprintArea: 'AUD-I',
    topicId: 'aud-ethics',
    topic: 'Ethics',
    subtopic: 'Threats and Safeguards',
    difficulty: 'medium',
    skillLevel: 'Application',
    question: 'The conceptual framework approach to independence requires:',
    options: [
      'Annual independence certifications only',
      'Obtaining client approval for all decisions',
      'Following specific rules without exception',
      'Identifying threats, evaluating significance, and applying safeguards',
    ],
    correctAnswer: 3,
    explanation: 'Conceptual framework: (1) identify threats (self-interest, self-review, advocacy, familiarity, undue influence), (2) evaluate significance, (3) apply safeguards to reduce to acceptable level or decline engagement. Complements specific rules.',
    reference: 'AICPA Code ET 1.200',
  },
  {
    id: 'aud-wc-136',
    section: 'AUD',
    courseId: 'cpa',
    blueprintArea: 'AUD-III',
    topicId: 'aud-evidence',
    topic: 'Audit Evidence',
    subtopic: 'Audit Evidence Quality',
    difficulty: 'medium',
    skillLevel: 'Application',
    question: 'The relevance of audit evidence refers to:',
    options: [
      'The cost of obtaining the evidence',
      'The timing of evidence gathering',
      'The amount of evidence obtained',
      'The logical connection between the evidence and the assertion being tested',
    ],
    correctAnswer: 3,
    explanation: 'Relevance: evidence addresses the targeted assertion. Reliability: source, nature, circumstances under which obtained. Sufficiency: quantity. Together determine "sufficient appropriate audit evidence." Quality > quantity.',
    reference: 'AU-C 500.06',
  },
  {
    id: 'aud-wc-137',
    section: 'AUD',
    courseId: 'cpa',
    blueprintArea: 'AUD-V',
    topicId: 'aud-reports',
    topic: 'Audit Reports',
    subtopic: 'ICFR Opinion',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'An integrated audit of a public company requires:',
    options: [
      'Only an opinion on the financial statements',
      'A review report only',
      'Compilation with ICFR testing',
      'Separate opinions on financial statements and internal control over financial reporting',
    ],
    correctAnswer: 3,
    explanation: 'PCAOB AS 2201: integrated audit provides two opinions: (1) fair presentation of financial statements, (2) effectiveness of ICFR. Material weakness requires adverse ICFR opinion. Combined or separate reports allowed.',
    reference: 'AS 2201',
  },
  {
    id: 'aud-wc-138',
    section: 'AUD',
    courseId: 'cpa',
    blueprintArea: 'AUD-II',
    topicId: 'aud-risk',
    topic: 'Risk Assessment',
    subtopic: 'Significant Risks',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'A significant risk is an identified risk that:',
    options: [
      'Has an immaterial potential effect',
      'Is always related to fraud',
      'Can be eliminated through internal controls',
      'Requires special audit consideration due to nature or magnitude',
    ],
    correctAnswer: 3,
    explanation: 'Significant risks: risks requiring special audit consideration due to nature (e.g., fraud, related parties, unusual transactions), complexity, magnitude, or management judgment involved. Require substantive procedures testing directly.',
    reference: 'AU-C 315.28',
  },

  // REG (4 questions)
  {
    id: 'reg-wc-135',
    courseId: 'cpa',
    section: 'REG',
    blueprintArea: 'REG-II',
    topic: 'Individual Taxation',
    subtopic: 'Basis of Inherited Property',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'A taxpayer purchased stock in 2010 for $25,000. The taxpayer gifted the stock to their child in 2024 when the FMV was $18,000. The child later sells the stock for $21,000. What is the child\'s recognized gain or loss?',
    options: [
      '$0 — no gain or loss because the sale price falls between the donor\'s basis and the FMV at gift',
      '$3,000 gain using FMV at gift as basis',
      '$4,000 loss using the donor\'s basis',
      '$21,000 gain using a $0 basis',
    ],
    correctAnswer: 0,
    explanation: 'When gifted property has a FMV lower than the donor\'s basis at the time of gift, a dual-basis rule applies. For gains: use the donor\'s basis ($25,000). For losses: use FMV at gift ($18,000). If the sale price falls between these two amounts (as $21,000 does), neither gain nor loss is recognized. The $21,000 sale price is less than the donor\'s basis ($25,000) so no gain, and more than FMV at gift ($18,000) so no loss.',
    reference: 'IRC Section 1014',
  },
  {
    id: 'reg-wc-136',
    section: 'REG',
    courseId: 'cpa',
    blueprintArea: 'REG-III',
    topicId: 'reg-corporate',
    topic: 'Corporate Taxation',
    subtopic: 'PHC Income',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'Personal holding company income includes all EXCEPT:',
    options: [
      'Active business income from manufacturing',
      'Rent (unless meeting 50% test)',
      'Interest income',
      'Dividends received',
    ],
    correctAnswer: 0,
    explanation: 'PHC income: dividends, interest, certain rents, royalties, personal service contracts, estates/trusts distributions. Active business operating income excluded. Rent included unless ≥50% of ordinary gross income with certain conditions.',
    reference: 'IRC Section 543',
  },
  {
    id: 'reg-wc-137',
    section: 'REG',
    courseId: 'cpa',
    blueprintArea: 'REG-I',
    topicId: 'reg-business-law',
    topic: 'Business Law',
    subtopic: 'Suretyship',
    difficulty: 'medium',
    skillLevel: 'Application',
    question: 'A surety is primarily liable for the debt, while a guarantor is:',
    options: [
      'Liable only for interest',
      'Secondarily liable, requiring the creditor to exhaust remedies against the debtor first',
      'Never liable',
      'Also primarily liable',
    ],
    correctAnswer: 1,
    explanation: 'Surety: primarily liable alongside principal, creditor can proceed directly. Guarantor (of collection): secondarily liable, creditor must first attempt collection from debtor. Distinction matters for enforcement order.',
    reference: 'Suretyship Law',
  },
  {
    id: 'reg-wc-138',
    section: 'REG',
    courseId: 'cpa',
    blueprintArea: 'REG-IV',
    topicId: 'reg-property',
    topic: 'Property Transactions',
    subtopic: 'Qualified Small Business Stock',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'Section 1202 qualified small business stock exclusion allows:',
    options: [
      'Deferral until sale of replacement stock',
      'Exclusion of 100% of gain on stock held more than 5 years (for stock acquired after 9/27/2010)',
      'Capital gain treatment only',
      'Exclusion of 50% of gain',
    ],
    correctAnswer: 1,
    explanation: 'QSBS Section 1202: 100% gain exclusion for stock acquired after 9/27/2010 and held 5+ years. Limits per issuer. Requirements: original issuance, C corp, active business, <$50M assets. Significant startup tax incentive.',
    reference: 'IRC Section 1202',
  },

  // BAR (5 questions)
  {
    id: 'bar-wc-157',
    section: 'BAR',
    courseId: 'cpa',
    blueprintArea: 'BAR-II',
    topicId: 'bar-valuation',
    topic: 'Valuation',
    subtopic: 'Minority Discount',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'A minority interest discount reflects:',
    options: [
      'Liquidity premium',
      'The premium for controlling shareholders',
      'Reduced value due to lack of control over company decisions',
      'Synergy value',
    ],
    correctAnswer: 2,
    explanation: 'Minority discount: reduces value for non-controlling interests that cannot influence dividends, management, or strategy. Often combined with lack of marketability discount for private company minority interests. Ranges typically 20-35%.',
    reference: 'Business Valuation',
  },
  {
    id: 'bar-wc-158',
    section: 'BAR',
    courseId: 'cpa',
    blueprintArea: 'BAR-III',
    topicId: 'bar-technical',
    topic: 'Technical Accounting',
    subtopic: 'ASC 842 Lease Modification',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'Solis Corp. (lessee) has a 5-year operating lease. In Year 3, the lease is modified to extend by 2 additional years with an increase in annual payments from $100,000 to $115,000. The discount rate at modification is 7%. How is the modification accounted for?',
    options: [
      'As a separate contract with a new ROU asset',
      'By remeasuring the lease liability using the remaining payments at the new discount rate and adjusting the ROU asset',
      'By keeping the original lease terms and recognizing a gain or loss',
      'By expensing the increased payments as incurred',
    ],
    correctAnswer: 1,
    explanation: 'Under ASC 842-20-25-8, a lease modification that does not grant an additional ROU not in the original lease is not treated as a separate contract. The lessee remeasures the lease liability using the revised payments and a revised discount rate at modification date. The ROU asset is adjusted by the same amount as the change in the lease liability.',
    reference: 'ASC 842-10-25-8',
  },
  {
    id: 'bar-wc-159',
    section: 'BAR',
    courseId: 'cpa',
    blueprintArea: 'BAR-IV',
    topicId: 'bar-cost',
    topic: 'Cost Accounting',
    subtopic: 'Standard Cost Variances',
    difficulty: 'medium',
    skillLevel: 'Application',
    question: 'A favorable direct labor efficiency variance indicates:',
    options: [
      'Actual hours exceeded standard hours allowed',
      'Actual wage rate exceeded standard',
      'Actual hours were less than standard hours allowed for actual production',
      'Production volume was lower than expected',
    ],
    correctAnswer: 2,
    explanation: 'Labor efficiency variance = (Standard hours allowed - Actual hours) × Standard rate. Favorable when actual hours < standard hours (worked faster than expected). Caused by: skilled workers, better supervision, efficient processes.',
    reference: 'Variance Analysis',
  },
  {
    id: 'bar-wc-160',
    section: 'BAR',
    courseId: 'cpa',
    blueprintArea: 'BAR-I',
    topicId: 'bar-analysis',
    topic: 'Financial Statement Analysis',
    subtopic: 'Interest Coverage',
    difficulty: 'medium',
    skillLevel: 'Application',
    question: 'Company A has EBIT of $1.2M and interest expense of $300K. Company B has EBIT of $800K and interest expense of $100K. Which company has better debt service capacity and why?',
    options: [
      'Company A, because it has higher absolute EBIT',
      'Company B, because its TIE of 8.0x exceeds Company A\'s TIE of 4.0x',
      'Company A, because it pays more interest indicating larger operations',
      'Both are equal because higher EBIT offsets higher interest for Company A',
    ],
    correctAnswer: 1,
    explanation: 'Company A TIE = $1.2M / $300K = 4.0x. Company B TIE = $800K / $100K = 8.0x. Company B has better debt service capacity because it earns 8 times its interest obligations versus Company A\'s 4 times. Absolute EBIT is less relevant than the ratio of EBIT to interest when assessing debt service capacity.',
    reference: 'Coverage Ratio Analysis',
  },
  {
    id: 'bar-wc-161',
    section: 'BAR',
    courseId: 'cpa',
    blueprintArea: 'BAR-II',
    topicId: 'bar-valuation',
    topic: 'Valuation',
    subtopic: 'Asset-Based Valuation',
    difficulty: 'medium',
    skillLevel: 'Application',
    question: 'Asset-based valuation is most appropriate for:',
    options: [
      'Holding companies, investment companies, or liquidation scenarios',
      'High-growth technology companies',
      'Service businesses with minimal assets',
      'Start-ups with no revenue',
    ],
    correctAnswer: 0,
    explanation: 'Asset-based approach: value based on net assets (assets - liabilities at FMV). Best for: holding companies, asset-intensive businesses, liquidation scenarios, real estate companies. Less useful for going-concern operating businesses.',
    reference: 'Valuation Approaches',
  },

  // ISC (4 questions)
  {
    id: 'isc-wc-135',
    section: 'ISC',
    courseId: 'cpa',
    blueprintArea: 'ISC-I',
    topicId: 'isc-governance',
    topic: 'IT Governance',
    subtopic: 'NIST Framework',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'The NIST Cybersecurity Framework core functions are:',
    options: [
      'Identify, Protect, Detect, Respond, Recover',
      'Input, Process, Output, Storage',
      'Control, Audit, Report',
      'Plan, Build, Run, Monitor',
    ],
    correctAnswer: 0,
    explanation: 'NIST CSF: (1) Identify - assets, risks, (2) Protect - safeguards, (3) Detect - monitoring, (4) Respond - incident response, (5) Recover - restoration. Widely adopted framework for managing cybersecurity risk.',
    reference: 'NIST Cybersecurity Framework',
  },
  {
    id: 'isc-wc-136',
    section: 'ISC',
    courseId: 'cpa',
    blueprintArea: 'ISC-II',
    topicId: 'isc-security',
    topic: 'Security Controls',
    subtopic: 'Tokenization',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'Tokenization differs from encryption in that:',
    options: [
      'It requires no secure storage',
      'It replaces sensitive data with non-sensitive tokens with no mathematical relationship',
      'It only works for credit card numbers',
      'It is less secure than encryption',
    ],
    correctAnswer: 1,
    explanation: 'Tokenization: substitutes sensitive data with random token (no mathematical relationship). Token database maps tokens to real values. Unlike encryption, cannot be reversed without token database. Popular for PCI compliance (payment data).',
    reference: 'Data Protection',
  },
  {
    id: 'isc-wc-137',
    section: 'ISC',
    courseId: 'cpa',
    blueprintArea: 'ISC-III',
    topicId: 'isc-systems',
    topic: 'Information Systems',
    subtopic: 'API Security',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'Key API security concerns include:',
    options: [
      'Email encryption',
      'Authentication, authorization, rate limiting, and input validation',
      'Desktop antivirus only',
      'Physical access to servers only',
    ],
    correctAnswer: 1,
    explanation: 'API security: authentication (API keys, OAuth), authorization (proper access control), rate limiting (prevent abuse), input validation (prevent injection), encryption (TLS), logging/monitoring. APIs are major attack vector.',
    reference: 'API Security',
  },
  {
    id: 'isc-wc-138',
    section: 'ISC',
    courseId: 'cpa',
    blueprintArea: 'ISC-IV',
    topicId: 'isc-audit',
    topic: 'IT Audit',
    subtopic: 'ITGCs Testing',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'When testing IT general controls, auditors should:',
    options: [
      'Test design and operating effectiveness of controls over program changes, access, and operations',
      'Test application controls first',
      'Skip testing if the company is mature',
      'Only review documentation',
    ],
    correctAnswer: 0,
    explanation: 'ITGC testing: evaluate design (control exists and is adequate if operating) and operating effectiveness (control operated as designed consistently). Key areas: change management, access security, computer operations, program development.',
    reference: 'ITGC Audit',
  },

  // TCP (4 questions)
  {
    id: 'tcp-wc-135',
    section: 'TCP',
    courseId: 'cpa',
    blueprintArea: 'TCP-I',
    topicId: 'tcp-individual',
    topic: 'Individual Tax Compliance',
    subtopic: 'Nanny Tax',
    difficulty: 'medium',
    skillLevel: 'Application',
    question: 'Household employment taxes (Nanny Tax) apply when cash wages paid to a household employee exceed:',
    options: [
      '$600 in a year',
      '$10,000 in a year',
      'Any amount',
      '$2,700 in a year (2024 threshold)',
    ],
    correctAnswer: 3,
    explanation: 'Household employers must pay Social Security/Medicare if wages ≥ $2,700 (2024). Reported on Schedule H with Form 1040. Also FUTA if ≥ $1,000 any quarter. Quarterly payments if withholding not done throughout year.',
    reference: 'IRS Publication 926',
  },
  {
    id: 'tcp-wc-136',
    section: 'TCP',
    courseId: 'cpa',
    blueprintArea: 'TCP-II',
    topicId: 'tcp-entity',
    topic: 'Entity Tax Compliance',
    subtopic: 'GILTI',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'Global Intangible Low-Taxed Income (GILTI) requires US shareholders of CFCs to:',
    options: [
      'Report only dividends received',
      'Pay no US tax on foreign income',
      'Defer income until repatriation',
      'Include certain foreign income currently regardless of distribution',
    ],
    correctAnswer: 3,
    explanation: 'TCJA GILTI: US shareholders (≥10%) include CFC excess returns (above 10% return on depreciated tangible assets) currently. Minimum tax on foreign income to discourage base erosion. Section 250 deduction may reduce effective rate.',
    reference: 'IRC Section 951A',
  },
  {
    id: 'tcp-wc-137',
    section: 'TCP',
    courseId: 'cpa',
    blueprintArea: 'TCP-III',
    topicId: 'tcp-planning',
    topic: 'Tax Planning',
    subtopic: 'Cost Segregation',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'Cost segregation studies benefit taxpayers by:',
    options: [
      'Creating tax credits',
      'Converting ordinary income to capital gains',
      'Eliminating depreciation entirely',
      'Accelerating depreciation by reclassifying building components to shorter-lived property',
    ],
    correctAnswer: 3,
    explanation: 'Cost segregation: engineering study reclassifying building components (electrical, plumbing, fixtures) from 39-year to 5/7/15-year property. Accelerates depreciation, enhances cash flow. Beneficial with bonus depreciation.',
    reference: 'Cost Segregation',
  },
  {
    id: 'tcp-wc-138',
    section: 'TCP',
    courseId: 'cpa',
    blueprintArea: 'TCP-IV',
    topicId: 'tcp-representation',
    topic: 'Tax Representation',
    subtopic: 'IRS Audit Selection',
    difficulty: 'medium',
    skillLevel: 'Application',
    question: 'The IRS selects returns for audit based on:',
    options: [
      'Random selection only',
      'Taxpayer requests',
      'Political party affiliation',
      'DIF scores, information matching, related examinations, and compliance initiatives',
    ],
    correctAnswer: 3,
    explanation: 'Audit selection: DIF (Discriminant Function) scores, information document matching (W-2, 1099), related audits (pass-through entities, partners), compliance initiatives (specific industries/issues), random selection (for NRP studies).',
    reference: 'IRS Audit Process',
  },
];
