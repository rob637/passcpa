// World-Class Questions Batch 26 - Exam Quality MCQs
// 25 questions across all CPA exam sections

import { Question } from '../../../types';

export const WORLD_CLASS_BATCH_26: Question[] = [
  // FAR (4 questions)
  {
    id: 'far-wc-139',
    section: 'FAR',
    courseId: 'cpa',
    blueprintArea: 'FAR-II',
    topicId: 'far-stock-comp',
    topic: 'Stock Compensation',
    subtopic: 'RSU Accounting',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'Restricted stock units (RSUs) are measured at grant-date fair value and recognized:',
    options: [
      'At intrinsic value',
      'Only when vested',
      'Over the requisite service period with forfeitures adjusted as they occur',
      'Immediately at grant',
    ],
    correctAnswer: 2,
    explanation: 'ASC 718: RSUs measured at grant-date fair value, recognized over service period. Can estimate forfeitures or recognize as they occur. Liability-classified if settled in cash; equity-classified if settled in shares.',
    reference: 'ASC 718-10-35',
  },
  {
    id: 'far-wc-140',
    section: 'FAR',
    courseId: 'cpa',
    blueprintArea: 'FAR-III',
    topicId: 'far-consolidation',
    topic: 'Consolidation',
    subtopic: 'Variable Interest Entities',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'An entity is a variable interest entity (VIE) if:',
    options: [
      'Equity at risk is insufficient to finance activities or equity holders lack decision-making power/obligation to absorb losses',
      'It operates internationally',
      'It has more than 50% debt financing',
      'It is publicly traded',
    ],
    correctAnswer: 0,
    explanation: 'VIE criteria: (1) insufficient equity at risk to finance activities without additional support, (2) equity holders lack power through voting rights to direct significant activities, or (3) equity holders don\'t absorb expected losses/receive expected returns.',
    reference: 'ASC 810-10-15',
  },
  {
    id: 'far-wc-141',
    section: 'FAR',
    courseId: 'cpa',
    blueprintArea: 'FAR-I',
    topicId: 'far-rev-rec',
    topic: 'Revenue Recognition',
    subtopic: 'Right of Return',
    difficulty: 'medium',
    skillLevel: 'Application',
    question: 'When a customer has a right of return, the seller should:',
    options: [
      'Recognize revenue only for cash sales',
      'Recognize full revenue with no adjustments',
      'Recognize revenue net of estimated returns and record a refund liability',
      'Delay all revenue recognition until return period expires',
    ],
    correctAnswer: 2,
    explanation: 'ASC 606: recognize revenue for amount expected to be entitled (net of returns). Record refund liability and asset for right to recover product. Update estimates each reporting period. Variable consideration constraint may apply.',
    reference: 'ASC 606-10-55-22',
  },
  {
    id: 'far-wc-142',
    section: 'FAR',
    courseId: 'cpa',
    blueprintArea: 'FAR-IV',
    topicId: 'far-nfp',
    topic: 'Not-for-Profit',
    subtopic: 'Conditional vs Unconditional Contributions',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'A conditional contribution is one that:',
    options: [
      'Is anonymous',
      'Is restricted to a future time period',
      'Includes a barrier that must be overcome and a right of return/release if barrier not met',
      'Has a donor-specified purpose',
    ],
    correctAnswer: 2,
    explanation: 'Conditional: barrier (measurable performance-related barrier or measurable barrier) PLUS right of return/release. Not recognized until condition met. Time restriction alone ≠ condition. Purpose restriction = unconditional with donor restriction.',
    reference: 'ASC 958-605-25',
  },

  // AUD (4 questions)
  {
    id: 'aud-wc-139',
    section: 'AUD',
    courseId: 'cpa',
    blueprintArea: 'AUD-IV',
    topicId: 'aud-sampling',
    topic: 'Audit Sampling',
    subtopic: 'Attributes vs Variables',
    difficulty: 'medium',
    skillLevel: 'Application',
    question: 'Attribute sampling is used to:',
    options: [
      'Project likely misstatement amounts',
      'Estimate dollar amounts',
      'Determine sample sizes for substantive testing',
      'Estimate the rate of deviation from prescribed controls',
    ],
    correctAnswer: 3,
    explanation: 'Attribute sampling: tests of controls, estimates deviation rate. Variables sampling: substantive tests, estimates dollar amounts. Different purposes require different sampling approaches. Attribute answers yes/no questions.',
    reference: 'AU-C 530.A7',
  },
  {
    id: 'aud-wc-140',
    courseId: 'cpa',
    section: 'AUD',
    blueprintArea: 'AUD-II',
    topic: 'Internal Control',
    subtopic: 'Control Environment',
    difficulty: 'medium',
    skillLevel: 'Application',
    question: 'An auditor identifies that a client\'s internal audit function performed testing of accounts receivable confirmations during the year. Under AU-C 610, what factors should the external auditor evaluate before using the internal auditors\' work?',
    options: [
      'The external auditor can always use internal audit work without evaluation',
      'The external auditor should evaluate the objectivity, competence, and systematic approach of the internal audit function, and assess the nature and scope of the specific work performed',
      'Internal audit work can never be used for areas with significant risk',
      'The external auditor only needs to verify that internal audit reported to the audit committee',
    ],
    correctAnswer: 1,
    explanation: 'AU-C 610 requires the external auditor to evaluate: (1) objectivity of the internal audit function (organizational status, reporting relationships), (2) competence (qualifications, training, proficiency), (3) systematic and disciplined approach (proper planning, documentation, quality control), and (4) the nature and scope of specific work performed. Higher-risk areas require greater external auditor involvement even when internal audit work is available.',
    reference: 'AU-C 315.A77',
  },
  {
    id: 'aud-wc-141',
    section: 'AUD',
    courseId: 'cpa',
    blueprintArea: 'AUD-V',
    topicId: 'aud-reports',
    topic: 'Audit Reports',
    subtopic: 'Comparative Statements',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'When reporting on comparative financial statements where the prior period was audited by a predecessor:',
    options: [
      'The current auditor must re-audit the prior period',
      'Only the current year can be audited',
      'Comparative statements cannot be presented',
      'The predecessor\'s report may be reissued or the current auditor refers to the predecessor in the introductory paragraph',
    ],
    correctAnswer: 3,
    explanation: 'Options: (1) predecessor reissues report (must read current F/S, compare, obtain representation letter), or (2) current auditor references predecessor in introductory paragraph (indicates dates, type of opinion). Must comply with professional standards.',
    reference: 'AU-C 700.55',
  },
  {
    id: 'aud-wc-142',
    section: 'AUD',
    courseId: 'cpa',
    blueprintArea: 'AUD-III',
    topicId: 'aud-evidence',
    topic: 'Audit Evidence',
    subtopic: 'Related Parties',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'Audit procedures for related party transactions should focus on:',
    options: [
      'Testing only material transactions',
      'Ensuring transactions occurred',
      'Confirming only with third parties',
      'Understanding the business purpose and whether transactions were conducted at arm\'s length',
    ],
    correctAnswer: 3,
    explanation: 'Related parties: understand business rationale (not just legal form). Assess arm\'s length pricing. Evaluate disclosure adequacy. Higher fraud risk. Review for undisclosed relationships through board minutes, contracts, significant transactions.',
    reference: 'AU-C 550.16',
  },

  // REG (4 questions)
  {
    id: 'reg-wc-139',
    section: 'REG',
    courseId: 'cpa',
    blueprintArea: 'REG-III',
    topicId: 'reg-partnership',
    topic: 'Partnership Taxation',
    subtopic: 'Partnership Termination',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'A partnership terminates for tax purposes when:',
    options: [
      'It ceases to carry on business or within 12 months 50%+ of capital and profits interests are sold or exchanged',
      'A new partner is admitted',
      'Partners redistribute profits',
      'Any partner withdraws',
    ],
    correctAnswer: 0,
    explanation: 'Partnership terminates: (1) ceases business activities, or (2) 50%+ of capital AND profits interests sold/exchanged within 12 months. Technical termination rules were repealed by TCJA for sales after 2017. Business cessation remains.',
    reference: 'IRC Section 708',
  },
  {
    id: 'reg-wc-140',
    section: 'REG',
    courseId: 'cpa',
    blueprintArea: 'REG-II',
    topicId: 'reg-individual',
    topic: 'Individual Taxation',
    subtopic: 'Net Investment Income Tax',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'The 3.8% Net Investment Income Tax (NIIT) applies to:',
    options: [
      'Only real estate income',
      'Investment income for individuals with MAGI exceeding thresholds ($200K single, $250K MFJ)',
      'Only dividend income',
      'All taxpayers',
    ],
    correctAnswer: 1,
    explanation: 'NIIT: 3.8% on lesser of NII or excess MAGI over threshold ($250K MFJ, $200K single). NII includes interest, dividends, capital gains, passive income, rental income (unless real estate professional). Not wages, SE income, distributions from retirement plans.',
    reference: 'IRC Section 1411',
  },
  {
    id: 'reg-wc-141',
    section: 'REG',
    courseId: 'cpa',
    blueprintArea: 'REG-I',
    topicId: 'reg-ucc',
    topic: 'Commercial Law',
    subtopic: 'Secured Transactions Priority',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'Between perfected secured creditors, priority is generally determined by:',
    options: [
      'The type of collateral',
      'First to file or perfect (whichever is earlier)',
      'Agreement between creditors',
      'The size of the claim',
    ],
    correctAnswer: 1,
    explanation: 'UCC Article 9: first to file or perfect wins (whichever earlier). Purchase money security interest (PMSI) may have super-priority. Exceptions for buyers in ordinary course. Filing establishes priority even before attachment in some cases.',
    reference: 'UCC 9-322',
  },
  {
    id: 'reg-wc-142',
    section: 'REG',
    courseId: 'cpa',
    blueprintArea: 'REG-IV',
    topicId: 'reg-property',
    topic: 'Property Transactions',
    subtopic: 'Section 179 Limitations',
    difficulty: 'medium',
    skillLevel: 'Application',
    question: 'Section 179 expense deduction is limited by:',
    options: [
      'Dollar limit, taxable income limitation, and phase-out based on asset placed in service',
      'Only depreciation rules',
      'There are no limitations',
      'Only the dollar limit',
    ],
    correctAnswer: 0,
    explanation: 'Section 179 limits: (1) dollar cap ($1.16M for 2024), (2) phase-out when purchases exceed threshold ($2.89M), (3) taxable income limit (cannot create loss). Carryforward available for taxable income limitation only.',
    reference: 'IRC Section 179',
  },

  // BAR (5 questions)
  {
    id: 'bar-wc-162',
    section: 'BAR',
    courseId: 'cpa',
    blueprintArea: 'BAR-III',
    topicId: 'bar-technical',
    topic: 'Technical Accounting',
    subtopic: 'Contingent Consideration',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'Contingent consideration in a business combination is:',
    options: [
      'Measured at fair value at acquisition date and remeasured each period if liability-classified',
      'Never recorded until paid',
      'Recorded at maximum possible amount',
      'Excluded from the purchase price',
    ],
    correctAnswer: 0,
    explanation: 'ASC 805: contingent consideration measured at acquisition-date FV, included in purchase price. Liability-classified (most common): remeasured each period through earnings. Equity-classified: not remeasured. Classification depends on settlement terms.',
    reference: 'ASC 805-30-35-1',
  },
  {
    id: 'bar-wc-163',
    courseId: 'cpa',
    section: 'BAR',
    blueprintArea: 'BAR-I',
    topic: 'Financial Statement Analysis',
    subtopic: 'Sustainable Growth Rate',
    difficulty: 'medium',
    skillLevel: 'Application',
    question: 'A company has ROE of 16% and pays out 25% of earnings as dividends. What is its sustainable growth rate, and what does it indicate?',
    options: [
      '12% — the maximum growth rate without issuing new equity or changing leverage',
      '16% — equal to ROE',
      '4% — the dividend yield',
      '25% — equal to the payout ratio',
    ],
    correctAnswer: 0,
    explanation: 'Sustainable growth rate = ROE × Retention ratio = 16% × (1 − 0.25) = 16% × 0.75 = 12%. This is the maximum rate a company can grow sales without issuing new equity or changing its debt-to-equity ratio. Growing faster requires external equity financing, increased leverage, or improved profitability.',
    reference: 'Growth Analysis',
  },
  {
    id: 'bar-wc-164',
    section: 'BAR',
    courseId: 'cpa',
    blueprintArea: 'BAR-II',
    topicId: 'bar-valuation',
    topic: 'Valuation',
    subtopic: 'Control Premium',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'A control premium in M&A valuations reflects:',
    options: [
      'Lower value due to synergies',
      'Additional value buyers pay for ability to control operations, strategy, and capital allocation',
      'A discount for minority interests',
      'Premium for minority shareholders',
    ],
    correctAnswer: 1,
    explanation: 'Control premium: value of control (change management, strategy, capital structure, dividends, direct synergies). Typically 20-40% over trading price. Opposite of minority discount. Reflects strategic vs financial buyer value.',
    reference: 'M&A Valuation',
  },
  {
    id: 'bar-wc-165',
    section: 'BAR',
    courseId: 'cpa',
    blueprintArea: 'BAR-IV',
    topicId: 'bar-planning',
    topic: 'Financial Planning',
    subtopic: 'Scenario Analysis',
    difficulty: 'medium',
    skillLevel: 'Application',
    question: 'Scenario analysis differs from sensitivity analysis in that it:',
    options: [
      'Examines multiple variables changing simultaneously under defined scenarios (best/worst/most likely)',
      'Only considers upside scenarios',
      'Changes one variable at a time',
      'Ignores probability',
    ],
    correctAnswer: 0,
    explanation: 'Scenario analysis: multiple variables change together under coherent narratives (base/optimistic/pessimistic). Sensitivity: one variable at a time. Scenario captures correlations between variables; more realistic but fewer data points.',
    reference: 'Financial Planning',
  },
  {
    id: 'bar-wc-166',
    section: 'BAR',
    courseId: 'cpa',
    blueprintArea: 'BAR-III',
    topicId: 'bar-technical',
    topic: 'Technical Accounting',
    subtopic: 'Pushdown Accounting',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'Pushdown accounting allows the acquired entity to:',
    options: [
      'Eliminate goodwill',
      'Maintain historical cost basis',
      'Record the fair value adjustments from the acquisition in its separate financial statements',
      'Avoid SEC reporting',
    ],
    correctAnswer: 2,
    explanation: 'Pushdown: new basis (FV adjustments, goodwill) reflected in acquired entity\'s standalone F/S after change in control. Elective under ASC 805-50. Results in acquirer\'s purchase price allocation "pushed down" to subsidiary books.',
    reference: 'ASC 805-50',
  },

  // ISC (4 questions)
  {
    id: 'isc-wc-139',
    section: 'ISC',
    courseId: 'cpa',
    blueprintArea: 'ISC-II',
    topicId: 'isc-security',
    topic: 'Security Controls',
    subtopic: 'PKI Components',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'Public Key Infrastructure (PKI) includes:',
    options: [
      'Certificate authority (CA), registration authority, digital certificates, public/private key pairs',
      'Only firewalls',
      'Physical security only',
      'Only passwords',
    ],
    correctAnswer: 0,
    explanation: 'PKI components: CA (issues/revokes certificates), RA (identity validation), digital certificates (binds identity to public key), key pairs, revocation lists. Enables encryption, digital signatures, authentication. Foundation for secure communications.',
    reference: 'Public Key Infrastructure',
  },
  {
    id: 'isc-wc-140',
    section: 'ISC',
    courseId: 'cpa',
    blueprintArea: 'ISC-III',
    topicId: 'isc-systems',
    topic: 'Information Systems',
    subtopic: 'DevSecOps',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'An organization\'s CISO presents the annual cybersecurity budget request to the board of directors. The presentation includes detailed technical metrics (packets analyzed, signatures updated, patches applied) but does not translate cybersecurity risks into business terms or quantify the potential financial impact of threats. The board approves the budget without understanding the risk posture. What governance issue exists?',
    options: [
      'Technical metrics are the most appropriate way to communicate cybersecurity to the board',
      'The CISO failed to communicate in business terms \u2014 board members need to understand cyber risk in terms of financial impact, business disruption, and regulatory exposure to make informed governance decisions about resource allocation and risk acceptance',
      'Board members should develop technical expertise to understand cybersecurity metrics',
      'Cybersecurity budget decisions should be delegated entirely to the IT department',
    ],
    correctAnswer: 1,
    explanation: 'Effective cyber risk governance requires communicating in business terms: (1) financial impact of potential breaches (using frameworks like FAIR), (2) business disruption scenarios, (3) regulatory and legal exposure, (4) comparison to industry peers and benchmarks. When the board approves budgets without understanding the risk posture, they cannot exercise informed oversight. NACD and SEC guidance emphasize board-level cyber risk literacy.',
    reference: 'DevSecOps',
  },
  {
    id: 'isc-wc-141',
    section: 'ISC',
    courseId: 'cpa',
    blueprintArea: 'ISC-I',
    topicId: 'isc-governance',
    topic: 'IT Governance',
    subtopic: 'Data Classification',
    difficulty: 'medium',
    skillLevel: 'Application',
    question: 'Data classification frameworks typically categorize information based on:',
    options: [
      'Creation date',
      'Sensitivity, criticality, and required protection level',
      'Department ownership only',
      'File size only',
    ],
    correctAnswer: 1,
    explanation: 'Data classification: sensitivity (public, internal, confidential, restricted), criticality to operations, regulatory requirements, protection needed. Drives security controls, access controls, retention, disposal. Foundation for data governance.',
    reference: 'Data Governance',
  },
  {
    id: 'isc-wc-142',
    section: 'ISC',
    courseId: 'cpa',
    blueprintArea: 'ISC-IV',
    topicId: 'isc-audit',
    topic: 'IT Audit',
    subtopic: 'SOC 2 Trust Services Criteria',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'SOC 2 reports evaluate controls based on Trust Services Criteria, which include:',
    options: [
      'Only backup procedures',
      'Physical security exclusively',
      'Security, availability, processing integrity, confidentiality, and privacy',
      'Only financial statement assertions',
    ],
    correctAnswer: 2,
    explanation: 'TSC: Security (CC—common criteria, always included), Availability, Processing Integrity, Confidentiality, Privacy. Security is foundational. Designed for technology companies, cloud providers, service organizations. Type I (point-in-time) vs Type II (period).',
    reference: 'AICPA SOC 2',
  },

  // TCP (4 questions)
  {
    id: 'tcp-wc-139',
    section: 'TCP',
    courseId: 'cpa',
    blueprintArea: 'TCP-II',
    topicId: 'tcp-entity',
    topic: 'Entity Tax Compliance',
    subtopic: 'Corporate Distributions',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'Corporate distributions are characterized in this order:',
    options: [
      'Return of capital first',
      'Always taxable as ordinary income',
      'Capital gain first',
      'Dividend (from E&P), then return of capital (basis), then capital gain',
    ],
    correctAnswer: 3,
    explanation: 'Section 301: distribution = dividend (taxable) to extent of current + accumulated E&P, then nontaxable return of capital (reduces basis), then capital gain (when basis exhausted). Ordering rules matter for proper characterization.',
    reference: 'IRC Section 301',
  },
  {
    id: 'tcp-wc-140',
    courseId: 'cpa',
    section: 'TCP',
    blueprintArea: 'TCP-I',
    topic: 'Individual Tax Compliance',
    subtopic: 'Self-Employment Tax',
    difficulty: 'medium',
    skillLevel: 'Application',
    question: 'A taxpayer has wages of $90,000 and net rental income of $12,000 from an activity in which they actively participate. The taxpayer contributed $6,000 to a traditional IRA (fully deductible). What is the taxpayer\'s AGI?',
    options: [
      '$96,000 — wages plus rental income, minus the IRA deduction',
      '$102,000',
      '$90,000',
      '$84,000',
    ],
    correctAnswer: 0,
    explanation: 'AGI = gross income − above-the-line deductions. Gross income: wages ($90,000) + net rental income ($12,000) = $102,000. The traditional IRA contribution ($6,000) is an above-the-line deduction on Schedule 1. AGI = $102,000 − $6,000 = $96,000. Net rental income is included in gross income (the $25,000 rental loss allowance only applies to rental losses, not income). Deductible IRA contributions are subject to phaseout if covered by an employer plan.',
    reference: 'IRC Section 1401',
  },
  {
    id: 'tcp-wc-141',
    section: 'TCP',
    courseId: 'cpa',
    blueprintArea: 'TCP-III',
    topicId: 'tcp-planning',
    topic: 'Tax Planning',
    subtopic: 'Entity Selection Factors',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'Key factors in choosing between C corp and S corp include:',
    options: [
      'Only liability protection',
      'Only state of incorporation',
      'Only number of shareholders',
      'Tax rates, self-employment tax savings, owner compensation, retained earnings needs, and exit strategy',
    ],
    correctAnswer: 3,
    explanation: 'Entity selection analysis: C corp double tax vs S corp pass-through, SE tax savings (S corp wages vs distributions), 21% vs individual rates, QSBS exclusion, state treatment, shareholder restrictions, fringe benefits, exit (stock vs asset sale).',
    reference: 'Entity Selection',
  },
  {
    id: 'tcp-wc-142',
    section: 'TCP',
    courseId: 'cpa',
    blueprintArea: 'TCP-IV',
    topicId: 'tcp-representation',
    topic: 'Tax Representation',
    subtopic: 'Penalties Abatement',
    difficulty: 'medium',
    skillLevel: 'Application',
    question: 'First-time penalty abatement (FTA) is available when the taxpayer:',
    options: [
      'Has prior penalty history',
      'Is under audit',
      'Requests abatement for fraud penalties',
      'Has clean compliance history for three prior years and has filed all required returns',
    ],
    correctAnswer: 3,
    explanation: 'FTA criteria: (1) no penalties in prior 3 tax years, (2) all currently required returns filed (or valid extension), (3) paid or arranged payment. Available for failure to file/pay, FTD penalties. Cannot use reasonable cause and FTA together on same penalty.',
    reference: 'IRM 20.1.1.3.6.1',
  },
];
