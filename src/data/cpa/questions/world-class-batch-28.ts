// World-Class Questions Batch 28 - Exam Quality MCQs
// 25 questions across all CPA exam sections

import { Question } from '../../../types';

export const WORLD_CLASS_BATCH_28: Question[] = [
  // FAR (4 questions)
  {
    id: 'far-wc-147',
    section: 'FAR',
    blueprintArea: 'FAR-II',
    topicId: 'far-derivatives',
    topic: 'Derivatives',
    subtopic: 'Embedded Derivatives',
    difficulty: 'hard',
    question: 'An embedded derivative must be separated from the host contract when:',
    options: [
      'The host is a debt instrument',
      'The embedded derivative is not clearly and closely related to the host and the host is not measured at fair value',
      'The contract is with a related party',
      'Interest rates are variable'
    ],
    correctAnswer: 1,
    explanation: 'ASC 815: separate embedded derivative if: (1) not clearly/closely related to host economic characteristics, (2) hybrid not measured at FV with changes in earnings, (3) embedded would be derivative if freestanding. Otherwise, account together.',
    reference: 'ASC 815-15-25',
  },
  {
    id: 'far-wc-148',
    section: 'FAR',
    blueprintArea: 'FAR-I',
    topicId: 'far-cash',
    topic: 'Cash and Cash Equivalents',
    subtopic: 'Bank Reconciliation',
    difficulty: 'medium',
    question: 'In a bank reconciliation, deposits in transit:',
    options: [
      'Are subtracted from the book balance',
      'Are added to the bank balance',
      'Are subtracted from the bank balance',
      'Require a journal entry'
    ],
    correctAnswer: 1,
    explanation: 'Deposits in transit: recorded on books, not yet in bank statement. Add to bank balance. No journal entry needed (timing difference). Outstanding checks: subtract from bank. Book adjustments require entries (NSF, fees, errors).',
    reference: 'Bank Reconciliation',
  },
  {
    id: 'far-wc-149',
    section: 'FAR',
    blueprintArea: 'FAR-III',
    topicId: 'far-segment',
    topic: 'Segment Reporting',
    subtopic: 'Quantitative Thresholds',
    difficulty: 'hard',
    question: 'An operating segment is reportable if it meets any of the following 10% tests:',
    options: [
      'Assets only',
      'Revenue, reported profit/loss (absolute value), or assets test',
      'Number of employees',
      'Geographic location only'
    ],
    correctAnswer: 1,
    explanation: 'ASC 280 tests: (1) revenue ≥10% of combined segment revenues, (2) absolute profit/loss ≥10% of greater of combined profit or combined loss, (3) assets ≥10% of combined assets. Meet any one = reportable. 75% external revenue test overall.',
    reference: 'ASC 280-10-50-12',
  },
  {
    id: 'far-wc-150',
    section: 'FAR',
    blueprintArea: 'FAR-IV',
    topicId: 'far-nfp',
    topic: 'Not-for-Profit',
    subtopic: 'Net Asset Classes',
    difficulty: 'medium',
    question: 'Not-for-profit entities report net assets in how many classes?',
    options: [
      'Four classes',
      'Two: with donor restrictions and without donor restrictions',
      'Three unrestricted categories',
      'One aggregate class'
    ],
    correctAnswer: 1,
    explanation: 'ASU 2016-14: two net asset classes: (1) without donor restrictions, (2) with donor restrictions (combines former temporarily and permanently restricted). Simplified from three classes. Present underwater endowment disclosures.',
    reference: 'ASC 958-205',
  },

  // AUD (4 questions)
  {
    id: 'aud-wc-147',
    section: 'AUD',
    blueprintArea: 'AUD-IV',
    topicId: 'aud-sampling',
    topic: 'Audit Sampling',
    subtopic: 'Sampling Risk',
    difficulty: 'medium',
    question: 'Sampling risk includes:',
    options: [
      'Only nonsampling risk',
      'Risk of incorrect acceptance and risk of incorrect rejection',
      'Risk that the sample isn\'t random',
      'Risk of fraud only'
    ],
    correctAnswer: 1,
    explanation: 'Sampling risk: (1) incorrect rejection (Type I - efficiency issue), (2) incorrect acceptance (Type II - effectiveness issue). Sample may not represent population. Reduce through larger samples, proper design. Nonsampling risk is separate.',
    reference: 'AU-C 530.A1',
  },
  {
    id: 'aud-wc-148',
    section: 'AUD',
    blueprintArea: 'AUD-II',
    topicId: 'aud-internal-control',
    topic: 'Internal Control',
    subtopic: 'Compensating Controls',
    difficulty: 'hard',
    question: 'When a control deficiency exists, compensating controls:',
    options: [
      'Eliminate the deficiency',
      'May reduce the severity but don\'t cure the underlying deficiency',
      'Are never relevant',
      'Always prevent material misstatement'
    ],
    correctAnswer: 1,
    explanation: 'Compensating controls: mitigate risk when primary control absent/ineffective. Consider in evaluating severity. Don\'t eliminate deficiency but may prevent escalation to significant deficiency or material weakness. Must operate effectively to consider.',
    reference: 'AS 2201.70',
  },
  {
    id: 'aud-wc-149',
    section: 'AUD',
    blueprintArea: 'AUD-V',
    topicId: 'aud-reports',
    topic: 'Audit Reports',
    subtopic: 'Other Matters Paragraph',
    difficulty: 'hard',
    question: 'An Other Matter paragraph in the auditor\'s report is used for:',
    options: [
      'Known departures from GAAP',
      'Matters relevant to users\' understanding of the audit that are not required to be presented',
      'Emphasis of a matter in the financial statements',
      'Adverse opinions only'
    ],
    correctAnswer: 1,
    explanation: 'Other Matter: matters not in F/S but relevant to understanding audit. Examples: prior-period F/S audited by predecessor, restriction on distribution, supplementary information. Emphasis of Matter = matters in F/S warranting emphasis.',
    reference: 'AU-C 706.08',
  },
  {
    id: 'aud-wc-150',
    section: 'AUD',
    blueprintArea: 'AUD-III',
    topicId: 'aud-evidence',
    topic: 'Audit Evidence',
    subtopic: 'Cutoff Tests',
    difficulty: 'medium',
    question: 'Cutoff testing primarily addresses:',
    options: [
      'The valuation assertion',
      'The occurrence/completeness assertions and proper period recognition',
      'The classification assertion only',
      'Rights and obligations only'
    ],
    correctAnswer: 1,
    explanation: 'Cutoff: transactions recorded in correct period. Tests occurrence (revenue recognized before delivery?), completeness (year-end purchases recorded?). Select transactions around period-end, verify proper dating. Critical for revenue and inventory.',
    reference: 'Cutoff Testing',
  },

  // REG (4 questions)
  {
    id: 'reg-wc-147',
    section: 'REG',
    blueprintArea: 'REG-III',
    topicId: 'reg-s-corp',
    topic: 'S Corporation',
    subtopic: 'Basis Ordering Rules',
    difficulty: 'hard',
    question: 'S corporation basis is reduced by distributions and losses in this order:',
    options: [
      'All items simultaneously',
      'Stock basis reduced first, then debt basis (and restored in reverse)',
      'Debt basis first',
      'Only at year-end'
    ],
    correctAnswer: 1,
    explanation: 'S corp basis: stock basis reduced first (income, then distributions, then losses), debt basis only when stock zero. Restoration: debt basis first, then stock. Ordering matters for loss deduction and distribution characterization.',
    reference: 'IRC Section 1367',
  },
  {
    id: 'reg-wc-148',
    section: 'REG',
    blueprintArea: 'REG-II',
    topicId: 'reg-individual',
    topic: 'Individual Taxation',
    subtopic: 'Alternative Minimum Tax',
    difficulty: 'hard',
    question: 'Common AMT preference items include:',
    options: [
      'Standard deduction',
      'State taxes deducted, incentive stock option exercise spreads, private activity bond interest',
      'Charitable contributions',
      'Home mortgage interest'
    ],
    correctAnswer: 1,
    explanation: 'AMT adjustments/preferences: add back SALT (state/local taxes), ISOs bargain element, private activity bond interest, certain depreciation differences. Start with regular taxable income, adjust, apply AMT rates (26%/28%).',
    reference: 'IRC Section 56',
  },
  {
    id: 'reg-wc-149',
    section: 'REG',
    blueprintArea: 'REG-I',
    topicId: 'reg-agency',
    topic: 'Agency Law',
    subtopic: 'Duty of Loyalty',
    difficulty: 'medium',
    question: 'An agent\'s duty of loyalty requires:',
    options: [
      'Only performing assigned tasks',
      'Acting in the principal\'s best interest and avoiding conflicts of interest',
      'Working for only one principal ever',
      'Never making decisions'
    ],
    correctAnswer: 1,
    explanation: 'Duty of loyalty: avoid conflicts, no self-dealing, no competition with principal, maintain confidentiality, account for profits received in course of agency. Breach = liable for damages, may forfeit compensation.',
    reference: 'Agency Law',
  },
  {
    id: 'reg-wc-150',
    section: 'REG',
    blueprintArea: 'REG-IV',
    topicId: 'reg-property',
    topic: 'Property Transactions',
    subtopic: 'Related Party Sales',
    difficulty: 'hard',
    question: 'Losses on sales between related parties:',
    options: [
      'Are fully deductible',
      'Are disallowed but may offset subsequent gains by the related buyer',
      'Are capital losses',
      'Are deferred indefinitely'
    ],
    correctAnswer: 1,
    explanation: 'Section 267: disallowed losses between related parties (family, controlled entities). Buyer\'s subsequent gain reduced by disallowed loss (not below zero). Prevents manipulation of timing for losses. Related party definitions specific.',
    reference: 'IRC Section 267',
  },

  // BAR (5 questions)
  {
    id: 'bar-wc-172',
    section: 'BAR',
    blueprintArea: 'BAR-II',
    topicId: 'bar-valuation',
    topic: 'Valuation',
    subtopic: 'Weighted Average Cost of Capital',
    difficulty: 'hard',
    question: 'The weighted average cost of capital (WACC) represents:',
    options: [
      'Only cost of equity',
      'Blended cost of all capital sources weighted by market value proportions, used as discount rate',
      'Only cost of debt',
      'Historical returns'
    ],
    correctAnswer: 1,
    explanation: 'WACC = (E/V × Re) + (D/V × Rd × (1-T)). Market value weights, after-tax cost of debt. Discount rate for firm cash flows. Reflects opportunity cost of capital. Company-specific risk reflected in cost of equity.',
    reference: 'Corporate Finance',
  },
  {
    id: 'bar-wc-173',
    section: 'BAR',
    blueprintArea: 'BAR-III',
    topicId: 'bar-technical',
    topic: 'Technical Accounting',
    subtopic: 'Asset Retirement Obligations',
    difficulty: 'hard',
    question: 'An asset retirement obligation is initially recorded at:',
    options: [
      'Zero until retirement',
      'Fair value (PV of future costs) with corresponding increase to asset cost',
      'Face value of expected costs',
      'Only when probable and estimable'
    ],
    correctAnswer: 1,
    explanation: 'ASC 410: ARO at FV (PV expected settlement costs) when incurred. Debit asset cost (depreciate), credit liability (accrete using original discount rate). Revisions: adjust asset and liability. Common: environmental remediation, mine reclamation.',
    reference: 'ASC 410-20-25',
  },
  {
    id: 'bar-wc-174',
    section: 'BAR',
    blueprintArea: 'BAR-IV',
    topicId: 'bar-planning',
    topic: 'Financial Planning',
    subtopic: 'Capital Structure Theory',
    difficulty: 'hard',
    question: 'The tradeoff theory of capital structure suggests firms balance:',
    options: [
      'Only tax benefits',
      'Tax benefits of debt against financial distress costs to find optimal leverage',
      'Only bankruptcy costs',
      'Equity versus preferred stock'
    ],
    correctAnswer: 1,
    explanation: 'Tradeoff theory: debt tax shield increases value, but financial distress/bankruptcy costs eventually offset benefit. Optimal: where marginal tax benefit = marginal distress cost. Explains why different debt levels exist across industries.',
    reference: 'Capital Structure',
  },
  {
    id: 'bar-wc-175',
    section: 'BAR',
    blueprintArea: 'BAR-I',
    topicId: 'bar-analysis',
    topic: 'Financial Statement Analysis',
    subtopic: 'Altman Z-Score',
    difficulty: 'hard',
    question: 'The Altman Z-Score is used to predict:',
    options: [
      'Stock price appreciation',
      'Bankruptcy risk based on financial ratios',
      'Revenue growth',
      'Interest rates'
    ],
    correctAnswer: 1,
    explanation: 'Altman Z-Score: weighted combination of 5 ratios (WC/TA, RE/TA, EBIT/TA, MV equity/BV debt, Sales/TA). Z<1.8 distress zone, Z>3.0 safe zone. Predictive model for bankruptcy probability. Different versions for private/public companies.',
    reference: 'Credit Analysis',
  },
  {
    id: 'bar-wc-176',
    section: 'BAR',
    blueprintArea: 'BAR-II',
    topicId: 'bar-valuation',
    topic: 'Valuation',
    subtopic: 'Terminal Value',
    difficulty: 'hard',
    question: 'In DCF valuation, terminal value represents:',
    options: [
      'Only the last year cash flow',
      'Present value of all cash flows beyond the explicit forecast period',
      'Liquidation value',
      'Book value'
    ],
    correctAnswer: 1,
    explanation: 'Terminal value: value at end of projection period, often 50%+ of total value. Gordon growth: FCF × (1+g) / (WACC-g). Exit multiple: EBITDA × multiple. Sensitive to assumptions (growth rate, multiple). Must be reasonable/sustainable.',
    reference: 'DCF Valuation',
  },

  // ISC (4 questions)
  {
    id: 'isc-wc-147',
    section: 'ISC',
    blueprintArea: 'ISC-I',
    topicId: 'isc-governance',
    topic: 'IT Governance',
    subtopic: 'COBIT Framework',
    difficulty: 'hard',
    question: 'COBIT provides:',
    options: [
      'Only technical specifications',
      'A governance and management framework for enterprise IT with principles, policies, and maturity models',
      'Only audit checklists',
      'Programming standards'
    ],
    correctAnswer: 1,
    explanation: 'COBIT (ISACA): enterprise governance of IT. Principles: meeting stakeholder needs, covering enterprise end-to-end, applying single integrated framework. Domains: EDM (governance), APO/BAI/DSS/MEA (management). Maturity model for assessment.',
    reference: 'COBIT Framework',
  },
  {
    id: 'isc-wc-148',
    section: 'ISC',
    blueprintArea: 'ISC-II',
    topicId: 'isc-security',
    topic: 'Security Controls',
    subtopic: 'Network Segmentation',
    difficulty: 'medium',
    question: 'Network segmentation improves security by:',
    options: [
      'Increasing network speed only',
      'Isolating systems and limiting lateral movement of attackers through VLANs or firewalls',
      'Eliminating the need for firewalls',
      'Reducing hardware costs'
    ],
    correctAnswer: 1,
    explanation: 'Segmentation: divide network into zones (DMZ, internal, sensitive). Limits attack spread, enables granular access control. VLANs, firewalls, micro-segmentation in virtualized environments. Essential for defense in depth.',
    reference: 'Network Security',
  },
  {
    id: 'isc-wc-149',
    section: 'ISC',
    blueprintArea: 'ISC-III',
    topicId: 'isc-systems',
    topic: 'Information Systems',
    subtopic: 'Cloud Service Models',
    difficulty: 'medium',
    question: 'In Infrastructure as a Service (IaaS), the cloud provider manages:',
    options: [
      'Applications and data',
      'Physical infrastructure, virtualization, networking and storage (customer manages OS up)',
      'Everything including applications',
      'Only the data'
    ],
    correctAnswer: 1,
    explanation: 'IaaS: provider manages infrastructure (servers, storage, networking). Customer manages OS, middleware, applications, data. PaaS: provider also manages OS/middleware. SaaS: provider manages everything. Shared responsibility varies.',
    reference: 'Cloud Computing',
  },
  {
    id: 'isc-wc-150',
    section: 'ISC',
    blueprintArea: 'ISC-IV',
    topicId: 'isc-audit',
    topic: 'IT Audit',
    subtopic: 'CAAT Tools',
    difficulty: 'medium',
    question: 'Computer-assisted audit techniques (CAATs) include:',
    options: [
      'Only manual procedures',
      'Data analytics software, test data, embedded audit modules, and automated audit tools',
      'Only spreadsheets',
      'Physical inspection tools'
    ],
    correctAnswer: 1,
    explanation: 'CAATs: test data (fabricated transactions), ITF (integrated test facility), parallel simulation, data analytics (ACL, IDEA), embedded modules, continuous auditing. Enable testing large populations, identifying anomalies.',
    reference: 'IT Audit Techniques',
  },

  // TCP (4 questions)
  {
    id: 'tcp-wc-147',
    section: 'TCP',
    blueprintArea: 'TCP-II',
    topicId: 'tcp-entity',
    topic: 'Entity Tax Compliance',
    subtopic: 'Estimated Tax Penalties',
    difficulty: 'medium',
    question: 'Corporations avoid the estimated tax penalty by paying:',
    options: [
      'Nothing quarterly',
      '100% of current year tax or 100% of prior year tax (if PY exceeds $1M, lesser of current year or 100% prior year first 3 quarters)',
      'Only at year-end',
      '50% of prior year tax'
    ],
    correctAnswer: 1,
    explanation: 'Corporate safe harbor: pay lesser of 100% current year or 100% prior year tax. Large corps (>$1M prior year tax): first quarter only can use prior year, rest must be annualized. Form 2220 calculates penalty.',
    reference: 'IRC Section 6655',
  },
  {
    id: 'tcp-wc-148',
    section: 'TCP',
    blueprintArea: 'TCP-I',
    topicId: 'tcp-individual',
    topic: 'Individual Tax Compliance',
    subtopic: 'Kiddie Tax',
    difficulty: 'hard',
    question: 'The kiddie tax applies to unearned income of:',
    options: [
      'All children regardless of age',
      'Children under 19 (or under 24 if student) whose unearned income exceeds threshold',
      'Only infants',
      'All investment income'
    ],
    correctAnswer: 1,
    explanation: 'Kiddie tax: child\'s unearned income over threshold taxed at parents\' marginal rate. Age: under 19, or under 24 if full-time student not self-supporting. Prevents income shifting to children. Form 8615 or parent includes on return.',
    reference: 'IRC Section 1(g)',
  },
  {
    id: 'tcp-wc-149',
    section: 'TCP',
    blueprintArea: 'TCP-III',
    topicId: 'tcp-planning',
    topic: 'Tax Planning',
    subtopic: 'Grantor Trusts',
    difficulty: 'hard',
    question: 'A grantor trust is one where:',
    options: [
      'The trust is always irrevocable',
      'The grantor is taxed on trust income due to retained powers or interests',
      'The trust never distributes income',
      'Only charities benefit'
    ],
    correctAnswer: 1,
    explanation: 'Grantor trust: grantor taxed on income due to retained power (revoke, control distributions, substitute assets) or interest. Intentionally defective grantor trusts (IDGTs) used for estate planning: assets out of estate, grantor pays income tax.',
    reference: 'IRC Sections 671-679',
  },
  {
    id: 'tcp-wc-150',
    section: 'TCP',
    blueprintArea: 'TCP-IV',
    topicId: 'tcp-representation',
    topic: 'Tax Representation',
    subtopic: 'Offer in Compromise',
    difficulty: 'hard',
    question: 'An offer in compromise (OIC) may be accepted when:',
    options: [
      'The taxpayer refuses to pay',
      'Doubt exists as to collectibility, liability, or equity/hardship grounds exist',
      'The tax debt is under $1,000',
      'Automatically after bankruptcy'
    ],
    correctAnswer: 1,
    explanation: 'OIC grounds: (1) doubt as to liability (dispute amount owed), (2) doubt as to collectibility (can\'t pay full amount), (3) effective tax administration (exceptional circumstances, hardship). Form 656 + payment/financial disclosure.',
    reference: 'IRC Section 7122',
  },
];
