// World-Class Questions Batch 29 - Exam Quality MCQs
// 25 questions across all CPA exam sections

import { Question } from '../../../types';

export const WORLD_CLASS_BATCH_29: Question[] = [
  // FAR (4 questions)
  {
    id: 'far-wc-151',
    section: 'FAR',
    courseId: 'cpa',
    blueprintArea: 'FAR-II',
    topicId: 'far-pensions',
    topic: 'Pensions',
    subtopic: 'Pension Asset/Liability',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'The funded status of a defined benefit pension plan is:',
    options: [
      'The annual pension expense',
      'The difference between plan assets and projected benefit obligation (PBO), recognized on balance sheet',
      'Only the service cost component',
      'The accumulated benefit obligation'
    ],
    correctAnswer: 1,
    explanation: 'Funded status = Plan assets (FV) - PBO. Overfunded = asset; underfunded = liability. ASC 715 requires recognition on balance sheet. Components: service cost (income statement), other costs (OCI or earnings based on election).',
    reference: 'ASC 715-20-45',
  },
  {
    id: 'far-wc-152',
    section: 'FAR',
    courseId: 'cpa',
    blueprintArea: 'FAR-I',
    topicId: 'far-receivables',
    topic: 'Receivables',
    subtopic: 'CECL Model',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'The current expected credit loss (CECL) model requires:',
    options: [
      'Recording losses only when probable',
      'Estimating lifetime expected credit losses at origination based on historical, current, and forecast information',
      'No allowance until default',
      'Using only historical loss rates'
    ],
    correctAnswer: 1,
    explanation: 'ASC 326 CECL: lifetime expected losses estimated at inception. Forward-looking (not just incurred). Considers historical experience, current conditions, reasonable forecasts. Earlier recognition than previous incurred loss model.',
    reference: 'ASC 326-20-30',
  },
  {
    id: 'far-wc-153',
    section: 'FAR',
    courseId: 'cpa',
    blueprintArea: 'FAR-III',
    topicId: 'far-statement-cash-flows',
    topic: 'Statement of Cash Flows',
    subtopic: 'Operating Classification',
    difficulty: 'medium',
    skillLevel: 'Application',
    question: 'Under US GAAP, interest paid is classified as:',
    options: [
      'Financing activity',
      'Operating activity',
      'Investing activity',
      'Either operating or financing (policy choice)'
    ],
    correctAnswer: 1,
    explanation: 'GAAP: interest paid/received = operating. Dividends received = operating. Dividends paid = financing. Different from IFRS which allows policy choice for interest/dividends. Classification impacts operating cash flow metrics.',
    reference: 'ASC 230-10-45',
  },
  {
    id: 'far-wc-154',
    section: 'FAR',
    courseId: 'cpa',
    blueprintArea: 'FAR-IV',
    topicId: 'far-government',
    topic: 'Government Accounting',
    subtopic: 'Basis Differences',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'Government-wide financial statements use the economic resources measurement focus and:',
    options: [
      'Cash basis',
      'Accrual basis',
      'Modified accrual basis',
      'Budgetary basis'
    ],
    correctAnswer: 1,
    explanation: 'Government-wide: economic resources/full accrual (like commercial). Fund statements: governmental funds use current financial resources/modified accrual. Reconciliation required between fund and government-wide.',
    reference: 'GASB 34',
  },

  // AUD (4 questions)
  {
    id: 'aud-wc-151',
    section: 'AUD',
    courseId: 'cpa',
    blueprintArea: 'AUD-I',
    topicId: 'aud-quality-control',
    topic: 'Quality Control',
    subtopic: 'Engagement Quality Review',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'An engagement quality control review is required for:',
    options: [
      'All engagements',
      'Audits of public companies (issuers) and other high-risk engagements as determined by firm policy',
      'Only compilations',
      'Only reviews'
    ],
    correctAnswer: 1,
    explanation: 'EQR required: SEC issuers (PCAOB), other based on firm policies (risk, public interest entity, first-year audit). EQR evaluates significant judgments, reviews documentation, must be completed before report release.',
    reference: 'PCAOB AS 1220',
  },
  {
    id: 'aud-wc-152',
    section: 'AUD',
    courseId: 'cpa',
    blueprintArea: 'AUD-III',
    topicId: 'aud-procedures',
    topic: 'Audit Procedures',
    subtopic: 'External Confirmation',
    difficulty: 'medium',
    skillLevel: 'Application',
    question: 'A positive confirmation requests the recipient to:',
    options: [
      'Respond only if they disagree',
      'Respond directly to the auditor indicating agreement or disagreement with stated information',
      'Send documents to the client',
      'Call the auditor verbally'
    ],
    correctAnswer: 1,
    explanation: 'Positive confirmation: respond in all cases (agree or disagree). Negative: respond only if disagree. Positive provides more evidence but lower response rate. Use for large/risky balances. Maintain control over process.',
    reference: 'AU-C 505.16',
  },
  {
    id: 'aud-wc-153',
    section: 'AUD',
    courseId: 'cpa',
    blueprintArea: 'AUD-V',
    topicId: 'aud-reports',
    topic: 'Audit Reports',
    subtopic: 'Going Concern',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'When substantial doubt exists about going concern with adequate disclosure:',
    options: [
      'Issue adverse opinion',
      'Include an Emphasis of Matter paragraph after opinion paragraph',
      'Issue disclaimer',
      'Do not modify report'
    ],
    correctAnswer: 1,
    explanation: 'Going concern with adequate F/S disclosure: unmodified opinion + Emphasis of Matter paragraph after opinion, drawing attention to going concern disclosure. Inadequate disclosure: qualified or adverse for GAAP departure.',
    reference: 'AU-C 570.25',
  },
  {
    id: 'aud-wc-154',
    section: 'AUD',
    courseId: 'cpa',
    blueprintArea: 'AUD-II',
    topicId: 'aud-risk',
    topic: 'Risk Assessment',
    subtopic: 'IT Risks',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'Risks arising from IT include:',
    options: [
      'Only hardware failures',
      'Unauthorized changes to data/programs, unauthorized data access, failure to make necessary changes, and improper manual intervention',
      'Only virus infections',
      'Only power outages'
    ],
    correctAnswer: 1,
    explanation: 'IT risks: unauthorized changes (manual or program), unauthorized access, failure to maintain systems properly, over-reliance on systems, inadequate segregation in IT. Controls must address unique IT risks.',
    reference: 'AU-C 315.A51',
  },

  // REG (4 questions)
  {
    id: 'reg-wc-151',
    section: 'REG',
    courseId: 'cpa',
    blueprintArea: 'REG-II',
    topicId: 'reg-individual',
    topic: 'Individual Taxation',
    subtopic: 'Passive Activity Real Estate Exception',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'The $25,000 rental real estate exception to passive activity losses requires:',
    options: [
      'No special requirements',
      'Active participation, AGI limitations, and 10%+ ownership',
      'Material participation',
      'Real estate professional status'
    ],
    correctAnswer: 1,
    explanation: '$25K exception: active participation (lighter than material), own 10%+, AGI phase-out ($100K-$150K). Real estate professionals: material participation in rental = nonpassive. Different standards for different relief provisions.',
    reference: 'IRC Section 469(i)',
  },
  {
    id: 'reg-wc-152',
    section: 'REG',
    courseId: 'cpa',
    blueprintArea: 'REG-III',
    topicId: 'reg-partnership',
    topic: 'Partnership Taxation',
    subtopic: 'Hot Assets',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'Hot assets in partnership interest sales include:',
    options: [
      'Only capital assets',
      'Unrealized receivables and substantially appreciated inventory',
      'Only real property',
      'Goodwill only'
    ],
    correctAnswer: 1,
    explanation: 'Section 751 hot assets: unrealized receivables (including depreciation recapture items) and substantially appreciated inventory (FMV > 120% basis). Converts capital gain to ordinary on sale of partnership interest. Anti-abuse rules.',
    reference: 'IRC Section 751',
  },
  {
    id: 'reg-wc-153',
    section: 'REG',
    courseId: 'cpa',
    blueprintArea: 'REG-I',
    topicId: 'reg-negotiable',
    topic: 'Commercial Paper',
    subtopic: 'HDC Requirements',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'To be a holder in due course, one must:',
    options: [
      'Simply possess the instrument',
      'Take the instrument for value, in good faith, without notice of defenses or dishonor',
      'Be the original payee',
      'Have a written agreement'
    ],
    correctAnswer: 1,
    explanation: 'HDC: holder of negotiable instrument, taken for value, good faith, no notice of claims/defenses/dishonor, not overdue. HDC takes free of personal but not real defenses. Superior position compared to assignee.',
    reference: 'UCC 3-302',
  },
  {
    id: 'reg-wc-154',
    section: 'REG',
    courseId: 'cpa',
    blueprintArea: 'REG-IV',
    topicId: 'reg-property',
    topic: 'Property Transactions',
    subtopic: 'Wash Sale Rule',
    difficulty: 'medium',
    skillLevel: 'Application',
    question: 'The wash sale rule disallows a loss when substantially identical securities are purchased:',
    options: [
      'Within 60 days before or after',
      'Within 30 days before or after the sale',
      'Within 90 days',
      'Within 1 year'
    ],
    correctAnswer: 1,
    explanation: 'Wash sale: loss disallowed if substantially identical stock/securities acquired within 30 days before or after sale (61-day window). Disallowed loss added to basis of replacement securities. Applies to stocks, options, securities.',
    reference: 'IRC Section 1091',
  },

  // BAR (5 questions)
  {
    id: 'bar-wc-177',
    section: 'BAR',
    courseId: 'cpa',
    blueprintArea: 'BAR-III',
    topicId: 'bar-technical',
    topic: 'Technical Accounting',
    subtopic: 'Restructuring Charges',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'Restructuring liabilities under GAAP are recognized when:',
    options: [
      'Management decides to restructure',
      'A liability meets the definition (one-time termination benefits at communication, contract costs when cease use)',
      'The restructuring is announced publicly',
      'Employees are notified of potential changes'
    ],
    correctAnswer: 1,
    explanation: 'ASC 420: one-time termination benefits recognized when plan communicated to employees. Contract termination costs when cease using right. Asset impairments separate from restructuring liability. Must be liability, not just plan.',
    reference: 'ASC 420-10-25',
  },
  {
    id: 'bar-wc-178',
    section: 'BAR',
    courseId: 'cpa',
    blueprintArea: 'BAR-I',
    topicId: 'bar-analysis',
    topic: 'Financial Statement Analysis',
    subtopic: 'Operating Leverage',
    difficulty: 'medium',
    skillLevel: 'Application',
    question: 'High operating leverage means:',
    options: [
      'Low fixed costs',
      'High fixed costs relative to variable costs, causing earnings sensitivity to sales changes',
      'Low financial risk',
      'High inventory turnover'
    ],
    correctAnswer: 1,
    explanation: 'Operating leverage: proportion of fixed costs. High fixed = small sales change creates larger earnings change (amplification). DOL = % change EBIT / % change sales. High OL increases operating risk and breakeven point.',
    reference: 'Operating Leverage',
  },
  {
    id: 'bar-wc-179',
    section: 'BAR',
    courseId: 'cpa',
    blueprintArea: 'BAR-II',
    topicId: 'bar-valuation',
    topic: 'Valuation',
    subtopic: 'Sum-of-Parts',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'Sum-of-the-parts (SOTP) valuation is used when:',
    options: [
      'A company has single business',
      'A company has distinct business segments that merit separate valuation approaches',
      'Only for startups',
      'Market multiples are unavailable'
    ],
    correctAnswer: 1,
    explanation: 'SOTP: value each segment separately using appropriate method (DCF, multiples), sum to get enterprise value, subtract debt. Useful for conglomerates, holding companies. Reveals conglomerate discount if market value < SOTP value.',
    reference: 'Valuation Methods',
  },
  {
    id: 'bar-wc-180',
    section: 'BAR',
    courseId: 'cpa',
    blueprintArea: 'BAR-IV',
    topicId: 'bar-cost',
    topic: 'Cost Accounting',
    subtopic: 'Joint Cost Allocation',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'The net realizable value method allocates joint costs based on:',
    options: [
      'Physical units produced',
      'Final sales value less separable costs for each product',
      'Only separable costs',
      'Management discretion'
    ],
    correctAnswer: 1,
    explanation: 'NRV method: allocate joint cost proportionally to each product\'s NRV (final sales value - separable processing costs). More equitable than physical units when products have different values. Used for joint-product costing.',
    reference: 'Cost Allocation',
  },
  {
    id: 'bar-wc-181',
    section: 'BAR',
    courseId: 'cpa',
    blueprintArea: 'BAR-III',
    topicId: 'bar-technical',
    topic: 'Technical Accounting',
    subtopic: 'Cloud Computing Arrangements',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'Implementation costs for cloud computing hosting arrangements are:',
    options: [
      'Always expensed immediately',
      'Capitalized if they would be capitalized for internal-use software, then amortized over hosting term',
      'Recorded as intangible assets',
      'Never capitalized'
    ],
    correctAnswer: 1,
    explanation: 'ASU 2018-15: hosting arrangements - capitalize implementation costs similar to internal-use software (application development stage). Amortize over term plus expected renewals. Present as prepaid (balance sheet) and in same category as service fees (income statement).',
    reference: 'ASC 350-40-25',
  },

  // ISC (4 questions)
  {
    id: 'isc-wc-151',
    section: 'ISC',
    courseId: 'cpa',
    blueprintArea: 'ISC-II',
    topicId: 'isc-security',
    topic: 'Security Controls',
    subtopic: 'SIEM Systems',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'SIEM (Security Information and Event Management) systems:',
    options: [
      'Only provide antivirus protection',
      'Aggregate logs, correlate events, detect threats, and generate alerts for security monitoring',
      'Replace firewalls',
      'Only backup data'
    ],
    correctAnswer: 1,
    explanation: 'SIEM: collect/normalize logs from multiple sources, correlate events in real-time, detect anomalies/threats, alerting, compliance reporting, forensic analysis. Central visibility for security operations center (SOC).',
    reference: 'Security Monitoring',
  },
  {
    id: 'isc-wc-152',
    section: 'ISC',
    courseId: 'cpa',
    blueprintArea: 'ISC-I',
    topicId: 'isc-governance',
    topic: 'IT Governance',
    subtopic: 'Service Level Agreements',
    difficulty: 'medium',
    skillLevel: 'Application',
    question: 'Service Level Agreements (SLAs) should define:',
    options: [
      'Only pricing',
      'Performance metrics, availability targets, remedies for non-compliance, and reporting requirements',
      'Only technical specifications',
      'Internal policies only'
    ],
    correctAnswer: 1,
    explanation: 'SLA elements: service scope, performance metrics (response time, uptime), availability targets (99.9%), remedies/credits for breach, responsibilities, escalation procedures, reporting, exclusions. Contractually enforceable.',
    reference: 'IT Contracts',
  },
  {
    id: 'isc-wc-153',
    section: 'ISC',
    courseId: 'cpa',
    blueprintArea: 'ISC-III',
    topicId: 'isc-systems',
    topic: 'Information Systems',
    subtopic: 'ETL Processing',
    difficulty: 'medium',
    skillLevel: 'Application',
    question: 'ETL (Extract, Transform, Load) processes:',
    options: [
      'Only extract data',
      'Extract data from sources, transform it to fit target format, and load into data warehouse',
      'Only load data',
      'Encrypt data'
    ],
    correctAnswer: 1,
    explanation: 'ETL: Extract (pull from source systems - databases, files, APIs), Transform (clean, standardize, aggregate, business rules), Load (insert into data warehouse/target). Foundation for data warehousing, analytics, BI.',
    reference: 'Data Integration',
  },
  {
    id: 'isc-wc-154',
    section: 'ISC',
    courseId: 'cpa',
    blueprintArea: 'ISC-IV',
    topicId: 'isc-audit',
    topic: 'IT Audit',
    subtopic: 'Change Management Testing',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'When testing change management controls, auditors should verify:',
    options: [
      'Only that changes were made',
      'Authorization, testing, approval, segregation of duties between development and production',
      'Only development documentation',
      'Only user training'
    ],
    correctAnswer: 1,
    explanation: 'Change management audit: authorized request, development/testing in non-production, approval workflow, segregation (dev can\'t migrate to production), version control, backout procedures, documentation, post-implementation review.',
    reference: 'Change Control Audit',
  },

  // TCP (4 questions)
  {
    id: 'tcp-wc-151',
    section: 'TCP',
    courseId: 'cpa',
    blueprintArea: 'TCP-I',
    topicId: 'tcp-individual',
    topic: 'Individual Tax Compliance',
    subtopic: 'SALT Limitation',
    difficulty: 'medium',
    skillLevel: 'Application',
    question: 'The TCJA SALT limitation (state and local tax deduction):',
    options: [
      'Has no limit',
      'Caps the itemized deduction for state/local income, sales, and property taxes at $10,000 ($5,000 MFS)',
      'Only limits income taxes',
      'Applies to standard deduction'
    ],
    correctAnswer: 1,
    explanation: 'SALT cap: $10K ($5K MFS) for state/local income/sales + property taxes combined. Through 2025. Major itemizer impact in high-tax states. Workarounds: PTET (passthrough entity tax), charitable contributions to state.',
    reference: 'IRC Section 164(b)(6)',
  },
  {
    id: 'tcp-wc-152',
    section: 'TCP',
    courseId: 'cpa',
    blueprintArea: 'TCP-II',
    topicId: 'tcp-entity',
    topic: 'Entity Tax Compliance',
    subtopic: 'Partnership Allocations',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'Special allocations in partnerships must have:',
    options: [
      'No requirements',
      'Substantial economic effect to be respected for tax purposes',
      'Only 50/50 splits',
      'IRS pre-approval'
    ],
    correctAnswer: 1,
    explanation: 'Section 704(b): allocations respected if substantial economic effect (economic effect: affects capital accounts; substantial: reasonable possibility partner recovers). Else allocate per partner\'s interest. Complex rules prevent tax-only allocations.',
    reference: 'IRC Section 704(b)',
  },
  {
    id: 'tcp-wc-153',
    section: 'TCP',
    courseId: 'cpa',
    blueprintArea: 'TCP-III',
    topicId: 'tcp-planning',
    topic: 'Tax Planning',
    subtopic: 'Installment Agreements',
    difficulty: 'medium',
    skillLevel: 'Application',
    question: 'IRS installment agreements allow taxpayers to:',
    options: [
      'Avoid paying tax',
      'Pay tax liability over time with monthly payments',
      'Reduce the amount owed',
      'Stop interest accrual'
    ],
    correctAnswer: 1,
    explanation: 'Installment agreement: pay over time (interest + penalties continue). Guaranteed if ≤$10K, streamlined if ≤$50K (120 day or monthly). Online application available. Requires filing compliance. User fee may apply.',
    reference: 'IRC Section 6159',
  },
  {
    id: 'tcp-wc-154',
    section: 'TCP',
    courseId: 'cpa',
    blueprintArea: 'TCP-IV',
    topicId: 'tcp-representation',
    topic: 'Tax Representation',
    subtopic: 'Circular 230 Due Diligence',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'Under Circular 230, due diligence requires practitioners to:',
    options: [
      'Accept all client representations',
      'Make reasonable inquiries if client information appears incorrect, incomplete, or inconsistent',
      'Audit the client',
      'Verify all documents independently'
    ],
    correctAnswer: 1,
    explanation: 'Circular 230 diligence: can rely on client info without verification unless appears incorrect/incomplete/inconsistent. Then must make reasonable inquiry. Cannot ignore red flags. Balance reliance with professional skepticism.',
    reference: 'Circular 230, §10.22',
  },
];
