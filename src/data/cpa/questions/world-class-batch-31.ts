// World-Class Questions Batch 31 - Exam Quality MCQs
// 25 questions across all CPA exam sections

import { Question } from '../../../types';

export const WORLD_CLASS_BATCH_31: Question[] = [
  // FAR (4 questions)
  {
    id: 'far-wc-159',
    section: 'FAR',
    blueprintArea: 'FAR-II',
    topicId: 'far-debt',
    topic: 'Debt',
    subtopic: 'Debt Modification',
    difficulty: 'hard',
    question: 'A debt modification is accounted for as an extinguishment when:',
    options: [
      'Interest rate changes',
      'Cash flows differ by more than 10% under the present value test',
      'The creditor changes',
      'Any term is modified'
    ],
    correctAnswer: 1,
    explanation: 'ASC 470-50: 10% cash flow test - if PV of new debt differs by >10% from old, extinguishment accounting (derecognize old, record new at FV, recognize gain/loss). Otherwise modification accounting (prospective adjustment).',
    reference: 'ASC 470-50-40',
  },
  {
    id: 'far-wc-160',
    section: 'FAR',
    blueprintArea: 'FAR-I',
    topicId: 'far-property',
    topic: 'Property, Plant & Equipment',
    subtopic: 'Capitalization Policy',
    difficulty: 'medium',
    question: 'Costs capitalized for self-constructed assets include:',
    options: [
      'Only materials',
      'Direct materials, direct labor, and allocable overhead',
      'Only labor',
      'Administrative overhead only'
    ],
    correctAnswer: 1,
    explanation: 'Self-constructed assets: capitalize all costs directly attributable (materials, labor) plus incremental overhead. Interest may be capitalized during construction (ASC 835-20). General and administrative overhead typically expensed.',
    reference: 'ASC 360-10-30',
  },
  {
    id: 'far-wc-161',
    section: 'FAR',
    blueprintArea: 'FAR-III',
    topicId: 'far-stockholders-equity',
    topic: 'Stockholders Equity',
    subtopic: 'Treasury Stock Methods',
    difficulty: 'hard',
    question: 'Under the cost method of treasury stock, reissuance below cost:',
    options: [
      'Creates a gain',
      'Reduces APIC from treasury stock transactions, then retained earnings for any excess',
      'Creates a loss on income statement',
      'Is not allowed'
    ],
    correctAnswer: 1,
    explanation: 'Cost method: treasury stock at cost. Reissue below cost: debit APIC-treasury stock (from prior transactions), excess to RE. Never debit loss to income statement for treasury stock. Equity transactions, not earnings.',
    reference: 'ASC 505-30',
  },
  {
    id: 'far-wc-162',
    section: 'FAR',
    blueprintArea: 'FAR-IV',
    topicId: 'far-government',
    topic: 'Government Accounting',
    subtopic: 'Fiduciary Funds',
    difficulty: 'hard',
    question: 'Fiduciary funds are used to report:',
    options: [
      'General government operations',
      'Resources held in trust or as agent for parties outside the government',
      'Capital projects',
      'Internal services'
    ],
    correctAnswer: 1,
    explanation: 'Fiduciary funds: pension trusts, investment trusts, private-purpose trusts, custodial funds. Resources held for others, not for government\'s own programs. Not in government-wide statements. Statement of fiduciary net position.',
    reference: 'GASB 84',
  },

  // AUD (4 questions)
  {
    id: 'aud-wc-159',
    section: 'AUD',
    blueprintArea: 'AUD-I',
    topicId: 'aud-engagement',
    topic: 'Engagement Acceptance',
    subtopic: 'Client Evaluation',
    difficulty: 'medium',
    question: 'Before accepting a new audit engagement, the auditor should:',
    options: [
      'Complete the audit planning',
      'Evaluate integrity of management, assess competence, and communicate with predecessor auditor',
      'Issue an engagement letter only',
      'Complete all substantive testing'
    ],
    correctAnswer: 1,
    explanation: 'Acceptance: evaluate management integrity (reputation, disputes, pressure), assess competence/resources for engagement, independence, communicate with predecessor (PCAOB required, AICPA required if designated). Then engagement letter.',
    reference: 'AU-C 210/220',
  },
  {
    id: 'aud-wc-160',
    section: 'AUD',
    blueprintArea: 'AUD-III',
    topicId: 'aud-procedures',
    topic: 'Audit Procedures',
    subtopic: 'Inventory Observation',
    difficulty: 'medium',
    question: 'Physical inventory observation is performed to test:',
    options: [
      'Ownership only',
      'Existence and condition of inventory',
      'Historical cost only',
      'Revenue cutoff'
    ],
    correctAnswer: 1,
    explanation: 'Inventory observation: existence (is it there?), condition (obsolescence, damage). Also supports completeness (count agrees to records). If can\'t observe: alternative procedures or scope limitation. Test count procedures, make test counts.',
    reference: 'AU-C 501.04',
  },
  {
    id: 'aud-wc-161',
    section: 'AUD',
    blueprintArea: 'AUD-V',
    topicId: 'aud-attestation',
    topic: 'Attestation',
    subtopic: 'Agreed-Upon Procedures',
    difficulty: 'hard',
    question: 'In an agreed-upon procedures engagement:',
    options: [
      'The practitioner provides an opinion',
      'The practitioner reports findings without providing assurance, and users acknowledge procedures',
      'The scope is determined by the practitioner',
      'Negative assurance is provided'
    ],
    correctAnswer: 1,
    explanation: 'AUP (AT-C 215): specified parties agree on procedures, practitioner performs and reports findings only. No assurance/opinion. Users assume responsibility for sufficiency. Report restricted to specified parties (can be general use in some cases).',
    reference: 'AT-C 215',
  },
  {
    id: 'aud-wc-162',
    section: 'AUD',
    blueprintArea: 'AUD-II',
    topicId: 'aud-internal',
    topic: 'Internal Audit',
    subtopic: 'Using Internal Auditors',
    difficulty: 'hard',
    question: 'External auditors assess internal auditors\' competence and objectivity to:',
    options: [
      'Replace external audit entirely',
      'Determine extent of reliance on their work for audit evidence',
      'Eliminate testing needs',
      'Transfer responsibility'
    ],
    correctAnswer: 1,
    explanation: 'Can use internal audit work or direct assistance. Assess: organizational status (reporting level), policies, competence, due care. Higher competence/objectivity = more reliance possible. External auditor retains responsibility.',
    reference: 'AU-C 610',
  },

  // REG (4 questions)
  {
    id: 'reg-wc-159',
    section: 'REG',
    blueprintArea: 'REG-II',
    topicId: 'reg-individual',
    topic: 'Individual Taxation',
    subtopic: 'Filing Status',
    difficulty: 'medium',
    question: 'To file as Head of Household, the taxpayer must:',
    options: [
      'Be married',
      'Be unmarried, pay over half the cost of maintaining a home, and have a qualifying person living there',
      'Have only one child',
      'Have income over $100,000'
    ],
    correctAnswer: 1,
    explanation: 'HOH: unmarried (or considered unmarried), pay >50% home costs, qualifying person lived with taxpayer (dependent or certain relatives). Lower tax rates than single, higher standard deduction. Qualifying widow(er) different status.',
    reference: 'IRC Section 2(b)',
  },
  {
    id: 'reg-wc-160',
    section: 'REG',
    blueprintArea: 'REG-III',
    topicId: 'reg-s-corp',
    topic: 'S Corporation',
    subtopic: 'Eligible Shareholders',
    difficulty: 'hard',
    question: 'Eligible S corporation shareholders include:',
    options: [
      'C corporations',
      'Individuals, certain trusts, and estates (not partnerships or corporations)',
      'Partnerships',
      'Foreign persons'
    ],
    correctAnswer: 1,
    explanation: 'S corp shareholders: US individuals, estates, certain trusts (grantor, QSST, ESBT, voting trusts), tax-exempts. NOT: nonresident aliens, partnerships, corporations (except 100% subsidiaries). Violation = termination.',
    reference: 'IRC Section 1361(b)',
  },
  {
    id: 'reg-wc-161',
    section: 'REG',
    blueprintArea: 'REG-I',
    topicId: 'reg-debtor',
    topic: 'Debtor-Creditor',
    subtopic: 'Automatic Stay',
    difficulty: 'medium',
    question: 'The automatic stay in bankruptcy:',
    options: [
      'Only applies to secured creditors',
      'Immediately stops most collection actions against the debtor upon filing',
      'Begins 30 days after filing',
      'Requires court approval'
    ],
    correctAnswer: 1,
    explanation: 'Automatic stay: immediate upon filing. Stops: lawsuits, garnishments, foreclosures, collection calls. Some exceptions: criminal proceedings, certain tax actions, domestic support. Creditors may seek relief from stay.',
    reference: '11 USC Section 362',
  },
  {
    id: 'reg-wc-162',
    section: 'REG',
    blueprintArea: 'REG-IV',
    topicId: 'reg-property',
    topic: 'Property Transactions',
    subtopic: 'Casualty Loss',
    difficulty: 'hard',
    question: 'Personal casualty losses are deductible only if:',
    options: [
      'From any cause',
      'Attributable to a federally declared disaster (post-TCJA)',
      'Over $100',
      'Under $1,000'
    ],
    correctAnswer: 1,
    explanation: 'TCJA: personal casualty losses limited to federally declared disasters (through 2025). Subject to $100 per-event floor and 10% AGI threshold. Business casualty losses still deductible. Insurance proceeds reduce loss.',
    reference: 'IRC Section 165(h)',
  },

  // BAR (5 questions)
  {
    id: 'bar-wc-187',
    section: 'BAR',
    blueprintArea: 'BAR-II',
    topicId: 'bar-valuation',
    topic: 'Valuation',
    subtopic: 'Cost of Equity',
    difficulty: 'hard',
    question: 'The Capital Asset Pricing Model (CAPM) estimates cost of equity as:',
    options: [
      'Risk-free rate only',
      'Risk-free rate plus beta times the market risk premium',
      'Dividend yield only',
      'Book value of equity'
    ],
    correctAnswer: 1,
    explanation: 'CAPM: Re = Rf + Î²(Rm - Rf). Risk-free rate + systematic risk premium. Beta measures sensitivity to market. Market risk premium = expected market return - risk-free. Limitations: single-period, historical beta, market assumptions.',
    reference: 'CAPM',
  },
  {
    id: 'bar-wc-188',
    section: 'BAR',
    blueprintArea: 'BAR-III',
    topicId: 'bar-technical',
    topic: 'Technical Accounting',
    subtopic: 'Guarantees',
    difficulty: 'hard',
    question: 'A guarantee liability is initially measured at:',
    options: [
      'Zero',
      'Fair value of the obligation at issuance',
      'Maximum potential amount',
      'Expected cash outflows only'
    ],
    correctAnswer: 1,
    explanation: 'ASC 460: initial recognition at FV of guarantee obligation (stand-ready obligation). Subsequent: higher of initial less amortization OR contingent liability (ASC 450). Disclose maximum potential and current carrying amount.',
    reference: 'ASC 460-10-25',
  },
  {
    id: 'bar-wc-189',
    section: 'BAR',
    blueprintArea: 'BAR-I',
    topicId: 'bar-analysis',
    topic: 'Financial Statement Analysis',
    subtopic: 'Altman Z-Score',
    difficulty: 'hard',
    question: 'The five ratios in Altman\'s Z-Score for public manufacturing companies include working capital/TA, retained earnings/TA, EBIT/TA, market value equity/book value debt, and:',
    options: [
      'Net income/sales',
      'Sales/total assets',
      'Cash/current liabilities',
      'Debt/equity'
    ],
    correctAnswer: 1,
    explanation: 'Z-Score ratios: WC/TA (liquidity), RE/TA (profitability/leverage), EBIT/TA (productivity), MVE/BVD (solvency), Sales/TA (asset utilization). Z = 1.2X1 + 1.4X2 + 3.3X3 + 0.6X4 + 1.0X5.',
    reference: 'Altman Z-Score',
  },
  {
    id: 'bar-wc-190',
    section: 'BAR',
    blueprintArea: 'BAR-IV',
    topicId: 'bar-planning',
    topic: 'Financial Planning',
    subtopic: 'Capital Rationing',
    difficulty: 'hard',
    question: 'Under capital rationing, projects are selected by:',
    options: [
      'Choosing all positive NPV projects',
      'Ranking by profitability index or NPV per dollar invested within budget constraints',
      'Selecting the largest projects first',
      'Random selection'
    ],
    correctAnswer: 1,
    explanation: 'Capital rationing: limited budget, can\'t fund all positive NPV. Rank by PI (NPV/Investment) or NPV per constrained resource. Select highest ranking until budget exhausted. May not maximize total NPV due to project indivisibility.',
    reference: 'Capital Budgeting',
  },
  {
    id: 'bar-wc-191',
    section: 'BAR',
    blueprintArea: 'BAR-III',
    topicId: 'bar-technical',
    topic: 'Technical Accounting',
    subtopic: 'Variable Interest Consolidation',
    difficulty: 'hard',
    question: 'A company consolidates a VIE when it is the primary beneficiary, meaning:',
    options: [
      'It owns 50%+ voting stock',
      'It has power over significant activities AND obligation to absorb losses or right to receive benefits',
      'It is the largest investor',
      'It has any variable interest'
    ],
    correctAnswer: 1,
    explanation: 'Primary beneficiary: (1) power to direct activities significantly affecting VIE performance, (2) obligation to absorb losses OR right to receive benefits significant to VIE. Both required. Reassess at each reporting date.',
    reference: 'ASC 810-10-25',
  },

  // ISC (4 questions)
  {
    id: 'isc-wc-159',
    section: 'ISC',
    blueprintArea: 'ISC-II',
    topicId: 'isc-security',
    topic: 'Security Controls',
    subtopic: 'Incident Response Phases',
    difficulty: 'hard',
    question: 'The incident response lifecycle includes:',
    options: [
      'Only detection and recovery',
      'Preparation, detection/analysis, containment/eradication/recovery, and post-incident activity',
      'Only prevention',
      'Backup only'
    ],
    correctAnswer: 1,
    explanation: 'NIST incident response: (1) Preparation (plans, training, tools), (2) Detection & Analysis (identify incidents), (3) Containment, Eradication & Recovery (stop spread, remove threat, restore), (4) Post-Incident (lessons learned).',
    reference: 'NIST SP 800-61',
  },
  {
    id: 'isc-wc-160',
    section: 'ISC',
    blueprintArea: 'ISC-I',
    topicId: 'isc-governance',
    topic: 'IT Governance',
    subtopic: 'IT Strategic Alignment',
    difficulty: 'medium',
    question: 'IT strategic alignment ensures:',
    options: [
      'IT operates independently',
      'IT investments and activities support business objectives and strategies',
      'IT budget is minimized',
      'Only technical goals are met'
    ],
    correctAnswer: 1,
    explanation: 'Strategic alignment: IT strategy derived from and supports business strategy. IT enables business capabilities. Requires: communication between IT and business, IT governance representation, business-driven IT prioritization.',
    reference: 'IT Governance',
  },
  {
    id: 'isc-wc-161',
    section: 'ISC',
    blueprintArea: 'ISC-III',
    topicId: 'isc-systems',
    topic: 'Information Systems',
    subtopic: 'RPO and RTO',
    difficulty: 'hard',
    question: 'Recovery Point Objective (RPO) defines:',
    options: [
      'Time to restore systems',
      'Maximum acceptable data loss measured in time (how much data can be lost)',
      'Cost of recovery',
      'Number of backup copies'
    ],
    correctAnswer: 1,
    explanation: 'RPO: acceptable data loss (time between last backup and failure). RTO: acceptable downtime (time to restore service). Together drive BCP/DR strategy. Low RPO = frequent backups. Low RTO = hot standby, replication.',
    reference: 'Business Continuity',
  },
  {
    id: 'isc-wc-162',
    section: 'ISC',
    blueprintArea: 'ISC-IV',
    topicId: 'isc-audit',
    topic: 'IT Audit',
    subtopic: 'Database Controls Testing',
    difficulty: 'hard',
    question: 'Database controls testing should include:',
    options: [
      'Only backup procedures',
      'Access controls, referential integrity, logging, encryption, and change management',
      'Only data entry',
      'Only reporting'
    ],
    correctAnswer: 1,
    explanation: 'Database controls: access (authentication, authorization, admin privileges), data integrity (referential integrity, constraints), encryption (at rest, in transit), audit logging, backup/recovery, change management (schema changes).',
    reference: 'Database Audit',
  },

  // TCP (4 questions)
  {
    id: 'tcp-wc-159',
    section: 'TCP',
    blueprintArea: 'TCP-I',
    topicId: 'tcp-individual',
    topic: 'Individual Tax Compliance',
    subtopic: 'Alimony',
    difficulty: 'hard',
    question: 'Alimony payments under pre-2019 divorce agreements are:',
    options: [
      'Never deductible',
      'Deductible by payer, includible by recipient (unless modified to post-2018 rules)',
      'Capital gains',
      'Tax-free to both'
    ],
    correctAnswer: 1,
    explanation: 'Pre-2019 divorces: alimony deductible by payer (for AGI), taxable to recipient. Post-2018 divorces: no deduction, not taxable. Transitional rules if parties elect post-2018 treatment for modified pre-2019 agreements.',
    reference: 'IRC Section 215/71',
  },
  {
    id: 'tcp-wc-160',
    section: 'TCP',
    blueprintArea: 'TCP-II',
    topicId: 'tcp-entity',
    topic: 'Entity Tax Compliance',
    subtopic: 'Tax Year',
    difficulty: 'medium',
    question: 'S corporations must generally use:',
    options: [
      'Any fiscal year',
      'Calendar year (or establish business purpose for fiscal year)',
      'September 30 year-end',
      'June 30 year-end'
    ],
    correctAnswer: 1,
    explanation: 'S corps: required calendar year unless business purpose or Section 444 election (limited deferral with required payment). Partnerships/S corps: matching rules to prevent excessive deferral. Different from C corps (any year).',
    reference: 'IRC Section 1378',
  },
  {
    id: 'tcp-wc-161',
    section: 'TCP',
    blueprintArea: 'TCP-III',
    topicId: 'tcp-planning',
    topic: 'Tax Planning',
    subtopic: 'Family Limited Partnerships',
    difficulty: 'hard',
    question: 'Family limited partnerships are used in estate planning to:',
    options: [
      'Avoid all taxes',
      'Transfer wealth with valuation discounts (minority interest, lack of marketability)',
      'Increase estate values',
      'Avoid probate only'
    ],
    correctAnswer: 1,
    explanation: 'FLP: parents transfer assets to partnership, gift LP interests to children. Discounts reduce gift/estate value (minority + lack of marketability = 25-40%). IRS scrutiny: must have business purpose, proper administration.',
    reference: 'Estate Planning',
  },
  {
    id: 'tcp-wc-162',
    section: 'TCP',
    blueprintArea: 'TCP-IV',
    topicId: 'tcp-representation',
    topic: 'Tax Representation',
    subtopic: 'Form 2848',
    difficulty: 'medium',
    question: 'Form 2848 Power of Attorney:',
    options: [
      'Allows representation before any agency',
      'Authorizes the representative to represent the taxpayer before the IRS for specific matters',
      'Is valid indefinitely',
      'Requires no signature'
    ],
    correctAnswer: 1,
    explanation: 'Form 2848: authorizes representative (CPA, attorney, EA) to represent before IRS for specific tax matters and periods. Must specify types, years. Usually good for 7 years (can specify term). Revokes prior POAs for same matters.',
    reference: 'Form 2848',
  },
];
