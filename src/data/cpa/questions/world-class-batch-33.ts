// World-Class Questions Batch 33 - Exam Quality MCQs
// 25 questions across all CPA exam sections

import { Question } from '../../../types';

export const WORLD_CLASS_BATCH_33: Question[] = [
  // FAR (4 questions)
  {
    id: 'far-wc-167',
    section: 'FAR',
    courseId: 'cpa',
    blueprintArea: 'FAR-II',
    topicId: 'far-asc606',
    topic: 'Revenue Recognition',
    subtopic: 'Contract Costs',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'Incremental costs of obtaining a contract (e.g., sales commissions) are:',
    options: [
      'Capitalized if expected to be recovered and amortized over contract period (or practical expedient if ≤1 year)',
      'Treated as inventory',
      'Always capitalized indefinitely',
      'Always expensed immediately',
    ],
    correctAnswer: 0,
    explanation: 'ASC 340-40: capitalize incremental contract acquisition costs if expect recovery. Amortize consistent with goods/services transfer. Practical expedient: expense if amortization period ≤1 year. Costs to fulfill analyzed separately.',
    reference: 'ASC 340-40-25',
  },
  {
    id: 'far-wc-168',
    section: 'FAR',
    courseId: 'cpa',
    blueprintArea: 'FAR-I',
    topicId: 'far-fair-value',
    topic: 'Fair Value',
    subtopic: 'Valuation Approaches',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'The income approach to fair value measurement uses:',
    options: [
      'Replacement cost',
      'Historical cost',
      'Present value of future cash flows or earnings',
      'Comparable market transactions',
    ],
    correctAnswer: 2,
    explanation: 'ASC 820 approaches: Market (comparable transactions), Income (DCF, option pricing), Cost (replacement/reproduction cost). Income = PV of future amounts. Select approach appropriate for asset/liability and available data.',
    reference: 'ASC 820-10-35',
  },
  {
    id: 'far-wc-169',
    section: 'FAR',
    courseId: 'cpa',
    blueprintArea: 'FAR-III',
    topicId: 'far-related-party',
    topic: 'Related Parties',
    subtopic: 'Disclosure Requirements',
    difficulty: 'medium',
    skillLevel: 'Application',
    question: 'Related party transaction disclosures must include:',
    options: [
      'No disclosures required',
      'Only transactions over $1 million',
      'Nature of relationship, description of transactions, amounts, and terms including balances due',
      'Only the names of related parties',
    ],
    correctAnswer: 2,
    explanation: 'ASC 850: disclose relationship nature, transaction description, dollar amounts, terms and manner of settlement, receivables/payables from related parties. Cannot state transactions were at arm\'s length unless verifiable.',
    reference: 'ASC 850-10-50',
  },
  {
    id: 'far-wc-170',
    section: 'FAR',
    courseId: 'cpa',
    blueprintArea: 'FAR-IV',
    topicId: 'far-nfp',
    topic: 'Not-for-Profit',
    subtopic: 'Donated Services',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'Donated services are recognized as revenue when they:',
    options: [
      'Involve any volunteer time',
      'Are from board members only',
      'Create or enhance nonfinancial assets or require specialized skills that would typically be purchased',
      'Are always recognized',
    ],
    correctAnswer: 2,
    explanation: 'ASC 958-605: recognize contributed services if: (1) create/enhance nonfinancial assets, or (2) require specialized skills (legal, accounting, medical, construction), would typically be purchased, are provided by persons with those skills.',
    reference: 'ASC 958-605-25-16',
  },

  // AUD (4 questions)
  {
    id: 'aud-wc-167',
    section: 'AUD',
    courseId: 'cpa',
    blueprintArea: 'AUD-I',
    topicId: 'aud-independence',
    topic: 'Independence',
    subtopic: 'Covered Members',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'Under AICPA rules, covered members whose independence must be maintained include:',
    options: [
      'Only firm partners',
      'Only the engagement partner',
      'All employees in any office',
      'Engagement team, those who can influence engagement, partners in office, firm, and immediate family of these',
    ],
    correctAnswer: 3,
    explanation: 'Covered members: engagement team, can influence engagement (chain of command, quality control), partner/manager in client office, the firm collectively, immediate family of these individuals. Broader than just engagement partner.',
    reference: 'AICPA ET 1.224',
  },
  {
    id: 'aud-wc-168',
    section: 'AUD',
    courseId: 'cpa',
    blueprintArea: 'AUD-III',
    topicId: 'aud-procedures',
    topic: 'Audit Procedures',
    subtopic: 'Litigation Confirmation',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'The attorney letter addresses:',
    options: [
      'Only paid legal fees',
      'Only settled cases',
      'All potential lawsuits ever',
      'Pending/threatened litigation, assessment of outcomes, and unasserted claims identified by management',
    ],
    correctAnswer: 3,
    explanation: 'Inquiry to attorney: pending/threatened litigation, assessment of outcome, estimate of loss, unasserted claims management identifies. Attorney may limit response (confidentiality). Refusal = scope limitation.',
    reference: 'AU-C 501.09',
  },
  {
    id: 'aud-wc-169',
    section: 'AUD',
    courseId: 'cpa',
    blueprintArea: 'AUD-V',
    topicId: 'aud-review',
    topic: 'Review Engagements',
    subtopic: 'Review Procedures',
    difficulty: 'medium',
    skillLevel: 'Application',
    question: 'A review engagement primarily consists of:',
    options: [
      'Comprehensive testing like an audit',
      'Only reading the financial statements',
      'No procedures at all',
      'Inquiry and analytical procedures to obtain limited assurance',
    ],
    correctAnswer: 3,
    explanation: 'Review (AR-C 90 / SSARS): primarily inquiry and analytics. Limited assurance (negative form: nothing came to attention). Less extensive than audit. No confirmation, observation, or inspection typically. Summary of procedures in report.',
    reference: 'AR-C 90.20',
  },
  {
    id: 'aud-wc-170',
    section: 'AUD',
    courseId: 'cpa',
    blueprintArea: 'AUD-II',
    topicId: 'aud-materiality',
    topic: 'Materiality',
    subtopic: 'Performance Materiality',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'Performance materiality is set at:',
    options: [
      'Zero',
      'Same as overall materiality',
      'Higher than materiality',
      'Less than overall materiality to reduce risk of aggregate misstatements exceeding materiality',
    ],
    correctAnswer: 3,
    explanation: 'Performance materiality: set lower than overall to reduce risk that sum of detected + undetected misstatements exceeds materiality. Amount depends on assessed risk, prior experience. Applied to specific procedures.',
    reference: 'AU-C 320.09',
  },

  // REG (4 questions)
  {
    id: 'reg-wc-167',
    section: 'REG',
    courseId: 'cpa',
    blueprintArea: 'REG-II',
    topicId: 'reg-individual',
    topic: 'Individual Taxation',
    subtopic: 'Schedule K-1 Items',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'Separately stated items on Schedule K-1 include:',
    options: [
      'Items that could affect partners/shareholders differently (capital gains, charitable contributions, tax credits)',
      'Total partnership income only',
      'Only losses',
      'Only ordinary income',
    ],
    correctAnswer: 0,
    explanation: 'Separately stated: items that could affect different taxpayers differently due to limitations or character. Includes: capital gains/losses, Section 1231, charitable, interest, dividends, credits, foreign taxes, Section 179.',
    reference: 'IRC Section 702',
  },
  {
    id: 'reg-wc-168',
    section: 'REG',
    courseId: 'cpa',
    blueprintArea: 'REG-III',
    topicId: 'reg-corporate',
    topic: 'Corporate Taxation',
    subtopic: 'Charitable Contribution Limit',
    difficulty: 'medium',
    skillLevel: 'Application',
    question: 'Corporate charitable contribution deductions are limited to:',
    options: [
      '25% of taxable income',
      '10% of taxable income (computed before DRD, NOL carryback, charitable deduction)',
      'No limit',
      '50% of taxable income',
    ],
    correctAnswer: 1,
    explanation: 'Corporate charitable limit: 10% of modified taxable income (before DRD, NOL carryback, charitable deduction, capital loss carryback). Excess carries forward 5 years. Different from individual limits (60% AGI cash).',
    reference: 'IRC Section 170(b)(2)',
  },
  {
    id: 'reg-wc-169',
    section: 'REG',
    courseId: 'cpa',
    blueprintArea: 'REG-I',
    topicId: 'reg-contracts',
    topic: 'Contract Law',
    subtopic: 'Impossibility',
    difficulty: 'medium',
    skillLevel: 'Application',
    question: 'Performance of a contract may be excused by impossibility when:',
    options: [
      'One party changes their mind',
      'An unforeseen event makes performance objectively impossible, not just more difficult',
      'Market conditions change',
      'Performance becomes more expensive',
    ],
    correctAnswer: 1,
    explanation: 'Impossibility: unforeseen event after formation makes performance objectively impossible (destruction of subject matter, death in personal service, supervening illegality). Impracticability: extremely burdensome (narrower application).',
    reference: 'Contract Law',
  },
  {
    id: 'reg-wc-170',
    section: 'REG',
    courseId: 'cpa',
    blueprintArea: 'REG-IV',
    topicId: 'reg-property',
    topic: 'Property Transactions',
    subtopic: 'Section 197 Intangibles',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'Section 197 intangibles are amortized over:',
    options: [
      '15 years on a straight-line basis',
      '7 years',
      'Useful life',
      '5 years',
    ],
    correctAnswer: 0,
    explanation: 'Section 197: 15-year straight-line amortization. Includes goodwill, going concern value, workforce, customer lists, licenses, covenants not to compete, franchises. Anti-churning rules for related party acquisitions.',
    reference: 'IRC Section 197',
  },

  // BAR (5 questions)
  {
    id: 'bar-wc-197',
    section: 'BAR',
    courseId: 'cpa',
    blueprintArea: 'BAR-II',
    topicId: 'bar-valuation',
    topic: 'Valuation',
    subtopic: 'EV/EBITDA Multiple',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'Enterprise Value / EBITDA is preferred over P/E because:',
    options: [
      'It is capital structure neutral and excludes non-cash depreciation and amortization',
      'It ignores profitability',
      'It only uses book values',
      'It requires fewer inputs',
    ],
    correctAnswer: 0,
    explanation: 'EV/EBITDA: capital structure neutral (EV includes debt), ignores non-cash D&A, allows comparison across different debt levels. P/E affected by leverage and depreciation policies. Use appropriate multiples for purpose.',
    reference: 'Valuation Multiples',
  },
  {
    id: 'bar-wc-198',
    section: 'BAR',
    courseId: 'cpa',
    blueprintArea: 'BAR-III',
    topicId: 'bar-technical',
    topic: 'Technical Accounting',
    subtopic: 'Stock Dividends',
    difficulty: 'medium',
    skillLevel: 'Application',
    question: 'Small stock dividends (under 20-25%) are recorded at:',
    options: [
      'Par value only',
      'Fair market value of shares issued',
      'Zero',
      'Book value'
    ],
    correctAnswer: 1,
    explanation: 'Small stock dividends (<20-25%): FMV of shares issued. Dr. Retained Earnings, Cr. Common Stock (par) + APIC (excess). Large stock dividends (>20-25%): par value only. Stock splits: memo entry or adjust par.',
    reference: 'ASC 505-20-30',
  },
  {
    id: 'bar-wc-199',
    courseId: 'cpa',
    section: 'BAR',
    blueprintArea: 'BAR-I',
    topic: 'Financial Statement Analysis',
    subtopic: 'Asset Turnover',
    difficulty: 'medium',
    skillLevel: 'Application',
    question: 'Company P has sales of $10M and average total assets of $4M. Company Q has sales of $6M and average total assets of $2M. Which company uses its assets more efficiently?',
    options: [
      'Company P, because it generates more total revenue',
      'Both are equally efficient with the same asset turnover of 3.0x',
      'Company Q, because its asset turnover of 3.0x equals Company P\'s 2.5x',
      'Company P, because its asset turnover of 2.5x exceeds Company Q\'s 3.0x',
    ],
    correctAnswer: 2,
    explanation: 'Company P: Asset turnover = $10M / $4M = 2.5x. Company Q: Asset turnover = $6M / $2M = 3.0x. Company Q generates $3.00 in revenue per dollar of assets vs. Company P\'s $2.50. Higher asset turnover indicates more efficient use of assets. This is a key component of DuPont analysis: ROA = Profit Margin × Asset Turnover.',
    reference: 'Efficiency Ratios',
  },
  {
    id: 'bar-wc-200',
    section: 'BAR',
    courseId: 'cpa',
    blueprintArea: 'BAR-IV',
    topicId: 'bar-planning',
    topic: 'Financial Planning',
    subtopic: 'Break-Even Analysis',
    difficulty: 'medium',
    skillLevel: 'Application',
    question: 'The break-even point in units equals:',
    options: [
      'Variable costs / price',
      'Fixed costs / price',
      'Fixed costs / contribution margin per unit',
      'Sales / variable cost ratio',
    ],
    correctAnswer: 2,
    explanation: 'BEP units = Fixed Costs / (Price - Variable Cost per Unit) = FC / CM per unit. BEP sales $ = FC / CM ratio. At BEP: total revenue = total costs, zero profit. Foundation for CVP analysis.',
    reference: 'Cost-Volume-Profit',
  },
  {
    id: 'bar-wc-201',
    section: 'BAR',
    courseId: 'cpa',
    blueprintArea: 'BAR-III',
    topicId: 'bar-technical',
    topic: 'Technical Accounting',
    subtopic: 'Share-Based Payment Modification',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'A modification of share-based compensation that increases fair value:',
    options: [
      'Is ignored',
      'Requires immediate full expense',
      'Results in recognition of incremental compensation cost plus remaining original cost',
      'Triggers reversal of prior expense',
    ],
    correctAnswer: 2,
    explanation: 'ASC 718 modification: incremental FV (modified FV - original FV at modification date) recognized prospectively. Type I = increase value, Type II = no value change but vesting change, Type III = improbable to probable.',
    reference: 'ASC 718-20-35',
  },

  // ISC (4 questions)
  {
    id: 'isc-wc-167',
    section: 'ISC',
    courseId: 'cpa',
    blueprintArea: 'ISC-II',
    topicId: 'isc-security',
    topic: 'Security Controls',
    subtopic: 'WAF',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'A Web Application Firewall (WAF) protects against:',
    options: [
      'Only email threats',
      'Application-layer attacks like SQL injection, XSS, and OWASP Top 10 vulnerabilities',
      'Physical security issues',
      'Only network-level attacks',
    ],
    correctAnswer: 1,
    explanation: 'WAF: application layer (Layer 7) protection. Inspects HTTP traffic, blocks SQLi, XSS, CSRF, file inclusion. Complements network firewall. Signature and behavioral rules. Cloud or on-premises deployment.',
    reference: 'Web Security',
  },
  {
    id: 'isc-wc-168',
    section: 'ISC',
    courseId: 'cpa',
    blueprintArea: 'ISC-I',
    topicId: 'isc-governance',
    topic: 'IT Governance',
    subtopic: 'Vendor Risk Management',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'Vendor risk management should include:',
    options: [
      'Only price negotiation',
      'Due diligence, ongoing monitoring, contract terms, right-to-audit, and exit planning',
      'Vendor selection only',
      'Only contract signing',
    ],
    correctAnswer: 1,
    explanation: 'Vendor risk: pre-contract due diligence (security, financial), contract terms (SLAs, data protection, audit rights), ongoing monitoring (performance, security posture), exit strategy (data return, transition). Criticality-based tiers.',
    reference: 'Third-Party Risk',
  },
  {
    id: 'isc-wc-169',
    section: 'ISC',
    courseId: 'cpa',
    blueprintArea: 'ISC-III',
    topicId: 'isc-systems',
    topic: 'Information Systems',
    subtopic: 'API Gateway',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'An API gateway provides:',
    options: [
      'Database access',
      'Only monitoring',
      'Centralized authentication, rate limiting, request routing, and API management',
      'Only data storage',
    ],
    correctAnswer: 2,
    explanation: 'API gateway: single entry point for APIs. Functions: authentication/authorization, rate limiting, request routing, protocol translation, caching, logging, throttling, load balancing. Simplifies client interaction with microservices.',
    reference: 'API Management',
  },
  {
    id: 'isc-wc-170',
    section: 'ISC',
    courseId: 'cpa',
    blueprintArea: 'ISC-IV',
    topicId: 'isc-audit',
    topic: 'IT Audit',
    subtopic: 'DR Plan Testing',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'Disaster recovery plan testing methods include:',
    options: [
      'Only production failover',
      'Only reading the plan',
      'Annual review only',
      'Tabletop exercises, walkthrough tests, simulation, parallel tests, and full interruption tests',
    ],
    correctAnswer: 3,
    explanation: 'DR testing: tabletop (discussion), walkthrough (step through plan), simulation (scripted scenario), parallel (backup activated alongside production), full interruption (complete failover). Increasing cost/risk/realism. Regular testing essential.',
    reference: 'BCP/DR Testing',
  },

  // TCP (4 questions)
  {
    id: 'tcp-wc-167',
    courseId: 'cpa',
    section: 'TCP',
    blueprintArea: 'TCP-I',
    topic: 'Individual Tax Compliance',
    subtopic: 'Gift Splitting',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'A taxpayer has $120,000 in wages and $45,000 in qualified business income from a sole proprietorship that is not a specified service trade or business. The taxpayer\'s filing status is single and taxable income before the QBI deduction is $140,000. What is the IRC §199A deduction?',
    options: [
      '$9,000 — 20% of QBI, since taxable income is below the threshold',
      '$28,000 — 20% of taxable income',
      '$45,000 — the full QBI amount',
      '$0 — the QBI deduction does not apply to sole proprietors',
    ],
    correctAnswer: 0,
    explanation: 'The QBI deduction under IRC §199A is the lesser of: (1) 20% of QBI = 20% × $45,000 = $9,000, or (2) 20% of taxable income before the QBI deduction. Since taxable income is $140,000 (below the $191,950 single threshold for 2024), the W-2 wage and property limitations do not apply, and since it\'s not an SSTB, no phaseout applies. The QBI deduction is $9,000.',
    reference: 'IRC Section 2513',
  },
  {
    id: 'tcp-wc-168',
    section: 'TCP',
    courseId: 'cpa',
    blueprintArea: 'TCP-II',
    topicId: 'tcp-entity',
    topic: 'Entity Tax Compliance',
    subtopic: 'Thin Capitalization',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'Section 163(j) limits business interest deductions to:',
    options: [
      'No limit',
      '100% of interest expense',
      '50% of net income',
      '30% of adjusted taxable income (ATI) plus business interest income',
    ],
    correctAnswer: 3,
    explanation: 'Section 163(j): interest deduction limited to 30% ATI + business interest income + floor plan financing interest. Excess carries forward indefinitely. Exceptions for small businesses (<$27M gross receipts), certain industries.',
    reference: 'IRC Section 163(j)',
  },
  {
    id: 'tcp-wc-169',
    section: 'TCP',
    courseId: 'cpa',
    blueprintArea: 'TCP-III',
    topicId: 'tcp-planning',
    topic: 'Tax Planning',
    subtopic: 'GRAT',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'A Grantor Retained Annuity Trust (GRAT) transfers wealth when:',
    options: [
      'Annuity payments are skipped',
      'Assets lose value',
      'The grantor dies during the term',
      'Assets appreciate faster than the IRS assumed rate (Section 7520 rate)',
    ],
    correctAnswer: 3,
    explanation: 'GRAT: grantor contributes assets, receives annuity for term, remainder to beneficiaries. If appreciation > 7520 rate, excess passes tax-free. Zeroed-out GRAT: annuity = FV, minimal/no gift. Risk: grantor death during term.',
    reference: 'Estate Planning',
  },
  {
    id: 'tcp-wc-170',
    section: 'TCP',
    courseId: 'cpa',
    blueprintArea: 'TCP-IV',
    topicId: 'tcp-representation',
    topic: 'Tax Representation',
    subtopic: 'Innocent Spouse Relief',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'Innocent spouse relief under Section 6015 may be available when:',
    options: [
      'All joint filers automatically',
      'Only for small amounts',
      'The couple is still married',
      'An understatement is attributable to the other spouse, the innocent spouse didn\'t know, and it would be inequitable to hold them liable',
    ],
    correctAnswer: 3,
    explanation: 'Innocent spouse Section 6015(b): understatement from erroneous items attributable to other spouse, requesting spouse didn\'t know/have reason to know, inequitable to hold liable. Also: separation of liability (6015(c)) and equitable relief (6015(f)).',
    reference: 'IRC Section 6015',
  },
];
