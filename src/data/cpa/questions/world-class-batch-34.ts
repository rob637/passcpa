// World-Class Questions Batch 34 - Exam Quality MCQs
// 25 questions across all CPA exam sections

import { Question } from '../../../types';

export const WORLD_CLASS_BATCH_34: Question[] = [
  // FAR (4 questions)
  {
    id: 'far-wc-171',
    courseId: 'cpa',
    section: 'FAR',
    blueprintArea: 'FAR-II',
    topic: 'Consolidation',
    subtopic: 'Intercompany Elimination',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'In a downstream intercompany sale, Parent Corp. sells goods to its 70%-owned subsidiary for $800,000 (cost $600,000). Sub resells 75% of the goods to external parties by year-end. What amount of unrealized intercompany profit remains in consolidated ending inventory?',
    options: [
      '$200,000',
      '$150,000',
      '$50,000',
      '$35,000',
    ],
    correctAnswer: 2,
    explanation: 'Total intercompany profit = $800,000 − $600,000 = $200,000. Sub resold 75%, so 25% remains in ending inventory. Unrealized profit in ending inventory = 25% × $200,000 = $50,000. This must be eliminated in consolidation. In a downstream sale (parent to subsidiary), the entire unrealized profit is eliminated against the parent\'s (controlling) interest — the NCI percentage does not affect the elimination amount for downstream transactions.',
    reference: 'ASC 810 Elimination',
  },
  {
    id: 'far-wc-172',
    section: 'FAR',
    courseId: 'cpa',
    blueprintArea: 'FAR-I',
    topicId: 'far-contingencies',
    topic: 'Contingencies',
    subtopic: 'Probable and Estimable',
    difficulty: 'medium',
    skillLevel: 'Application',
    question: 'A loss contingency is accrued when it is:',
    options: [
      'Remote and estimable',
      'Probable that a loss has been incurred and the amount can be reasonably estimated',
      'Possible only',
      'Possible and estimable',
    ],
    correctAnswer: 1,
    explanation: 'ASC 450: accrue when (1) probable (likely) that liability incurred, (2) amount reasonably estimable. If range, use best estimate or low end. Disclose if reasonably possible. No disclosure if remote.',
    reference: 'ASC 450-20-25',
  },
  {
    id: 'far-wc-173',
    courseId: 'cpa',
    section: 'FAR',
    blueprintArea: 'FAR-III',
    topic: 'Subsequent Events',
    subtopic: 'Recognized vs Non-Recognized',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'On February 15, Year 2, before the Year 1 financial statements are issued, a major customer of Blake Corp. files for bankruptcy. Blake had a $500,000 receivable from this customer at December 31, Year 1. Evidence indicates the customer was having financial difficulties before year-end. What should Blake do?',
    options: [
      'Disclose the bankruptcy as a nonrecognized subsequent event only',
      'Adjust the Year 1 financial statements to reflect the impaired receivable',
      'Record the loss in Year 2 when the bankruptcy was filed',
      'No action required because the filing occurred after year-end',
    ],
    correctAnswer: 1,
    explanation: 'Under ASC 855-10-25, a subsequent event that provides additional evidence about conditions existing at the balance sheet date (Type I — recognized subsequent event) requires adjustment of the financial statements. Since the customer\'s financial difficulties existed at December 31, Year 1, the bankruptcy filing confirms a condition at the balance sheet date. Blake should adjust the Year 1 allowance for doubtful accounts to reflect the impaired receivable.',
    reference: 'ASC 855-10-25',
  },
  {
    id: 'far-wc-174',
    section: 'FAR',
    courseId: 'cpa',
    blueprintArea: 'FAR-IV',
    topicId: 'far-government',
    topic: 'Government Accounting',
    subtopic: 'Capital Projects Fund',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'A capital projects fund is used to account for:',
    options: [
      'Resources restricted for acquisition or construction of major capital facilities',
      'Internal services',
      'Pension contributions',
      'Operating activities',
    ],
    correctAnswer: 0,
    explanation: 'Capital projects fund: financial resources restricted for major capital acquisition/construction (except proprietary or trust funds). Modified accrual basis. After project complete, assets reported in government-wide statements.',
    reference: 'GASB 34',
  },

  // AUD (4 questions)
  {
    id: 'aud-wc-171',
    section: 'AUD',
    courseId: 'cpa',
    blueprintArea: 'AUD-IV',
    topicId: 'aud-documentation',
    topic: 'Documentation',
    subtopic: 'Assembly Deadline',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'Audit documentation should be assembled in final audit file within:',
    options: [
      '30 days of report release',
      '120 days',
      '90 days',
      '60 days of report release date (45 days for issuers)',
    ],
    correctAnswer: 3,
    explanation: 'Documentation assembly: non-issuers 60 days after report release; issuers 45 days (PCAOB). Administrative changes only after assembly. Retain 7 years from report date (issuers) or 5 years (non-issuers).',
    reference: 'AU-C 230.A23',
  },
  {
    id: 'aud-wc-172',
    section: 'AUD',
    courseId: 'cpa',
    blueprintArea: 'AUD-II',
    topicId: 'aud-controls',
    topic: 'Internal Control',
    subtopic: 'Deficiency Evaluation',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'A material weakness in internal control exists when:',
    options: [
      'Only fraud is possible',
      'Controls are not documented',
      'Any deficiency is identified',
      'There is reasonable possibility that a material misstatement would not be prevented or detected timely',
    ],
    correctAnswer: 3,
    explanation: 'Material weakness: deficiency or combination where reasonable possibility of material misstatement not prevented/detected timely. Significant deficiency: less severe but merits attention. Severity depends on likelihood and magnitude.',
    reference: 'AS 2201.A7',
  },
  {
    id: 'aud-wc-173',
    section: 'AUD',
    courseId: 'cpa',
    blueprintArea: 'AUD-V',
    topicId: 'aud-attestation',
    topic: 'Attestation',
    subtopic: 'Prospective Financial Information',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'An examination of a financial forecast provides:',
    options: [
      'Compilation only',
      'Guarantee of results',
      'No assurance',
      'Opinion on whether assumptions provide reasonable basis and presentation conforms to guidelines',
    ],
    correctAnswer: 3,
    explanation: 'Examination (AT-C 305): opinion on whether assumptions are reasonable and presentation conforms to AICPA guidelines. Different from actual results (forward-looking). Forecast: expected results. Projection: hypothetical assumptions.',
    reference: 'AT-C 305',
  },
  {
    id: 'aud-wc-174',
    section: 'AUD',
    courseId: 'cpa',
    blueprintArea: 'AUD-III',
    topicId: 'aud-evidence',
    topic: 'Audit Evidence',
    subtopic: 'Revenue Testing',
    difficulty: 'medium',
    skillLevel: 'Application',
    question: 'Revenue testing typically focuses on:',
    options: [
      'Presentation only',
      'Classification only',
      'Understatement risk',
      'Overstatement risk (occurrence and cutoff)',
    ],
    correctAnswer: 3,
    explanation: 'Revenue: overstatement risk (occurrence - did transaction occur?, cutoff - correct period?). Test from records to supporting documents. Completeness less risky for revenue but tested through analytical procedures and receivables.',
    reference: 'Revenue Audit',
  },

  // REG (4 questions)
  {
    id: 'reg-wc-171',
    section: 'REG',
    courseId: 'cpa',
    blueprintArea: 'REG-III',
    topicId: 'reg-c-corp',
    topic: 'C Corporation',
    subtopic: 'Section 351 Boot',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'In a Section 351 exchange, boot received results in:',
    options: [
      'Full gain recognition',
      'Gain recognized equal to the lesser of boot received or gain realized',
      'Loss recognition',
      'No gain recognition',
    ],
    correctAnswer: 1,
    explanation: 'Section 351 boot: recognize gain = lesser of (boot FMV) or (gain realized). Boot includes cash and non-stock property received. Losses never recognized in Section 351. Basis in stock reduced by boot received, increased by gain recognized.',
    reference: 'IRC Section 351(b)',
  },
  {
    id: 'reg-wc-172',
    section: 'REG',
    courseId: 'cpa',
    blueprintArea: 'REG-II',
    topicId: 'reg-individual',
    topic: 'Individual Taxation',
    subtopic: 'Foreign Tax Credit',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'The foreign tax credit limitation is calculated as:',
    options: [
      'State tax credit',
      'Foreign income only',
      'US tax × (foreign source taxable income / worldwide taxable income)',
      'Foreign taxes paid without limit',
    ],
    correctAnswer: 2,
    explanation: 'FTC limitation: US tax × (foreign source income / worldwide income). Cannot credit more foreign tax than US tax on foreign income. Excess credits carry back 1 year, forward 10 years. Separate limitation categories.',
    reference: 'IRC Section 904',
  },
  {
    id: 'reg-wc-173',
    section: 'REG',
    courseId: 'cpa',
    blueprintArea: 'REG-I',
    topicId: 'reg-corporations',
    topic: 'Corporate Law',
    subtopic: 'Piercing Corporate Veil',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'Courts may pierce the corporate veil when:',
    options: [
      'Directors exercise judgment',
      'Normal business operations occur',
      'There is unity of interest, inadequate capitalization, or use of corporate form to perpetrate fraud',
      'The corporation is profitable',
    ],
    correctAnswer: 2,
    explanation: 'Pierce the veil: disregard corporate liability protection. Factors: alter ego (no separation), inadequate capitalization, commingling funds, fraud/injustice. Shareholders personally liable. Courts reluctant but will pierce for abuse.',
    reference: 'Corporate Law',
  },
  {
    id: 'reg-wc-174',
    section: 'REG',
    courseId: 'cpa',
    blueprintArea: 'REG-IV',
    topicId: 'reg-property',
    topic: 'Property Transactions',
    subtopic: 'Depreciation Recapture 1250',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'Section 1250 recapture for real property generally:',
    options: [
      'Never applies',
      'Applies at capital gains rates',
      'Applies only to excess depreciation over straight-line (minimal under current rules)',
      'Recaptures all depreciation as ordinary income',
    ],
    correctAnswer: 2,
    explanation: 'Section 1250: recapture as ordinary income only amount of depreciation taken in excess of straight-line. Since real property usually SL, minimal 1250 recapture. But "unrecaptured Section 1250 gain" taxed at 25% max rate regardless.',
    reference: 'IRC Section 1250',
  },

  // BAR (5 questions)
  {
    id: 'bar-wc-202',
    section: 'BAR',
    courseId: 'cpa',
    blueprintArea: 'BAR-I',
    topicId: 'bar-analysis',
    topic: 'Financial Statement Analysis',
    subtopic: 'Accounts Receivable Turnover',
    difficulty: 'medium',
    skillLevel: 'Application',
    question: 'Days sales outstanding (DSO) is calculated as:',
    options: [
      'Sales / receivables',
      '365 / (Net credit sales / Average accounts receivable)',
      'Receivables × 12',
      'Cash / sales'
    ],
    correctAnswer: 1,
    explanation: 'DSO = 365 / A/R turnover = 365 / (Net credit sales / Avg A/R). Measures average collection period. Lower = faster collection. Industry comparison important. Also called average collection period.',
    reference: 'Efficiency Analysis',
  },
  {
    id: 'bar-wc-203',
    section: 'BAR',
    courseId: 'cpa',
    blueprintArea: 'BAR-II',
    topicId: 'bar-valuation',
    topic: 'Valuation',
    subtopic: 'Football Field Chart',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'A "football field" valuation chart displays:',
    options: [
      'Range of values from multiple valuation approaches to show where they overlap',
      'Only one valuation method',
      'Historical stock prices',
      'Dividend yields',
    ],
    correctAnswer: 0,
    explanation: 'Football field: horizontal bar chart showing valuation ranges from different methods (DCF, comparable companies, precedent transactions, 52-week trading range). Visualizes consensus range and methodology differences.',
    reference: 'Valuation Summary',
  },
  {
    id: 'bar-wc-204',
    section: 'BAR',
    courseId: 'cpa',
    blueprintArea: 'BAR-III',
    topicId: 'bar-technical',
    topic: 'Technical Accounting',
    subtopic: 'Revenue Barter Transactions',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'Revenue from barter transactions should be measured at:',
    options: [
      'Fair value of goods or services received or given up, whichever is more clearly determinable',
      'Zero',
      'List price of goods exchanged',
      'Historical cost',
    ],
    correctAnswer: 0,
    explanation: 'Barter revenue: fair value of goods/services received, or given up if more clearly determinable. If FV not determinable, measure at carrying amount (possibly no revenue). Common in advertising, software exchanges.',
    reference: 'ASC 606 Application',
  },
  {
    id: 'bar-wc-205',
    section: 'BAR',
    courseId: 'cpa',
    blueprintArea: 'BAR-IV',
    topicId: 'bar-cost',
    topic: 'Cost Accounting',
    subtopic: 'Target Costing',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'A consumer electronics company plans a new tablet. Market research sets the price at $399. Management requires a 35% gross margin. Engineering estimates the current manufacturing cost at $280. What is the cost gap, and what approach should management take?',
    options: [
      'Cost gap is $20.65; apply value engineering to eliminate non-value-added costs',
      'No cost gap exists; the product can be launched immediately',
      'Cost gap is $80.65; abandon the product entirely',
      'Cost gap is $20.65; increase the selling price to cover the gap',
    ],
    correctAnswer: 0,
    explanation: 'Target cost = $399 × (1 − 0.35) = $399 × 0.65 = $259.35. Cost gap = Current cost − Target cost = $280.00 − $259.35 = $20.65. Target costing requires bringing costs to the target through value engineering rather than raising prices, since the price is market-determined.',
    reference: 'Target Costing and Value Engineering',
  },
  {
    id: 'bar-wc-206',
    section: 'BAR',
    courseId: 'cpa',
    blueprintArea: 'BAR-I',
    topicId: 'bar-analysis',
    topic: 'Financial Statement Analysis',
    subtopic: 'Earnings Persistence',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'Persistent earnings indicate:',
    options: [
      'Volatile income',
      'Earnings likely to recur and serve as better predictors of future performance',
      'One-time gains',
      'Manipulation',
    ],
    correctAnswer: 1,
    explanation: 'Persistence: degree to which current earnings recur. Analysts prefer persistent (sustainable) earnings for forecasting/valuation. Non-recurring items (restructuring, gains/losses) less useful for projection.',
    reference: 'Earnings Quality',
  },

  // ISC (4 questions)
  {
    id: 'isc-wc-171',
    section: 'ISC',
    courseId: 'cpa',
    blueprintArea: 'ISC-I',
    topicId: 'isc-governance',
    topic: 'IT Governance',
    subtopic: 'IT Portfolio Management',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'IT portfolio management involves:',
    options: [
      'Only asset inventory',
      'Only project selection',
      'Hardware management only',
      'Managing IT investments as a portfolio to optimize value, balance risk, and align with strategy',
    ],
    correctAnswer: 3,
    explanation: 'IT portfolio: treat IT investments (projects, applications, infrastructure) as portfolio. Balance: risk/return, run/grow/transform, short/long-term. Prioritize based on strategic alignment, ROI, risk. Continuous review.',
    reference: 'IT Portfolio Management',
  },
  {
    id: 'isc-wc-172',
    section: 'ISC',
    courseId: 'cpa',
    blueprintArea: 'ISC-II',
    topicId: 'isc-security',
    topic: 'Security Controls',
    subtopic: 'Security Awareness',
    difficulty: 'medium',
    skillLevel: 'Application',
    question: 'Effective security awareness programs should include:',
    options: [
      'Only annual emails',
      'Only technical controls',
      'Password requirements only',
      'Regular training, phishing simulations, policy communication, and metrics to measure effectiveness',
    ],
    correctAnswer: 3,
    explanation: 'Security awareness: ongoing training (not just annual), simulated phishing, clear policies, role-based training, measure effectiveness (phishing click rates, reporting), reinforce through multiple channels.',
    reference: 'Security Awareness',
  },
  {
    id: 'isc-wc-173',
    section: 'ISC',
    courseId: 'cpa',
    blueprintArea: 'ISC-III',
    topicId: 'isc-systems',
    topic: 'Information Systems',
    subtopic: 'Containerization',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'Container technology (e.g., Docker) differs from virtual machines in that:',
    options: [
      'VMs are lighter weight',
      'Containers require hypervisor',
      'Containers are larger',
      'Containers share the host OS kernel, using fewer resources with faster startup',
    ],
    correctAnswer: 3,
    explanation: 'Containers: share host OS kernel, lightweight, fast startup, portable. VMs: full OS per VM, hypervisor, more isolation but heavier. Containers ideal for microservices. Security considerations differ.',
    reference: 'Container Technology',
  },
  {
    id: 'isc-wc-174',
    section: 'ISC',
    courseId: 'cpa',
    blueprintArea: 'ISC-IV',
    topicId: 'isc-audit',
    topic: 'IT Audit',
    subtopic: 'Backup Testing',
    difficulty: 'medium',
    skillLevel: 'Application',
    question: 'Regular backup testing should verify:',
    options: [
      'Tape storage only',
      'Only that backups complete',
      'Only backup logs',
      'Data can be successfully restored and applications function correctly using restored data',
    ],
    correctAnswer: 3,
    explanation: 'Backup testing: verify restoration works, data integrity intact, applications function with restored data. Test different scenarios (full, partial, point-in-time). Document results. Test frequency based on criticality.',
    reference: 'Backup Controls',
  },

  // TCP (4 questions)
  {
    id: 'tcp-wc-171',
    section: 'TCP',
    courseId: 'cpa',
    blueprintArea: 'TCP-II',
    topicId: 'tcp-entity',
    topic: 'Entity Tax Compliance',
    subtopic: 'Passive Activity Material Participation',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'Material participation in an activity for individual partners/S corp shareholders requires meeting tests such as:',
    options: [
      '8 hours total',
      'Any involvement',
      'Investment of capital only',
      '500 hours during the year, or substantially all participation, or 100+ hours with no one participating more',
    ],
    correctAnswer: 3,
    explanation: 'Material participation tests (Reg. 1.469-5T): 500+ hours, substantially all participation, 100+ hours (no one more), any 5 of 10 years, personal service 3 years, facts and circumstances. Pass any one = not passive.',
    reference: 'Reg. 1.469-5T',
  },
  {
    id: 'tcp-wc-172',
    section: 'TCP',
    courseId: 'cpa',
    blueprintArea: 'TCP-I',
    topicId: 'tcp-individual',
    topic: 'Individual Tax Compliance',
    subtopic: 'Retirement Distribution Taxation',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'Distributions from traditional IRAs are taxed as:',
    options: [
      'Tax-free',
      'Capital gains',
      'Self-employment income',
      'Ordinary income (attributable to deductible contributions and earnings)',
    ],
    correctAnswer: 3,
    explanation: 'Traditional IRA: deductible contributions + earnings taxed as ordinary income when distributed. Nondeductible contributions back tax-free (pro-rata rule). Early distribution penalty (10%) may apply. RMDs required at 73.',
    reference: 'IRC Section 408',
  },
  {
    id: 'tcp-wc-173',
    section: 'TCP',
    courseId: 'cpa',
    blueprintArea: 'TCP-III',
    topicId: 'tcp-planning',
    topic: 'Tax Planning',
    subtopic: 'Net Unrealized Appreciation',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'Net Unrealized Appreciation (NUA) strategy allows:',
    options: [
      'Avoiding all taxes',
      'Rolling over to Roth only',
      'Tax-free distributions',
      'Distribution of employer stock from qualified plan with NUA taxed at LTCG rates instead of ordinary',
    ],
    correctAnswer: 3,
    explanation: 'NUA: distribute employer stock in-kind from qualified plan. Cost basis = ordinary income. NUA (appreciation) = LTCG when stock sold (even if immediately). Can be advantageous for highly appreciated employer stock.',
    reference: 'NUA Rules',
  },
  {
    id: 'tcp-wc-174',
    section: 'TCP',
    courseId: 'cpa',
    blueprintArea: 'TCP-IV',
    topicId: 'tcp-representation',
    topic: 'Tax Representation',
    subtopic: 'Private Letter Rulings',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'A private letter ruling (PLR):',
    options: [
      'Must be followed by courts',
      'Is publicly binding',
      'Is binding on all taxpayers',
      'Provides IRS position on a specific taxpayer\'s specific transaction and cannot be relied upon by others',
    ],
    correctAnswer: 3,
    explanation: 'PLR: IRS written response to specific taxpayer\'s prospective transaction. Binding on IRS for that taxpayer/transaction. Cannot be cited as precedent by others. Useful for complex/novel transactions. Fee required.',
    reference: 'Rev. Proc.',
  },
];
