// World-Class Questions Batch 35 - Exam Quality MCQs
// 25 questions across all CPA exam sections

import { Question } from '../../../types';

export const WORLD_CLASS_BATCH_35: Question[] = [
  // FAR (4 questions)
  {
    id: 'far-wc-175',
    section: 'FAR',
    courseId: 'cpa',
    blueprintArea: 'FAR-II',
    topicId: 'far-revenue',
    topic: 'Revenue Recognition',
    subtopic: 'Bill-and-Hold Arrangements',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'Revenue recognition for bill-and-hold arrangements requires:',
    options: [
      'Substantive reason for arrangement, customer has title and risk, goods identified separately, and currently ready for transfer',
      'No special criteria',
      'Customer physical possession',
      'Immediate recognition regardless of criteria',
    ],
    correctAnswer: 0,
    explanation: 'Bill-and-hold (ASC 606): recognize when control transfers. Criteria: substantive reason for arrangement, product separately identified, currently ready for transfer, entity cannot use product or direct to another customer.',
    reference: 'ASC 606-10-55-81',
  },
  {
    id: 'far-wc-176',
    section: 'FAR',
    courseId: 'cpa',
    blueprintArea: 'FAR-I',
    topicId: 'far-earnings',
    topic: 'Earnings Per Share',
    subtopic: 'Diluted EPS',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'For diluted EPS, the treasury stock method assumes:',
    options: [
      'Options converted to bonds',
      'Exercise of in-the-money options with proceeds used to buy back shares at average price',
      'No options exercised',
      'All options exercised regardless of price',
    ],
    correctAnswer: 1,
    explanation: 'Treasury stock method: assume in-the-money options exercised. Proceeds (exercise price × options) used to repurchase shares at average market price. Net shares issued added to denominator. Only dilutive if exercise price < average price.',
    reference: 'ASC 260',
  },
  {
    id: 'far-wc-177',
    section: 'FAR',
    courseId: 'cpa',
    blueprintArea: 'FAR-III',
    topicId: 'far-changes',
    topic: 'Accounting Changes',
    subtopic: 'Change in Estimate',
    difficulty: 'medium',
    skillLevel: 'Application',
    question: 'A change in depreciation method is treated as:',
    options: [
      'Retroactive restatement',
      'Error correction',
      'Change in accounting estimate effected by a change in principle (applied prospectively)',
      'Prior period adjustment',
    ],
    correctAnswer: 2,
    explanation: 'Per ASC 250, change in depreciation method = change in estimate effected by change in principle. Apply prospectively (current and future periods). No restatement. Disclose nature and effect of change.',
    reference: 'ASC 250-10-45-18',
  },
  {
    id: 'far-wc-178',
    section: 'FAR',
    courseId: 'cpa',
    blueprintArea: 'FAR-IV',
    topicId: 'far-nonprofit',
    topic: 'Non-Profit Accounting',
    subtopic: 'Donor Restriction Release',
    difficulty: 'medium',
    skillLevel: 'Application',
    question: 'Net assets with donor restrictions are released when:',
    options: [
      'Never released',
      'Annual basis automatically',
      'The restriction is satisfied (either purpose or time restrictions)',
      'The donation is received',
    ],
    correctAnswer: 2,
    explanation: 'Net assets released: reclassified from with restrictions to without restrictions when stipulated time has elapsed or purpose accomplished. Dr. Net Assets with Restrictions, Cr. Net Assets without Restrictions.',
    reference: 'ASC 958',
  },

  // AUD (4 questions)
  {
    id: 'aud-wc-175',
    section: 'AUD',
    courseId: 'cpa',
    blueprintArea: 'AUD-IV',
    topicId: 'aud-reports',
    topic: 'Reporting',
    subtopic: 'PCAOB Reporting Model',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'Under PCAOB reporting standards, auditors must discuss:',
    options: [
      'Only opinion paragraph',
      'All audit procedures',
      'Internal controls only',
      'Critical audit matters (CAMs) that were communicated to the audit committee',
    ],
    correctAnswer: 3,
    explanation: 'PCAOB AS 3101: CAMs are matters arising from the audit communicated to audit committee that (1) relate to material accounts/disclosures, (2) involved especially challenging, subjective, or complex auditor judgment.',
    reference: 'AS 3101',
  },
  {
    id: 'aud-wc-176',
    section: 'AUD',
    courseId: 'cpa',
    blueprintArea: 'AUD-II',
    topicId: 'aud-tech',
    topic: 'Audit Technology',
    subtopic: 'Data Analytics in Audit',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'When using data analytics in auditing, the auditor should:',
    options: [
      'Rely solely on analytics',
      'Ignore traditional procedures',
      'Use only client-provided analysis',
      'Understand the data source reliability, design appropriate tests, and evaluate results with professional skepticism',
    ],
    correctAnswer: 3,
    explanation: 'Data analytics: auditor must understand data (completeness, accuracy, source systems), design tests addressing risks, evaluate whether results provide sufficient appropriate evidence, maintain skepticism on anomalies.',
    reference: 'Audit Data Analytics',
  },
  {
    id: 'aud-wc-177',
    section: 'AUD',
    courseId: 'cpa',
    blueprintArea: 'AUD-III',
    topicId: 'aud-confirmation',
    topic: 'Confirmation',
    subtopic: 'Negative vs Positive',
    difficulty: 'medium',
    skillLevel: 'Application',
    question: 'Negative confirmation requests are appropriate when:',
    options: [
      'Material misstatements are likely',
      'Control risk is high',
      'Fraud is suspected',
      'Control risk is assessed as low, balances are many and small, and low exception rate expected',
    ],
    correctAnswer: 3,
    explanation: 'Negative confirmations: respond only if disagree. Appropriate when (1) assessed RMM low, (2) many small balances, (3) expect low exception rate, (4) recipients will consider request. Less persuasive than positive.',
    reference: 'AU-C 505',
  },
  {
    id: 'aud-wc-178',
    courseId: 'cpa',
    section: 'AUD',
    blueprintArea: 'AUD-I',
    topic: 'Engagement Quality',
    subtopic: 'EQ Reviewer',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'An auditor is evaluating a client\'s estimate for the environmental remediation liability. The range of possible outcomes is $2 million to $8 million, with no single amount within the range being a better estimate than any other. Under ASC 450 (contingencies), what amount should the client record?',
    options: [
      '$8 million — the maximum estimated loss',
      '$5 million — the midpoint of the range',
      '$2 million — the minimum amount in the range when no best estimate exists within the range',
      'No amount should be recorded until the exact liability is determined',
    ],
    correctAnswer: 2,
    explanation: 'Under ASC 450-20-30, when a loss is probable and a range of loss is estimated but no single amount within the range is a better estimate, the entity records the minimum amount of the range ($2 million). The remainder of the range ($0 to $6 million additional) should be disclosed. This is a frequently tested concept for estimated liabilities where the outcome is uncertain.',
    reference: 'ISQM 2 / AS 1220',
  },

  // REG (4 questions)
  {
    id: 'reg-wc-175',
    section: 'REG',
    courseId: 'cpa',
    blueprintArea: 'REG-III',
    topicId: 'reg-s-corp',
    topic: 'S Corporation',
    subtopic: 'Built-In Gains Tax',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'The S corporation built-in gains tax applies when:',
    options: [
      'Only to inventory',
      'Former C corp elects S status and sells appreciated assets within 5 years of conversion',
      'All S corps',
      'Any sale occurs',
    ],
    correctAnswer: 1,
    explanation: 'BIG tax: former C corp elects S status. If sells assets with built-in gain at conversion within recognition period (5 years), corporate-level tax at highest rate. Limits: NUBIG, taxable income. Prevents C → S → sale to avoid corporate tax.',
    reference: 'IRC Section 1374',
  },
  {
    id: 'reg-wc-176',
    section: 'REG',
    courseId: 'cpa',
    blueprintArea: 'REG-II',
    topicId: 'reg-individual',
    topic: 'Individual Taxation',
    subtopic: 'Social Security Benefits Taxation',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'Up to what percentage of Social Security benefits may be taxable?',
    options: [
      'Never taxable',
      '85% based on provisional income thresholds',
      '50% maximum',
      '100%',
    ],
    correctAnswer: 1,
    explanation: 'SS benefits: 0%, 50%, or 85% taxable based on provisional income (AGI + tax-exempt interest + 50% SS benefits). First tier ~$25K-$34K single: up to 50%. Above ~$34K single: up to 85%. Complex formula.',
    reference: 'IRC Section 86',
  },
  {
    id: 'reg-wc-177',
    section: 'REG',
    courseId: 'cpa',
    blueprintArea: 'REG-I',
    topicId: 'reg-contracts',
    topic: 'Contract Law',
    subtopic: 'Anticipatory Repudiation',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'Anticipatory repudiation occurs when:',
    options: [
      'A party clearly indicates before performance is due that they will not perform',
      'Contract is partially performed',
      'Price changes',
      'Performance is late',
    ],
    correctAnswer: 0,
    explanation: 'Anticipatory repudiation: unequivocal statement (words or conduct) before performance due that party will not perform. Non-breaching party may: treat as immediate breach, suspend own performance, urge retraction, await performance.',
    reference: 'UCC 2-610',
  },
  {
    id: 'reg-wc-178',
    section: 'REG',
    courseId: 'cpa',
    blueprintArea: 'REG-IV',
    topicId: 'reg-property',
    topic: 'Property Transactions',
    subtopic: 'Section 179 Recapture',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'Section 179 expense is recaptured as ordinary income if:',
    options: [
      'Business use drops to 50% or less in subsequent year',
      'Asset appreciates',
      'Never recaptured',
      'Asset is fully used',
    ],
    correctAnswer: 0,
    explanation: 'Section 179 recapture: if business use drops to 50% or less after year of acquisition. Recapture as ordinary income the excess of 179 deduction over depreciation that would have been allowed. Applies to listed property especially.',
    reference: 'IRC Section 179(d)',
  },

  // BAR (5 questions)
  {
    id: 'bar-wc-207',
    courseId: 'cpa',
    section: 'BAR',
    blueprintArea: 'BAR-I',
    topic: 'Financial Statement Analysis',
    subtopic: 'Operating Leverage',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'Division Alpha has fixed costs of $4M and variable cost ratio of 50%. Division Beta has fixed costs of $1.5M and variable cost ratio of 75%. Both divisions have $8M in sales. Which division has greater downside risk if sales drop 20%?',
    options: [
      'Division Beta, because its higher variable cost ratio erodes margins faster',
      'Division Alpha, because its higher DOL causes operating income to fall by a greater percentage',
      'Both are equally affected because they have the same total costs at $8M revenue',
      'Division Alpha, but only because it has higher absolute fixed costs',
    ],
    correctAnswer: 1,
    explanation: 'Alpha: CM = $8M × 50% = $4M, OI = $4M − $4M = $0 (breakeven). Beta: CM = $8M × 25% = $2M, OI = $2M − $1.5M = $500K. Alpha\'s DOL is undefined (at breakeven), meaning any revenue decline causes losses. Beta\'s DOL = $2M/$500K = 4.0. Alpha has greater downside risk because it operates at breakeven with high fixed costs—any revenue decline immediately produces losses.',
    reference: 'Operating Leverage',
  },
  {
    id: 'bar-wc-208',
    section: 'BAR',
    courseId: 'cpa',
    blueprintArea: 'BAR-II',
    topicId: 'bar-valuation',
    topic: 'Valuation',
    subtopic: 'LBO Analysis',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'In a leveraged buyout (LBO) model, returns are driven by:',
    options: [
      'Revenue alone',
      'Asset sales only',
      'Debt paydown, EBITDA growth, and multiple expansion',
      'Tax benefits only',
    ],
    correctAnswer: 2,
    explanation: 'LBO returns: (1) debt paydown - use cash flows to repay debt, (2) EBITDA growth - operational improvements, (3) multiple expansion - sell at higher EV/EBITDA than purchased. Sponsor targets 20%+ IRR. Highly leveraged structure.',
    reference: 'LBO Modeling',
  },
  {
    id: 'bar-wc-209',
    section: 'BAR',
    courseId: 'cpa',
    blueprintArea: 'BAR-III',
    topicId: 'bar-technical',
    topic: 'Technical Accounting',
    subtopic: 'Business Combinations - Measurement Period',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'The measurement period for adjusting provisional amounts in a business combination is:',
    options: [
      '6 months',
      'Up to one year from acquisition date',
      '2 years',
      'Indefinite'
    ],
    correctAnswer: 1,
    explanation: 'ASC 805 measurement period: maximum one year from acquisition date. Adjust provisional amounts as new information obtained about facts at acquisition date. After period: changes through income statement.',
    reference: 'ASC 805-10-25',
  },
  {
    id: 'bar-wc-210',
    courseId: 'cpa',
    section: 'BAR',
    blueprintArea: 'BAR-IV',
    topic: 'Cost Accounting',
    subtopic: 'Kaizen Costing',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'Which of the following best distinguishes kaizen costing from standard costing?',
    options: [
      'Standard costing sets fixed targets; kaizen costing targets continuous cost reduction each period',
      'Kaizen costing uses only actual costs; standard costing uses budgeted costs',
      'Standard costing applies to manufacturing; kaizen costing applies only to services',
      'Kaizen costing eliminates variance analysis entirely',
    ],
    correctAnswer: 0,
    explanation: 'The fundamental difference: standard costing establishes fixed cost benchmarks and measures variances against them, while kaizen costing starts with the current actual cost and targets continuous, incremental cost reductions each period. Kaizen costing originated in Japanese manufacturing (Toyota Production System) and reflects a philosophy of continuous improvement (kaizen). Both approaches use variance analysis, but kaizen\'s targets shift downward each period.',
    reference: 'Kaizen Costing',
  },
  {
    id: 'bar-wc-211',
    section: 'BAR',
    courseId: 'cpa',
    blueprintArea: 'BAR-I',
    topicId: 'bar-analysis',
    topic: 'Financial Statement Analysis',
    subtopic: 'Z-Score Model',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'Altman\'s Z-score model predicts:',
    options: [
      'Probability of bankruptcy using financial ratios',
      'Stock price appreciation',
      'Revenue growth',
      'Dividend policy',
    ],
    correctAnswer: 0,
    explanation: 'Altman Z-score: bankruptcy prediction model. Combines 5 ratios (working capital/TA, RE/TA, EBIT/TA, MVE/TL, Sales/TA). Score < 1.8 distress zone, > 2.99 safe zone. Different versions for private/manufacturing/non-manufacturing.',
    reference: 'Bankruptcy Prediction',
  },

  // ISC (4 questions)
  {
    id: 'isc-wc-175',
    section: 'ISC',
    courseId: 'cpa',
    blueprintArea: 'ISC-I',
    topicId: 'isc-governance',
    topic: 'IT Governance',
    subtopic: 'Data Governance',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'An organization\'s IT environment includes 15 legacy applications that cannot be patched because the vendors no longer provide support. These applications process financial data and are connected to the corporate network. The applications run on obsolete operating systems (Windows Server 2003). Management has no plans to replace these applications. What should the auditor evaluate?',
    options: [
      'Legacy applications are acceptable as long as they function correctly',
      'Unsupported, unpatchable applications on obsolete operating systems represent a significant security risk \u2014 the auditor should evaluate whether compensating controls (network isolation, enhanced monitoring, additional access restrictions) adequately mitigate the risk, and whether management has a remediation roadmap',
      'Legacy applications are outside the scope of IT controls testing',
      'The lack of vendor support is irrelevant if the applications are stable',
    ],
    correctAnswer: 1,
    explanation: 'Unsupported systems with known unpatched vulnerabilities on a connected network create persistent risk: (1) no security patches for new vulnerabilities, (2) no vendor support for configuration hardening, (3) compliance violations (many frameworks require current supported software), (4) increasing attack surface over time. The auditor should evaluate compensating controls and assess whether the risk is appropriately managed or represents a material weakness.',
    reference: 'Data Governance',
  },
  {
    id: 'isc-wc-176',
    section: 'ISC',
    courseId: 'cpa',
    blueprintArea: 'ISC-II',
    topicId: 'isc-security',
    topic: 'Security Controls',
    subtopic: 'Security Operations Center',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'An auditor is reviewing a company\'s privileged access management (PAM) solution. The PAM system records all sessions of users accessing critical financial systems with administrative privileges. The auditor reviews the session recordings and discovers that an IT administrator accessed the payroll database at 2 AM on a Sunday and exported 10,000 employee salary records. The access was legitimate per PAM policy (the admin has 24/7 access), but no business justification was documented. What should the auditor recommend?',
    options: [
      'No concern because the access was within the admin\'s authorized privileges',
      'Even authorized access should require business justification for sensitive data — the auditor should recommend implementing just-in-time (JIT) access, mandatory justification logging, and anomaly detection for unusual access patterns to critical financial data',
      'Access at unusual hours is normal for IT administrators and should not be questioned',
      'The PAM system\'s session recording is sufficient without additional controls',
    ],
    correctAnswer: 1,
    explanation: 'Authorized access does not equal appropriate access. Exporting 10,000 salary records at 2 AM without documented justification is an anomalous event that could indicate data exfiltration, insider threat, or preparation for identity theft. Modern PAM implementations should include: (1) just-in-time privilege elevation, (2) mandatory business justification, (3) behavioral analytics for anomaly detection, and (4) automatic alerts for bulk data exports from sensitive systems.',
    reference: 'SOC Operations',
  },
  {
    id: 'isc-wc-177',
    section: 'ISC',
    courseId: 'cpa',
    blueprintArea: 'ISC-III',
    topicId: 'isc-systems',
    topic: 'Information Systems',
    subtopic: 'Database Normalization',
    difficulty: 'medium',
    skillLevel: 'Application',
    question: 'Third normal form (3NF) requires:',
    options: [
      'Single table design',
      'Data redundancy',
      'Only unique primary keys',
      'No transitive dependencies; non-key attributes must depend only on the primary key',
    ],
    correctAnswer: 3,
    explanation: '3NF: table in 2NF and no transitive dependencies (non-key attribute depends on another non-key attribute). Every non-key attribute depends directly on primary key. Reduces redundancy, improves data integrity.',
    reference: 'Database Normalization',
  },
  {
    id: 'isc-wc-178',
    section: 'ISC',
    courseId: 'cpa',
    blueprintArea: 'ISC-IV',
    topicId: 'isc-audit',
    topic: 'IT Audit',
    subtopic: 'Network Segmentation Review',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'During network segmentation audit, the auditor verifies:',
    options: [
      'Only bandwidth',
      'Only IP addresses',
      'User passwords',
      'Proper isolation between network zones, firewall rules enforcing boundaries, and compliance with architecture standards',
    ],
    correctAnswer: 3,
    explanation: 'Segmentation audit: verify VLANs/subnets properly isolate zones (PCI data, PII, general users), firewall/ACL rules enforce boundaries, no unauthorized routes between segments, architecture matches documentation.',
    reference: 'Network Audit',
  },

  // TCP (4 questions)
  {
    id: 'tcp-wc-175',
    courseId: 'cpa',
    section: 'TCP',
    blueprintArea: 'TCP-II',
    topic: 'Entity Tax Compliance',
    subtopic: 'Section 754 Election',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'A C corporation has two equal shareholders. The corporation earned $400,000 and the shareholders want to minimize double taxation. They each receive a $100,000 salary (total $200,000). The remaining $200,000 is retained. What is the total current-year tax burden (corporate + individual)?',
    options: [
      'Corporate tax on $200,000 retained earnings ($42,000 at 21%) plus individual tax on $200,000 total salaries — the salary deduction reduces corporate-level tax',
      '21% on the full $400,000 plus individual tax on salaries',
      'No corporate tax because salaries equal half the income',
      '15% on the full $400,000',
    ],
    correctAnswer: 0,
    explanation: 'Reasonable compensation paid to shareholder-employees is deductible by the C corporation, reducing taxable income. Corporate taxable income = $400,000 − $200,000 salaries = $200,000. Corporate tax = $200,000 × 21% = $42,000. Each shareholder reports $100,000 salary as ordinary income on their individual returns. The salaries are subject to FICA. The $200,000 retained earnings face potential double taxation if later distributed as dividends.',
    reference: 'IRC Section 754',
  },
  {
    id: 'tcp-wc-176',
    section: 'TCP',
    courseId: 'cpa',
    blueprintArea: 'TCP-I',
    topicId: 'tcp-individual',
    topic: 'Individual Tax Compliance',
    subtopic: 'Installment Sale Default',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'If a buyer defaults on an installment sale, the seller:',
    options: [
      'Continues reporting installments',
      'Ignores the default',
      'Always has a loss',
      'May have gain or loss based on FMV of repossessed property versus remaining installment obligation',
    ],
    correctAnswer: 3,
    explanation: 'Installment default/repossession: compute gain/loss. Real property: Section 1038 limits gain recognition (FMV - basis; gain previously deferred). Personal property: different rules. May need to recapture prior deferrals.',
    reference: 'IRC Section 453B/1038',
  },
  {
    id: 'tcp-wc-177',
    section: 'TCP',
    courseId: 'cpa',
    blueprintArea: 'TCP-III',
    topicId: 'tcp-planning',
    topic: 'Tax Planning',
    subtopic: 'Charitable Lead Trust',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'A charitable lead trust (CLT) provides:',
    options: [
      'Income to charity first, then remainder to non-charitable beneficiaries',
      'Immediate full deduction',
      'No charitable benefit',
      'Income to beneficiaries first',
    ],
    correctAnswer: 0,
    explanation: 'CLT: charity receives income stream for term, then remainder to non-charitable beneficiaries (family). Opposite of CRT. Gift/estate tax deduction for PV of income stream. Useful in low interest rate environment.',
    reference: 'CLT Planning',
  },
  {
    id: 'tcp-wc-178',
    section: 'TCP',
    courseId: 'cpa',
    blueprintArea: 'TCP-IV',
    topicId: 'tcp-representation',
    topic: 'Tax Representation',
    subtopic: 'Fast Track Settlement',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'IRS Fast Track Settlement:',
    options: [
      'Only for large cases',
      'Is mandatory',
      'Requires Tax Court',
      'Uses Appeals officer as mediator while case still in Exam to accelerate resolution',
    ],
    correctAnswer: 3,
    explanation: 'Fast Track: mediation during Exam phase (not after). Appeals officer facilitates. Goal: resolve issues in 60-120 days. Voluntary. Available for various taxpayers (small business, individuals, large/mid-size businesses).',
    reference: 'IRS Fast Track',
  },
];
