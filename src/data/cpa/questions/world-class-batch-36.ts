// World-Class Questions Batch 36 - Exam Quality MCQs
// 25 questions across all CPA exam sections

import { Question } from '../../../types';

export const WORLD_CLASS_BATCH_36: Question[] = [
  // FAR (4 questions)
  {
    id: 'far-wc-179',
    section: 'FAR',
    courseId: 'cpa',
    blueprintArea: 'FAR-II',
    topicId: 'far-investments',
    topic: 'Investments',
    subtopic: 'Held-to-Maturity',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'Held-to-maturity debt securities are reported at:',
    options: [
      'Fair value through OCI',
      'Amortized cost, with premium/discount amortized over the life of the security',
      'Fair value through earnings',
      'Lower of cost or market'
    ],
    correctAnswer: 1,
    explanation: 'HTM (ASC 320): amortized cost basis. Premium/discount amortized using effective interest method (straight-line allowed if immaterial). No FV adjustments. Must have positive intent and ability to hold to maturity.',
    reference: 'ASC 320-10-35',
  },
  {
    id: 'far-wc-180',
    section: 'FAR',
    courseId: 'cpa',
    blueprintArea: 'FAR-I',
    topicId: 'far-expenses',
    topic: 'Expenses',
    subtopic: 'Research and Development',
    difficulty: 'medium',
    skillLevel: 'Application',
    question: 'Costs of developing computer software for internal use:',
    options: [
      'Always expensed',
      'Capitalized during application development stage, expensed for preliminary project stage',
      'Never capitalized',
      'Immediately written off'
    ],
    correctAnswer: 1,
    explanation: 'ASC 350-40: internal-use software. Preliminary stage (conceptual) = expense. Application development stage = capitalize when both (1) management commits and (2) feasible. Post-implementation = expense unless significant enhancement.',
    reference: 'ASC 350-40-25',
  },
  {
    id: 'far-wc-181',
    section: 'FAR',
    courseId: 'cpa',
    blueprintArea: 'FAR-III',
    topicId: 'far-segment',
    topic: 'Segment Reporting',
    subtopic: 'Quantitative Thresholds',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'An operating segment is reportable if it meets which quantitative threshold?',
    options: [
      '5% of combined revenue',
      '10% of combined revenue, reported profit/loss, or combined assets',
      '25% of assets',
      '50% of revenue'
    ],
    correctAnswer: 1,
    explanation: 'ASC 280: reportable if ≥ 10% of (1) combined revenue, (2) greater of combined profit or combined loss (absolute), or (3) combined assets. All other segments combined in "all other" category.',
    reference: 'ASC 280-10-50',
  },
  {
    id: 'far-wc-182',
    section: 'FAR',
    courseId: 'cpa',
    blueprintArea: 'FAR-IV',
    topicId: 'far-government',
    topic: 'Government Accounting',
    subtopic: 'Encumbrances',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'At year-end, outstanding encumbrances that will be honored in the subsequent year are:',
    options: [
      'Reported as expenditures',
      'Reported as part of committed or assigned fund balance',
      'Ignored',
      'Reported as liabilities'
    ],
    correctAnswer: 1,
    explanation: 'Encumbrances: commitments for future spending (purchase orders). Year-end: reverse entry, report as restricted/committed/assigned fund balance depending on government policy. Not expenditures until goods/services received.',
    reference: 'GASB 54',
  },

  // AUD (4 questions)
  {
    id: 'aud-wc-179',
    section: 'AUD',
    courseId: 'cpa',
    blueprintArea: 'AUD-IV',
    topicId: 'aud-reports',
    topic: 'Reporting',
    subtopic: 'Dual Dating',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'Dual dating on an audit report is used when:',
    options: [
      'Two auditors sign',
      'A subsequent event occurring after fieldwork but before report issuance relates to a specific matter',
      'Two years are covered',
      'Management changes date'
    ],
    correctAnswer: 1,
    explanation: 'Dual dating: subsequent event discovered after fieldwork completion. Option 1: extend procedures to new date (single date). Option 2: dual date - original date "except Note X dated [later date]." Limits auditor responsibility.',
    reference: 'AU-C 560',
  },
  {
    id: 'aud-wc-180',
    section: 'AUD',
    courseId: 'cpa',
    blueprintArea: 'AUD-II',
    topicId: 'aud-internal',
    topic: 'Internal Control',
    subtopic: 'Service Organization Reports',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'A SOC 1 Type 2 report covers:',
    options: [
      'Design of controls only',
      'Design and operating effectiveness of controls relevant to user entities\' internal control over financial reporting',
      'Security controls only',
      'Privacy principles'
    ],
    correctAnswer: 1,
    explanation: 'SOC 1 Type 2: controls at service org relevant to user entity ICFR. Covers description, suitability of design AND operating effectiveness over a period (not point-in-time). For financial reporting purposes. Type 1 = design only.',
    reference: 'AT-C 320',
  },
  {
    id: 'aud-wc-181',
    section: 'AUD',
    courseId: 'cpa',
    blueprintArea: 'AUD-III',
    topicId: 'aud-estimates',
    topic: 'Accounting Estimates',
    subtopic: 'Auditor Responsibilities',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'When auditing accounting estimates, the auditor must:',
    options: [
      'Accept management\'s estimates',
      'Evaluate reasonableness of assumptions and methods, and consider indicators of bias',
      'Only verify calculations',
      'Ignore hindsight'
    ],
    correctAnswer: 1,
    explanation: 'Estimates (AU-C 540): evaluate (1) method appropriateness, (2) significant assumptions reasonableness, (3) data relevance/reliability, (4) management bias indicators. May develop independent expectation. Consider subsequent events.',
    reference: 'AU-C 540',
  },
  {
    id: 'aud-wc-182',
    section: 'AUD',
    courseId: 'cpa',
    blueprintArea: 'AUD-I',
    topicId: 'aud-planning',
    topic: 'Audit Planning',
    subtopic: 'Audit Strategy',
    difficulty: 'medium',
    skillLevel: 'Application',
    question: 'The overall audit strategy establishes:',
    options: [
      'Specific procedures only',
      'Scope, timing, direction of audit and guides development of detailed audit plan',
      'Staff assignments only',
      'Fee arrangements'
    ],
    correctAnswer: 1,
    explanation: 'Audit strategy: high-level approach. Establishes scope, timing, direction. Considers entity characteristics, reporting requirements, preliminary materiality. Guides detailed audit plan development. Documented and updated as needed.',
    reference: 'AU-C 300',
  },

  // REG (4 questions)
  {
    id: 'reg-wc-179',
    section: 'REG',
    courseId: 'cpa',
    blueprintArea: 'REG-III',
    topicId: 'reg-partnership',
    topic: 'Partnership Taxation',
    subtopic: 'Substantial Economic Effect',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'Partnership special allocations must have substantial economic effect, which requires:',
    options: [
      'Only a written agreement',
      'Economic effect (capital accounts maintained, liquidating distributions per capitals) and substantiality (reasonable possibility of affecting partners\' shares)',
      'Equal allocations',
      'IRS approval'
    ],
    correctAnswer: 1,
    explanation: 'SEE: allocations must have economic effect (follow capitals) AND be substantial (not just tax shifting with offsetting allocations). If not SEE, allocate per partner\'s interest in partnership (PIP) rules.',
    reference: 'Reg. 1.704-1(b)',
  },
  {
    id: 'reg-wc-180',
    section: 'REG',
    courseId: 'cpa',
    blueprintArea: 'REG-II',
    topicId: 'reg-individual',
    topic: 'Individual Taxation',
    subtopic: 'Hobby Loss Rules',
    difficulty: 'medium',
    skillLevel: 'Application',
    question: 'Under the hobby loss rules, deductions for a hobby are:',
    options: [
      'Fully deductible',
      'Limited to hobby income with no excess deduction (and subject to itemized deduction limitations)',
      'Never allowed',
      'Deductible as business losses'
    ],
    correctAnswer: 1,
    explanation: 'Section 183: hobby (not-for-profit activity) deductions limited to hobby income. No net loss. Under TCJA (through 2025), hobby deductions not deductible at all as misc itemized deductions suspended. Income still taxable.',
    reference: 'IRC Section 183',
  },
  {
    id: 'reg-wc-181',
    section: 'REG',
    courseId: 'cpa',
    blueprintArea: 'REG-I',
    topicId: 'reg-agency',
    topic: 'Agency Law',
    subtopic: 'Actual vs Apparent Authority',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'Apparent authority exists when:',
    options: [
      'Principal explicitly grants authority',
      'Principal\'s conduct causes third party to reasonably believe agent has authority',
      'Agent claims authority',
      'Written contract exists'
    ],
    correctAnswer: 1,
    explanation: 'Apparent authority: reasonable belief by third party based on principal\'s manifestations (actions, words, prior dealings). Principal bound even without actual authority. Differs from actual authority (granted) and implied (necessary for duties).',
    reference: 'Agency Law',
  },
  {
    id: 'reg-wc-182',
    section: 'REG',
    courseId: 'cpa',
    blueprintArea: 'REG-IV',
    topicId: 'reg-estate',
    topic: 'Estate Tax',
    subtopic: 'Unified Credit',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'The unified credit against estate tax:',
    options: [
      'Applies only to gifts',
      'Exempts a specified amount from combined gift and estate taxes based on applicable exclusion amount',
      'Is unlimited',
      'Applies only to estates'
    ],
    correctAnswer: 1,
    explanation: 'Unified credit: exempts AEA from gift/estate tax (~$13.61M 2024, $12.92M 2023). Credit = tax on AEA. Lifetime gifts reduce available estate exemption. Portability allows surviving spouse to use deceased spouse\'s unused exemption.',
    reference: 'IRC Section 2010',
  },

  // BAR (5 questions)
  {
    id: 'bar-wc-212',
    section: 'BAR',
    courseId: 'cpa',
    blueprintArea: 'BAR-I',
    topicId: 'bar-analysis',
    topic: 'Financial Statement Analysis',
    subtopic: 'DuPont Analysis Extended',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'The extended (5-factor) DuPont model decomposes ROE into:',
    options: [
      'Only profit margin and turnover',
      'Tax burden, interest burden, operating margin, asset turnover, and financial leverage',
      'Three components only',
      'Revenue growth only'
    ],
    correctAnswer: 1,
    explanation: '5-factor DuPont: ROE = (NI/EBT) × (EBT/EBIT) × (EBIT/Sales) × (Sales/Assets) × (Assets/Equity). Tax burden, interest burden, operating margin, asset turnover, leverage. Detailed profitability driver analysis.',
    reference: 'Advanced DuPont',
  },
  {
    id: 'bar-wc-213',
    section: 'BAR',
    courseId: 'cpa',
    blueprintArea: 'BAR-II',
    topicId: 'bar-valuation',
    topic: 'Valuation',
    subtopic: 'Sum of Parts Valuation',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'Sum-of-the-parts (SOTP) valuation is appropriate when:',
    options: [
      'Company has single segment',
      'Company has distinct business units that can be valued separately using different multiples',
      'Company is private',
      'Only for small companies'
    ],
    correctAnswer: 1,
    explanation: 'SOTP: conglomerates with diverse segments. Value each segment using appropriate comps (different industries). Sum segment values, add corporate value, subtract corporate costs/debt. May reveal conglomerate discount.',
    reference: 'SOTP Valuation',
  },
  {
    id: 'bar-wc-214',
    section: 'BAR',
    courseId: 'cpa',
    blueprintArea: 'BAR-III',
    topicId: 'bar-technical',
    topic: 'Technical Accounting',
    subtopic: 'Stock Compensation Forfeitures',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'Under current GAAP, stock-based compensation forfeitures may be:',
    options: [
      'Only estimated at grant',
      'Either estimated at grant or recognized when they occur (accounting policy election)',
      'Only recognized when they occur',
      'Ignored'
    ],
    correctAnswer: 1,
    explanation: 'ASC 718 (post-ASU 2016-09): policy election. Either (1) estimate forfeitures at grant, true-up to actuals, or (2) recognize forfeitures when occur (simpler). Apply consistently. Prior rule required estimation.',
    reference: 'ASC 718-10-35',
  },
  {
    id: 'bar-wc-215',
    section: 'BAR',
    courseId: 'cpa',
    blueprintArea: 'BAR-IV',
    topicId: 'bar-cost',
    topic: 'Cost Accounting',
    subtopic: 'Transfer Pricing Methods',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'Internal transfer pricing between divisions may use:',
    options: [
      'Only market price',
      'Market price, cost-based (variable, full, cost-plus), or negotiated price depending on objectives',
      'Only cost',
      'Arbitrary assignment'
    ],
    correctAnswer: 1,
    explanation: 'Transfer pricing: market (if available, promotes efficiency), cost-based (variable, full, cost-plus), negotiated. Choice affects divisional performance measures, goal congruence, autonomy. No single best method.',
    reference: 'Transfer Pricing',
  },
  {
    id: 'bar-wc-216',
    section: 'BAR',
    courseId: 'cpa',
    blueprintArea: 'BAR-I',
    topicId: 'bar-analysis',
    topic: 'Financial Statement Analysis',
    subtopic: 'Working Capital Management',
    difficulty: 'medium',
    skillLevel: 'Application',
    question: 'The cash conversion cycle measures:',
    options: [
      'Only accounts receivable collection',
      'Time between paying for inventory and collecting receivables (DIO + DSO - DPO)',
      'Total revenue cycle',
      'Only payables period'
    ],
    correctAnswer: 1,
    explanation: 'CCC = DIO + DSO - DPO. Days inventory + days receivables - days payables. Measures operating cycle cash requirement. Lower = less working capital needed. Negative CCC = collect before paying suppliers.',
    reference: 'Working Capital',
  },

  // ISC (4 questions)
  {
    id: 'isc-wc-179',
    section: 'ISC',
    courseId: 'cpa',
    blueprintArea: 'ISC-I',
    topicId: 'isc-governance',
    topic: 'IT Governance',
    subtopic: 'ITIL Framework',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'ITIL (IT Infrastructure Library) is a framework for:',
    options: [
      'Software development only',
      'IT service management best practices across the service lifecycle',
      'Network design',
      'Security only'
    ],
    correctAnswer: 1,
    explanation: 'ITIL: service management framework. Lifecycle: service strategy, design, transition, operation, continual improvement. Practices: incident, problem, change management, etc. Widely adopted for IT operations.',
    reference: 'ITIL Framework',
  },
  {
    id: 'isc-wc-180',
    section: 'ISC',
    courseId: 'cpa',
    blueprintArea: 'ISC-II',
    topicId: 'isc-security',
    topic: 'Security Controls',
    subtopic: 'Privileged Access Management',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'Privileged Access Management (PAM) solutions provide:',
    options: [
      'Only password storage',
      'Secure vault for privileged credentials, session monitoring, just-in-time access, and audit trails',
      'Only user provisioning',
      'Email security'
    ],
    correctAnswer: 1,
    explanation: 'PAM: manage privileged accounts (admin, root, service accounts). Features: credential vault, session recording, JIT access, approval workflows, audit logging. Reduces insider threat and attack surface.',
    reference: 'PAM Solutions',
  },
  {
    id: 'isc-wc-181',
    section: 'ISC',
    courseId: 'cpa',
    blueprintArea: 'ISC-III',
    topicId: 'isc-systems',
    topic: 'Information Systems',
    subtopic: 'Message Queues',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'Message queue systems (like RabbitMQ, Kafka) provide:',
    options: [
      'Only email services',
      'Asynchronous communication between services with guaranteed delivery and decoupling',
      'Only database storage',
      'Real-time video'
    ],
    correctAnswer: 1,
    explanation: 'Message queues: decouple producers/consumers, enable async processing, provide buffering during load spikes, ensure message persistence. Patterns: pub/sub, point-to-point. Critical for microservices and event-driven architectures.',
    reference: 'Message Queuing',
  },
  {
    id: 'isc-wc-182',
    section: 'ISC',
    courseId: 'cpa',
    blueprintArea: 'ISC-IV',
    topicId: 'isc-audit',
    topic: 'IT Audit',
    subtopic: 'Application Controls Testing',
    difficulty: 'medium',
    skillLevel: 'Application',
    question: 'Testing application controls typically includes:',
    options: [
      'Only code review',
      'Input validation, processing logic, output controls, and interface testing',
      'Only performance testing',
      'Only security scanning'
    ],
    correctAnswer: 1,
    explanation: 'Application control testing: input (validation, authorization, error handling), processing (calculations, logic, completeness), output (distribution controls, reconciliation), interfaces (data transfer accuracy). Mix of inquiry, observation, testing.',
    reference: 'Application Control Audit',
  },

  // TCP (4 questions)
  {
    id: 'tcp-wc-179',
    section: 'TCP',
    courseId: 'cpa',
    blueprintArea: 'TCP-II',
    topicId: 'tcp-entity',
    topic: 'Entity Tax Compliance',
    subtopic: 'Tax Benefit Rule',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'The tax benefit rule requires:',
    options: [
      'No action on recovered amounts',
      'Including in income amounts recovered from prior deductions that provided a tax benefit',
      'Always deferring income',
      'Only applying to corporations'
    ],
    correctAnswer: 1,
    explanation: 'Tax benefit rule: if deduction in prior year reduced tax, recovery of that amount is income when received. If no tax benefit (itemized but didn\'t exceed standard), recovery not taxable. Section 111.',
    reference: 'IRC Section 111',
  },
  {
    id: 'tcp-wc-180',
    section: 'TCP',
    courseId: 'cpa',
    blueprintArea: 'TCP-I',
    topicId: 'tcp-individual',
    topic: 'Individual Tax Compliance',
    subtopic: 'Section 121 Ownership Test',
    difficulty: 'medium',
    skillLevel: 'Application',
    question: 'For Section 121 home sale exclusion, the taxpayer must have:',
    options: [
      'Only lived in the home',
      'Owned AND used the home as principal residence for 2 of the 5 years before sale',
      'Lived there 5 years continuously',
      'Owned for 10 years'
    ],
    correctAnswer: 1,
    explanation: 'Section 121: ownership test (owned 2 of 5 years) AND use test (principal residence 2 of 5 years). Need not be consecutive or same 2 years. Exclusion: $250K single, $500K MFJ. Once per 2 years.',
    reference: 'IRC Section 121',
  },
  {
    id: 'tcp-wc-181',
    section: 'TCP',
    courseId: 'cpa',
    blueprintArea: 'TCP-III',
    topicId: 'tcp-planning',
    topic: 'Tax Planning',
    subtopic: 'Grantor Trust Rules',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'A trust is a grantor trust for income tax purposes when:',
    options: [
      'It has any beneficiaries',
      'The grantor retains certain powers (like power to revoke or control beneficial enjoyment)',
      'Trust has income',
      'Trust files separate return'
    ],
    correctAnswer: 1,
    explanation: 'Grantor trust rules (Section 671-679): grantor taxed on income if retains certain controls (revocation, beneficial enjoyment, administrative powers, reversionary interest >5%). Intentionally defective grantor trust (IDGT) used for planning.',
    reference: 'IRC Sections 671-679',
  },
  {
    id: 'tcp-wc-182',
    section: 'TCP',
    courseId: 'cpa',
    blueprintArea: 'TCP-IV',
    topicId: 'tcp-representation',
    topic: 'Tax Representation',
    subtopic: 'IRS Statute of Limitations',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'The general statute of limitations for IRS assessment is:',
    options: [
      '2 years from filing',
      '3 years from the later of return due date or date filed',
      '5 years always',
      '10 years'
    ],
    correctAnswer: 1,
    explanation: 'General SOL: 3 years from later of (1) return due date or (2) date filed. Extended to 6 years if >25% gross income omission. No limit if fraud or failure to file. Collection SOL is 10 years from assessment.',
    reference: 'IRC Section 6501',
  },
];
