// World-Class Questions Batch 37 - Exam Quality MCQs
// 25 questions across all CPA exam sections

import { Question } from '../../../types';

export const WORLD_CLASS_BATCH_37: Question[] = [
  // FAR (4 questions)
  {
    id: 'far-wc-183',
    section: 'FAR',
    courseId: 'cpa',
    blueprintArea: 'FAR-II',
    topicId: 'far-bonds',
    topic: 'Bonds',
    subtopic: 'Fair Value Option',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'When the fair value option is elected for a financial liability:',
    options: [
      'Fair value changes due to instrument-specific credit risk are recognized in OCI, other changes in earnings',
      'All changes in earnings',
      'All changes in OCI',
      'No changes recognized',
    ],
    correctAnswer: 0,
    explanation: 'FVO for liabilities (ASC 825): changes in FV due to own credit risk in OCI (reduces counterintuitive income when creditworthiness declines). Other FV changes (interest rates, market) through P&L.',
    reference: 'ASC 825-10-45',
  },
  {
    id: 'far-wc-184',
    section: 'FAR',
    courseId: 'cpa',
    blueprintArea: 'FAR-I',
    topicId: 'far-statements',
    topic: 'Financial Statements',
    subtopic: 'Comprehensive Income',
    difficulty: 'medium',
    skillLevel: 'Application',
    question: 'Components of other comprehensive income include:',
    options: [
      'Operating expenses',
      'Unrealized gains on AFS securities, foreign currency translation adjustments, pension adjustments, cash flow hedge gains/losses',
      'Dividends only',
      'Net income only',
    ],
    correctAnswer: 1,
    explanation: 'OCI: excluded from net income but included in comprehensive income. AFS unrealized G/L, foreign currency translation, pension liability adjustments (prior service cost, actuarial gains/losses), effective cash flow hedges.',
    reference: 'ASC 220',
  },
  {
    id: 'far-wc-185',
    courseId: 'cpa',
    section: 'FAR',
    blueprintArea: 'FAR-III',
    topic: 'Earnings Per Share',
    subtopic: 'Contingently Issuable Shares',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'Ajax Corp. reported net income of $4 million with 800,000 weighted-average shares outstanding. Ajax has $1 million of 6% convertible bonds (par $1,000, each convertible into 50 shares). The tax rate is 25%. What is diluted EPS?',
    options: [
      '$4.76',
      '$4.55',
      '$5.00',
      '$4.00',
    ],
    correctAnswer: 0,
    explanation: 'Under the if-converted method: Additional shares from conversion = ($1,000,000 ÷ $1,000) × 50 = 50,000 shares. Interest saved = $1,000,000 × 6% = $60,000. Tax on interest = $60,000 × 25% = $15,000. After-tax interest savings = $60,000 − $15,000 = $45,000. Diluted net income = $4,000,000 + $45,000 = $4,045,000. Diluted shares = 800,000 + 50,000 = 850,000. Diluted EPS = $4,045,000 ÷ 850,000 = $4.76. Since diluted EPS ($4.76) < basic EPS ($5.00), the bonds are dilutive and included.',
    reference: 'ASC 260-10-45',
  },
  {
    id: 'far-wc-186',
    section: 'FAR',
    courseId: 'cpa',
    blueprintArea: 'FAR-IV',
    topicId: 'far-nonprofit',
    topic: 'Non-Profit Accounting',
    subtopic: 'Functional Expenses',
    difficulty: 'medium',
    skillLevel: 'Application',
    question: 'Non-profit organizations must report expenses by:',
    options: [
      'Only functional classification',
      'Cost centers only',
      'Both natural classification and functional classification (program, management, fundraising)',
      'Only natural classification',
    ],
    correctAnswer: 2,
    explanation: 'ASC 958-720: present expenses by both natural (salaries, supplies) and functional (program services, management/general, fundraising). Either in statement or notes. Shows how resources support mission.',
    reference: 'ASC 958-720',
  },

  // AUD (4 questions)
  {
    id: 'aud-wc-183',
    section: 'AUD',
    courseId: 'cpa',
    blueprintArea: 'AUD-IV',
    topicId: 'aud-letters',
    topic: 'Reporting',
    subtopic: 'Comfort Letters',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'A comfort letter is addressed to:',
    options: [
      'SEC',
      'Shareholders',
      'General public',
      'Underwriter or other requesting party in connection with securities offering',
    ],
    correctAnswer: 3,
    explanation: 'Comfort letter (AU-C 920): addressed to underwriter (or named parties) for SEC filings. Covers independence, compliance, unaudited data, subsequent changes. Not a report on financials. Negative assurance on unaudited data.',
    reference: 'AU-C 920',
  },
  {
    id: 'aud-wc-184',
    section: 'AUD',
    courseId: 'cpa',
    blueprintArea: 'AUD-II',
    topicId: 'aud-technology',
    topic: 'Audit Technology',
    subtopic: 'Continuous Auditing',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'Continuous auditing involves:',
    options: [
      'Annual procedures only',
      'Only year-end',
      'External review only',
      'Automated, ongoing testing of controls and transactions using technology throughout the year',
    ],
    correctAnswer: 3,
    explanation: 'Continuous auditing: automated procedures run continuously or at short intervals. Tests controls, flags exceptions in real-time. Enabled by data analytics, system integration. Shifts from periodic to ongoing assurance.',
    reference: 'Continuous Auditing',
  },
  {
    id: 'aud-wc-185',
    section: 'AUD',
    courseId: 'cpa',
    blueprintArea: 'AUD-III',
    topicId: 'aud-inventory',
    topic: 'Inventory Audit',
    subtopic: 'Physical Observation',
    difficulty: 'medium',
    skillLevel: 'Application',
    question: 'If unable to observe physical inventory at count date, the auditor should:',
    options: [
      'Issue qualified opinion',
      'Waive the procedure',
      'Rely solely on client records',
      'Perform or observe counts at alternative date and apply roll-forward/roll-back procedures',
    ],
    correctAnswer: 3,
    explanation: 'Inventory observation: if unable at count date, count at alternative date and roll forward/back. Test intervening transactions, PO receipts, sales shipments. May need additional substantive procedures. Scope limitation if impossible.',
    reference: 'AU-C 501',
  },
  {
    id: 'aud-wc-186',
    section: 'AUD',
    courseId: 'cpa',
    blueprintArea: 'AUD-I',
    topicId: 'aud-risk',
    topic: 'Risk Assessment',
    subtopic: 'Inherent Risk Factors',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'Inherent risk factors at the assertion level include:',
    options: [
      'Audit procedures',
      'Control environment only',
      'Materiality only',
      'Complexity, subjectivity, change, susceptibility to misstatement due to fraud or error',
    ],
    correctAnswer: 3,
    explanation: 'Inherent risk factors (ISA 315 revised): complexity (complex calculations), subjectivity (estimates, judgments), change (new standards, transactions), uncertainty, susceptibility to fraud/error. Assess before controls.',
    reference: 'ISA 315',
  },

  // REG (4 questions)
  {
    id: 'reg-wc-183',
    section: 'REG',
    courseId: 'cpa',
    blueprintArea: 'REG-III',
    topicId: 'reg-c-corp',
    topic: 'C Corporation',
    subtopic: 'Accumulated Earnings Tax',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'The accumulated earnings tax is imposed when:',
    options: [
      'Stock is repurchased',
      'Dividends are paid',
      'Earnings are accumulated beyond reasonable business needs to avoid shareholder dividends',
      'Any earnings are retained',
    ],
    correctAnswer: 2,
    explanation: 'AET: 20% penalty on accumulated taxable income. Targets accumulation to avoid shareholder tax. Not imposed on personal holding companies. $250K credit ($150K PSC). Reasonable needs: expansion, debt retirement, etc.',
    reference: 'IRC Section 531-537',
  },
  {
    id: 'reg-wc-184',
    section: 'REG',
    courseId: 'cpa',
    blueprintArea: 'REG-II',
    topicId: 'reg-payroll',
    topic: 'Payroll Taxes',
    subtopic: 'FICA Tax',
    difficulty: 'medium',
    skillLevel: 'Application',
    question: 'The employee portion of FICA tax consists of:',
    options: [
      '15.3% total',
      'Social Security tax (6.2% up to wage base) plus Medicare tax (1.45% with additional 0.9% on high earnings)',
      'Only Social Security',
      'Only Medicare',
    ],
    correctAnswer: 1,
    explanation: 'Employee FICA: Social Security 6.2% up to wage base ($168,600 for 2024), Medicare 1.45% no limit, plus Additional Medicare 0.9% on wages over $200K (single). Employer matches SS and Medicare (not additional).',
    reference: 'IRC Section 3101',
  },
  {
    id: 'reg-wc-185',
    section: 'REG',
    courseId: 'cpa',
    blueprintArea: 'REG-I',
    topicId: 'reg-secured',
    topic: 'Secured Transactions',
    subtopic: 'Perfection by Control',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'Perfection by control is used for:',
    options: [
      'Investment securities, deposit accounts, letter of credit rights, and electronic chattel paper',
      'Only patents',
      'Only goods',
      'Only real estate',
    ],
    correctAnswer: 0,
    explanation: 'Control perfection (UCC Article 9): securities (broker holds), deposit accounts (bank agreement), letter of credit rights (issuer consent), electronic chattel paper (single authoritative copy). Superior to filing for these collateral types.',
    reference: 'UCC Article 9',
  },
  {
    id: 'reg-wc-186',
    section: 'REG',
    courseId: 'cpa',
    blueprintArea: 'REG-IV',
    topicId: 'reg-gift',
    topic: 'Gift Tax',
    subtopic: 'Present Interest Requirement',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'The annual gift tax exclusion requires:',
    options: [
      'A present interest gift (donee has immediate, unrestricted right to use, possess, or enjoy)',
      'No restriction',
      'Future interest only',
      'Any gift',
    ],
    correctAnswer: 0,
    explanation: 'Present interest: immediate right to use. Future interest (remainders, reversions) = no exclusion. Crummey powers convert future to present (limited withdrawal right). $18,000 annual exclusion (2024) per donee per year.',
    reference: 'IRC Section 2503(b)',
  },

  // BAR (5 questions)
  {
    id: 'bar-wc-217',
    courseId: 'cpa',
    section: 'BAR',
    blueprintArea: 'BAR-I',
    topic: 'Financial Statement Analysis',
    subtopic: 'Free Cash Flow Calculation',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'Company Z reports: net income $1.2M, depreciation $400K, increase in A/R $150K, decrease in inventory $80K, increase in A/P $60K, and CapEx $500K. What is free cash flow?',
    options: [
    '$1,090,000',
    '$1,590,000',
    '$990,000',
    '$1,290,000',
    ],
    correctAnswer: 0,
    explanation: 'Operating CF = Net Income + Depreciation − ΔA/R + ΔInventory decrease + ΔA/P = $1,200K + $400K − $150K + $80K + $60K = $1,590K. FCF = Operating CF − CapEx = $1,590K − $500K = $1,090,000. Working capital changes follow the indirect method: increases in assets reduce cash, decreases add to cash; increases in liabilities add cash.',
    reference: 'Free Cash Flow',
  },
  {
    id: 'bar-wc-218',
    section: 'BAR',
    courseId: 'cpa',
    blueprintArea: 'BAR-II',
    topicId: 'bar-valuation',
    topic: 'Valuation',
    subtopic: 'Control Premium',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'A control premium in valuation reflects:',
    options: [
      'Discount for minority',
      'Lower price',
      'Additional value paid for acquiring control of a company versus a minority position',
      'Dividend yield',
    ],
    correctAnswer: 2,
    explanation: 'Control premium: difference between controlling (51%+) and minority share value. Control allows: set strategy, dividends, compensation, M&A. Typically 20-40% over trading price. Minority discount is inverse concept.',
    reference: 'Control Premium',
  },
  {
    id: 'bar-wc-219',
    courseId: 'cpa',
    section: 'BAR',
    blueprintArea: 'BAR-III',
    topic: 'Technical Accounting',
    subtopic: 'Asset Retirement Obligations',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'Redwood Corp. purchases timberland with a legal obligation to restore the land at the end of its 25-year operating period. The estimated restoration cost is $5 million, and the credit-adjusted risk-free rate is 5%. The present value of the ARO is approximately $1,476,000. What is the total amount initially added to the timberland asset?',
    options: [
    '$5,000,000',
    '$1,476,000',
    '$3,524,000',
    '$2,500,000',
    ],
    correctAnswer: 1,
    explanation: 'Under ASC 410-20-25, an asset retirement obligation is recognized at fair value (present value) when incurred. The corresponding amount is capitalized as an increase to the carrying amount of the related long-lived asset. The PV of $5 million at 5% for 25 years = $5,000,000 ÷ (1.05)^25 ≈ $1,476,000. This amount increases both the ARO liability and the timberland asset. The asset increase is depreciated over the useful life, while the ARO accretes toward the settlement amount.',
    reference: 'ASC 410-20-25',
  },
  {
    id: 'bar-wc-220',
    section: 'BAR',
    courseId: 'cpa',
    blueprintArea: 'BAR-IV',
    topicId: 'bar-cost',
    topic: 'Cost Accounting',
    subtopic: 'Theory of Constraints',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'A factory produces three products using a single bottleneck machine. Product A: CM $40/unit, 2 machine hours/unit. Product B: CM $30/unit, 1 machine hour/unit. Product C: CM $50/unit, 5 machine hours/unit. How should the company prioritize production?',
    options: [
      'Product C first (highest total contribution margin)',
      'Product B first, then Product A, then Product C (ranked by CM per constraint hour)',
      'Product A first (best balance of CM and time)',
      'Equal production of all three products',
    ],
    correctAnswer: 1,
    explanation: 'Under TOC, maximize throughput per unit of the constraint. CM per machine hour: A = $40/2 = $20/hr, B = $30/1 = $30/hr, C = $50/5 = $10/hr. Priority: B ($30/hr) > A ($20/hr) > C ($10/hr). Despite Product C having the highest CM per unit, it uses the bottleneck least efficiently.',
    reference: 'Theory of Constraints',
  },
  {
    id: 'bar-wc-221',
    section: 'BAR',
    courseId: 'cpa',
    blueprintArea: 'BAR-I',
    topicId: 'bar-analysis',
    topic: 'Financial Statement Analysis',
    subtopic: 'Accrual Quality',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'High accrual quality indicates:',
    options: [
      'Large discretionary accruals',
      'Earnings closely map to actual cash flows with minimal estimation and smooth reversals',
      'Aggressive assumptions',
      'Large provisions'
    ],
    correctAnswer: 1,
    explanation: 'Accrual quality: earnings persistence, low estimation error in accruals, reasonable assumptions. High quality = cash-flow-backing earnings. Low quality = excessive discretionary accruals, large estimation changes, big reversals.',
    reference: 'Earnings Quality',
  },

  // ISC (4 questions)
  {
    id: 'isc-wc-183',
    section: 'ISC',
    courseId: 'cpa',
    blueprintArea: 'ISC-I',
    topicId: 'isc-governance',
    topic: 'IT Governance',
    subtopic: 'Enterprise Architecture',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'Enterprise architecture frameworks (like TOGAF) provide:',
    options: [
      'Only technical standards',
      'Only security',
      'Only project management',
      'Structured approach to align business strategy with IT infrastructure across business, data, application, and technology domains',
    ],
    correctAnswer: 3,
    explanation: 'EA frameworks: holistic view of organization. TOGAF domains: Business, Data, Application, Technology. Architecture Development Method (ADM). Enables strategic alignment, simplification, agility, and governance.',
    reference: 'Enterprise Architecture',
  },
  {
    id: 'isc-wc-184',
    section: 'ISC',
    courseId: 'cpa',
    blueprintArea: 'ISC-II',
    topicId: 'isc-security',
    topic: 'Security Controls',
    subtopic: 'Threat Intelligence',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'Threat intelligence programs provide:',
    options: [
      'Only virus signatures',
      'Password lists',
      'Only firewall rules',
      'Contextualized information about threats, threat actors, indicators of compromise, and recommended mitigations',
    ],
    correctAnswer: 3,
    explanation: 'Threat intelligence: strategic (trends, actors), tactical (TTPs), operational (specific campaigns), technical (IOCs - hashes, IPs, domains). Sources: feeds, ISACs, dark web monitoring. Enables proactive defense.',
    reference: 'Threat Intelligence',
  },
  {
    id: 'isc-wc-185',
    section: 'ISC',
    courseId: 'cpa',
    blueprintArea: 'ISC-III',
    topicId: 'isc-systems',
    topic: 'Information Systems',
    subtopic: 'Serverless Computing',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'Serverless computing (FaaS) is characterized by:',
    options: [
      'Long-running processes',
      'Fixed server allocation',
      'Managing physical servers',
      'Event-driven functions where cloud provider manages infrastructure with automatic scaling and pay-per-execution',
    ],
    correctAnswer: 3,
    explanation: 'Serverless/FaaS: code runs in response to events. No server management. Auto-scale. Pay only when code executes (not idle). Functions = stateless, short-duration. Examples: AWS Lambda, Azure Functions, GCP Functions.',
    reference: 'Serverless Computing',
  },
  {
    id: 'isc-wc-186',
    section: 'ISC',
    courseId: 'cpa',
    blueprintArea: 'ISC-IV',
    topicId: 'isc-audit',
    topic: 'IT Audit',
    subtopic: 'Cloud Security Audit',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'Cloud security audits should assess:',
    options: [
      'Only network security',
      'Only on-premise controls',
      'Only provider certifications',
      'Shared responsibility adherence, customer configuration, data protection, access controls, and provider compliance',
    ],
    correctAnswer: 3,
    explanation: 'Cloud audit: shared responsibility model compliance, customer responsibility controls (IAM, encryption, logging), provider compliance (SOC 2, ISO), data residency, incident response, vendor management.',
    reference: 'Cloud Security Audit',
  },

  // TCP (4 questions)
  {
    id: 'tcp-wc-183',
    section: 'TCP',
    courseId: 'cpa',
    blueprintArea: 'TCP-II',
    topicId: 'tcp-entity',
    topic: 'Entity Tax Compliance',
    subtopic: 'LLC Taxation Options',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'A multi-member LLC may elect to be taxed as:',
    options: [
      'Only as sole proprietorship',
      'Only as corporation',
      'Only as partnership',
      'Partnership (default), S corporation, or C corporation using Form 8832 or Form 2553',
    ],
    correctAnswer: 3,
    explanation: 'LLC tax elections: default for multi-member = partnership. Can elect C corp (Form 8832) or S corp (must qualify then Form 2553 + 8832). Single-member default = disregarded, can elect C corp.',
    reference: 'Reg. 301.7701-3',
  },
  {
    id: 'tcp-wc-184',
    section: 'TCP',
    courseId: 'cpa',
    blueprintArea: 'TCP-I',
    topicId: 'tcp-individual',
    topic: 'Individual Tax Compliance',
    subtopic: 'Estimated Tax Safe Harbor',
    difficulty: 'medium',
    skillLevel: 'Application',
    question: 'Individual taxpayers avoid estimated tax penalty if they pay:',
    options: [
      '50% of tax',
      'Only 80%',
      'Any amount',
      '100% of prior year tax (110% if AGI over $150K) OR 90% of current year tax',
    ],
    correctAnswer: 3,
    explanation: 'Safe harbors: (1) 90% of current year tax, or (2) 100% of prior year tax (110% if prior AGI > $150K MFJ / $75K MFS). Meet either to avoid penalty. Pay quarterly (4/15, 6/15, 9/15, 1/15).',
    reference: 'IRC Section 6654',
  },
  {
    id: 'tcp-wc-185',
    section: 'TCP',
    courseId: 'cpa',
    blueprintArea: 'TCP-III',
    topicId: 'tcp-planning',
    topic: 'Tax Planning',
    subtopic: 'Family Limited Partnership',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'Family limited partnerships (FLPs) are used in estate planning to:',
    options: [
      'Avoid all taxes',
      'Only for retirement',
      'Only for income splitting',
      'Transfer wealth with valuation discounts while retaining control as general partner',
    ],
    correctAnswer: 3,
    explanation: 'FLP planning: transfer LP interests (minority, lack of control = discounts 20-40%). GP retains control. Used for business succession, asset protection, centralized management. IRS scrutinizes for substance.',
    reference: 'FLP Planning',
  },
  {
    id: 'tcp-wc-186',
    section: 'TCP',
    courseId: 'cpa',
    blueprintArea: 'TCP-IV',
    topicId: 'tcp-representation',
    topic: 'Tax Representation',
    subtopic: 'Offer in Compromise',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'An Offer in Compromise (OIC) allows taxpayers to:',
    options: [
      'Only extend payment',
      'Avoid future taxes',
      'Eliminate all penalties',
      'Settle tax debt for less than full amount based on doubt as to collectibility, liability, or effective tax administration',
    ],
    correctAnswer: 3,
    explanation: 'OIC: settle for less. Grounds: (1) doubt as to liability, (2) doubt as to collectibility (can\'t pay full), (3) effective tax administration (hardship). IRS considers RCP (reasonable collection potential). Application fee required.',
    reference: 'IRC Section 7122',
  },
];
