// World-Class Questions Batch 40 - Exam Quality MCQs
// 25 questions across all CPA exam sections

import { Question } from '../../../types';

export const WORLD_CLASS_BATCH_40: Question[] = [
  // FAR (4 questions)
  {
    id: 'far-wc-195',
    section: 'FAR',
    courseId: 'cpa',
    blueprintArea: 'FAR-II',
    topicId: 'far-consolidation',
    topic: 'Consolidation',
    subtopic: 'Noncontrolling Interest',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'At acquisition, noncontrolling interest in a business combination is measured at:',
    options: [
      'Zero',
      'Fair value OR proportionate share of net identifiable assets (accounting policy choice)',
      'Historical cost only',
      'Book value only'
    ],
    correctAnswer: 1,
    explanation: 'NCI initial measurement (ASC 805): policy choice. (1) Fair value = full goodwill method, NCI gets share of goodwill. (2) NCI share of net identifiable assets = partial goodwill, no goodwill to NCI. Choice made acquisition-by-acquisition.',
    reference: 'ASC 805-20-30',
  },
  {
    id: 'far-wc-196',
    section: 'FAR',
    courseId: 'cpa',
    blueprintArea: 'FAR-I',
    topicId: 'far-liabilities',
    topic: 'Liabilities',
    subtopic: 'Exit Activities',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'Costs to terminate an operating lease as part of exit activities are recognized when:',
    options: [
      'Plan is announced',
      'The contract is terminated or entity ceases use of the right conveyed by the contract',
      'Management decides',
      'Board approves'
    ],
    correctAnswer: 1,
    explanation: 'Contract termination costs (ASC 420): recognized when contract is terminated per terms (usually termination fee) OR when entity ceases using the right (remaining obligation). Not merely when exit plan approved.',
    reference: 'ASC 420-10-25',
  },
  {
    id: 'far-wc-197',
    section: 'FAR',
    courseId: 'cpa',
    blueprintArea: 'FAR-III',
    topicId: 'far-foreign',
    topic: 'Foreign Currency',
    subtopic: 'Remeasurement',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'When remeasuring foreign currency financial statements into the functional currency:',
    options: [
      'All accounts use current rate',
      'Monetary items use current rate, nonmonetary items use historical rates, and gains/losses go to income',
      'All accounts use historical rate',
      'No translation needed'
    ],
    correctAnswer: 1,
    explanation: 'Remeasurement (temporal method): monetary assets/liabilities at current rate, nonmonetary items at historical rates, revenues/expenses at average (except those related to nonmonetary). Resulting gains/losses in current income.',
    reference: 'ASC 830-10-45',
  },
  {
    id: 'far-wc-198',
    section: 'FAR',
    courseId: 'cpa',
    blueprintArea: 'FAR-IV',
    topicId: 'far-government',
    topic: 'Government Accounting',
    subtopic: 'Compensated Absences',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'In governmental accounting, compensated absences that will be liquidated from governmental funds are:',
    options: [
      'Fully accrued',
      'Recognized as fund expenditure only when matured (due and payable), with full liability in government-wide statements',
      'Not recorded',
      'Expensed when earned'
    ],
    correctAnswer: 1,
    explanation: 'Compensated absences: government-wide = full accrual (liability when earned). Governmental funds = recognized when matured (due and payable from current resources). Long-term portion in government-wide, not fund statements.',
    reference: 'GASB 16',
  },

  // AUD (4 questions)
  {
    id: 'aud-wc-195',
    section: 'AUD',
    courseId: 'cpa',
    blueprintArea: 'AUD-IV',
    topicId: 'aud-comparative',
    topic: 'Reporting',
    subtopic: 'Comparative Financial Statements',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'When comparative financial statements are presented and a different auditor reported on prior period:',
    options: [
      'Only current auditor reports',
      'Prior auditor may reissue report, or current auditor refers to predecessor\'s report in other-matter paragraph',
      'Prior opinion ignored',
      'Combined opinion issued'
    ],
    correctAnswer: 1,
    explanation: 'Comparative statements: predecessor may reissue (updated or unchanged). If predecessor does not reissue, current auditor\'s report includes other-matter paragraph referencing predecessor\'s report (type, date, any modifications).',
    reference: 'AU-C 700',
  },
  {
    id: 'aud-wc-196',
    section: 'AUD',
    courseId: 'cpa',
    blueprintArea: 'AUD-II',
    topicId: 'aud-it',
    topic: 'IT Controls',
    subtopic: 'Automated Application Controls',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'Automated application controls are generally:',
    options: [
      'Less reliable than manual',
      'More reliable than manual controls because they operate consistently once properly designed and implemented',
      'Not testable',
      'Only preventive'
    ],
    correctAnswer: 1,
    explanation: 'Automated controls: operate consistently, don\'t make judgment errors, don\'t get fatigued. Once working correctly, highly reliable. But depend on ITGCs functioning. Manual controls subject to human error, fatigue.',
    reference: 'Automated Controls',
  },
  {
    id: 'aud-wc-197',
    section: 'AUD',
    courseId: 'cpa',
    blueprintArea: 'AUD-III',
    topicId: 'aud-related',
    topic: 'Related Parties',
    subtopic: 'Substantive Procedures',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'Audit procedures for related party transactions include:',
    options: [
      'Only inquiry',
      'Confirming terms with counterparty, evaluating business purpose, and verifying appropriate disclosure',
      'Only reading board minutes',
      'Only analytical procedures'
    ],
    correctAnswer: 1,
    explanation: 'Related party procedures (AU-C 550): confirm terms, evaluate business rationale, test recording/authorization, read contracts, verify arm\'s-length pricing claims, ensure proper disclosure. Higher risk than ordinary transactions.',
    reference: 'AU-C 550',
  },
  {
    id: 'aud-wc-198',
    section: 'AUD',
    courseId: 'cpa',
    blueprintArea: 'AUD-I',
    topicId: 'aud-ethics',
    topic: 'Professional Ethics',
    subtopic: 'Independence Impairment',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'Direct financial interest in an audit client by an immediate family member of the audit engagement partner:',
    options: [
      'Is not an independence issue',
      'Impairs independence regardless of materiality',
      'Is permitted if disclosed',
      'Only impairs if greater than 5%'
    ],
    correctAnswer: 1,
    explanation: 'Direct financial interest: any amount = impairment for covered member and immediate family. Immediate family = spouse, dependent. No materiality threshold. Must dispose before accepting engagement or becoming covered.',
    reference: 'AICPA Code',
  },

  // REG (4 questions)
  {
    id: 'reg-wc-195',
    section: 'REG',
    courseId: 'cpa',
    blueprintArea: 'REG-III',
    topicId: 'reg-c-corp',
    topic: 'C Corporation',
    subtopic: 'Organizational Expenditures',
    difficulty: 'medium',
    skillLevel: 'Application',
    question: 'A corporation may immediately expense up to how much of organizational expenditures?',
    options: [
      '$10,000',
      '$5,000 (reduced if total exceeds $50,000), then amortize remainder over 180 months',
      '$100,000',
      '$50,000'
    ],
    correctAnswer: 1,
    explanation: 'Section 248: $5,000 immediately deductible (reduced dollar-for-dollar when total > $50,000). Remainder amortized over 180 months. Start-up costs (Section 195) have same rules. Must elect by filing return.',
    reference: 'IRC Section 248',
  },
  {
    id: 'reg-wc-196',
    section: 'REG',
    courseId: 'cpa',
    blueprintArea: 'REG-II',
    topicId: 'reg-individual',
    topic: 'Individual Taxation',
    subtopic: 'Medical Expense Deduction',
    difficulty: 'medium',
    skillLevel: 'Application',
    question: 'Medical expenses are deductible to the extent they exceed:',
    options: [
      '5% of AGI',
      '7.5% of AGI',
      '10% of AGI',
      '2% of AGI'
    ],
    correctAnswer: 1,
    explanation: 'Medical expense deduction: unreimbursed medical expenses exceeding 7.5% of AGI. Must itemize. Includes medical care, insurance premiums, prescription drugs, transportation for medical care. Cosmetic generally not deductible.',
    reference: 'IRC Section 213',
  },
  {
    id: 'reg-wc-197',
    section: 'REG',
    courseId: 'cpa',
    blueprintArea: 'REG-I',
    topicId: 'reg-negotiable',
    topic: 'Negotiable Instruments',
    subtopic: 'Requirements for Negotiability',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'To be a negotiable instrument under UCC Article 3, the instrument must:',
    options: [
      'Only be signed',
      'Be written, signed, contain unconditional promise to pay fixed amount of money, be payable on demand or at definite time, and payable to bearer or order',
      'Only state payment amount',
      'Only be dated'
    ],
    correctAnswer: 1,
    explanation: 'Negotiable instrument (UCC 3-104): writing, signed by maker/drawer, unconditional promise/order, fixed amount of money, no other undertaking, payable on demand or definite time, payable to order or bearer.',
    reference: 'UCC 3-104',
  },
  {
    id: 'reg-wc-198',
    section: 'REG',
    courseId: 'cpa',
    blueprintArea: 'REG-IV',
    topicId: 'reg-basis',
    topic: 'Property Transactions',
    subtopic: 'Carryover Basis',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'A donee\'s basis in gifted property for loss purposes is:',
    options: [
      'Always donor\'s basis',
      'Lesser of donor\'s basis or FMV at time of gift (dual basis rule)',
      'Always FMV',
      'Zero'
    ],
    correctAnswer: 1,
    explanation: 'Gift basis rules: gain basis = donor\'s basis (+ gift tax on appreciation). Loss basis = lesser of donor\'s basis or FMV. If FMV < donor\'s basis and sold between values, no gain or loss. Holding period includes donor\'s.',
    reference: 'IRC Section 1015',
  },

  // BAR (5 questions)
  {
    id: 'bar-wc-232',
    section: 'BAR',
    courseId: 'cpa',
    blueprintArea: 'BAR-I',
    topicId: 'bar-analysis',
    topic: 'Financial Statement Analysis',
    subtopic: 'Beneish M-Score',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'The Beneish M-Score is used to:',
    options: [
      'Calculate equity value',
      'Detect likelihood of earnings manipulation using financial statement ratios',
      'Measure liquidity',
      'Predict revenue growth'
    ],
    correctAnswer: 1,
    explanation: 'M-Score: 8 variables (days sales receivable index, gross margin index, asset quality index, sales growth index, depreciation index, SG&A index, leverage index, accruals/total assets). Score > -2.22 suggests manipulation.',
    reference: 'Beneish M-Score',
  },
  {
    id: 'bar-wc-233',
    section: 'BAR',
    courseId: 'cpa',
    blueprintArea: 'BAR-II',
    topicId: 'bar-valuation',
    topic: 'Valuation',
    subtopic: 'Discounts for Lack of Marketability',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'A discount for lack of marketability (DLOM) reflects:',
    options: [
      'Market risk premium',
      'Reduced value of an interest that cannot be easily sold or converted to cash',
      'Operating costs',
      'Dividend policy'
    ],
    correctAnswer: 1,
    explanation: 'DLOM: illiquidity discount for private company shares. Studies suggest 15-35% range. Based on restricted stock studies, IPO studies. Applied after control/minority adjustments. Reflects time, cost, uncertainty of sale.',
    reference: 'DLOM Valuation',
  },
  {
    id: 'bar-wc-234',
    section: 'BAR',
    courseId: 'cpa',
    blueprintArea: 'BAR-III',
    topicId: 'bar-technical',
    topic: 'Technical Accounting',
    subtopic: 'SEC Comment Letters',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'SEC comment letters typically address:',
    options: [
      'Only typos',
      'Compliance with GAAP and SEC rules, adequacy of disclosure, and consistency with MD&A',
      'Only audit opinions',
      'Only stock price'
    ],
    correctAnswer: 1,
    explanation: 'SEC comments: GAAP compliance, segment allocation, revenue recognition, critical accounting estimates, MD&A consistency/adequacy, non-GAAP measures, related party issues, material contracts. Public record after resolved.',
    reference: 'SEC Comment Letters',
  },
  {
    id: 'bar-wc-235',
    section: 'BAR',
    courseId: 'cpa',
    blueprintArea: 'BAR-IV',
    topicId: 'bar-cost',
    topic: 'Cost Accounting',
    subtopic: 'Backflush Costing',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'Backflush costing is appropriate for:',
    options: [
      'Traditional manufacturing',
      'JIT environments with minimal WIP inventory where costs are assigned at completion or sale',
      'Job costing',
      'Service companies'
    ],
    correctAnswer: 1,
    explanation: 'Backflush: delays cost assignment, applies at completion or sale. Appropriate for JIT (minimal WIP). Simplifies accounting but may not comply with GAAP for inventory valuation. Trigger points vary by company.',
    reference: 'Backflush Costing',
  },
  {
    id: 'bar-wc-236',
    section: 'BAR',
    courseId: 'cpa',
    blueprintArea: 'BAR-I',
    topicId: 'bar-analysis',
    topic: 'Financial Statement Analysis',
    subtopic: 'Peer Analysis',
    difficulty: 'medium',
    skillLevel: 'Application',
    question: 'When selecting peer companies for comparison, analysts should consider:',
    options: [
      'Only market cap',
      'Industry classification, business model, size, growth profile, and geographic exposure',
      'Only revenue',
      'Only profitability'
    ],
    correctAnswer: 1,
    explanation: 'Peer selection: similar industry/sub-industry, comparable business model, size (revenue, assets), growth stage, geographic mix, capital structure, margin profile. Pure-play comparables preferred over diversified.',
    reference: 'Peer Analysis',
  },

  // ISC (4 questions)
  {
    id: 'isc-wc-195',
    section: 'ISC',
    courseId: 'cpa',
    blueprintArea: 'ISC-I',
    topicId: 'isc-governance',
    topic: 'IT Governance',
    subtopic: 'Digital Risk',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'Digital risk management addresses:',
    options: [
      'Only cyber threats',
      'Risks from digital business initiatives including cybersecurity, third parties, compliance, and business model disruption',
      'Only system failures',
      'Only data loss'
    ],
    correctAnswer: 1,
    explanation: 'Digital risk: broader than cyber. Includes digital transformation risks, business model disruption, third-party digital dependencies, data privacy, regulatory (GDPR, CCPA), reputation, emerging tech risks.',
    reference: 'Digital Risk Management',
  },
  {
    id: 'isc-wc-196',
    section: 'ISC',
    courseId: 'cpa',
    blueprintArea: 'ISC-II',
    topicId: 'isc-security',
    topic: 'Security Controls',
    subtopic: 'CASB Solutions',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'Cloud Access Security Brokers (CASBs) provide:',
    options: [
      'Only encryption',
      'Visibility, compliance, data security, and threat protection between users and cloud services',
      'Only authentication',
      'Only backup'
    ],
    correctAnswer: 1,
    explanation: 'CASB: security policy enforcement between users and cloud. Four pillars: visibility (shadow IT discovery), compliance (regulations), data security (DLP, encryption), threat protection (anomaly detection, malware).',
    reference: 'CASB Solutions',
  },
  {
    id: 'isc-wc-197',
    section: 'ISC',
    courseId: 'cpa',
    blueprintArea: 'ISC-III',
    topicId: 'isc-systems',
    topic: 'Information Systems',
    subtopic: 'Event-Driven Architecture',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'Event-driven architecture (EDA) is characterized by:',
    options: [
      'Synchronous calls only',
      'Loose coupling where services react to events published asynchronously enabling real-time responsiveness',
      'Batch processing only',
      'Direct database access'
    ],
    correctAnswer: 1,
    explanation: 'EDA: event producers publish, consumers subscribe and react. Loose coupling, scalability, real-time processing. Event types: notification, state transfer, event sourcing. Challenges: eventual consistency, complexity.',
    reference: 'Event-Driven Architecture',
  },
  {
    id: 'isc-wc-198',
    section: 'ISC',
    courseId: 'cpa',
    blueprintArea: 'ISC-IV',
    topicId: 'isc-audit',
    topic: 'IT Audit',
    subtopic: 'Third Party Risk Assessment',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'Third party/vendor IT risk assessments should evaluate:',
    options: [
      'Only pricing',
      'Security controls, compliance certifications, business continuity, data handling, and subcontractor management',
      'Only service levels',
      'Only financial stability'
    ],
    correctAnswer: 1,
    explanation: 'Vendor assessment: security posture (penetration tests, SOC reports), compliance (industry regs), BCP/DR, data protection, right to audit, subcontractor oversight, incident response, insurance coverage.',
    reference: 'Third Party Risk',
  },

  // TCP (4 questions)
  {
    id: 'tcp-wc-195',
    section: 'TCP',
    courseId: 'cpa',
    blueprintArea: 'TCP-II',
    topicId: 'tcp-entity',
    topic: 'Entity Tax Compliance',
    subtopic: 'Tax-Exempt Organizations',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'Unrelated business taxable income (UBTI) for exempt organizations includes:',
    options: [
      'All revenue',
      'Income from trade or business regularly carried on and not substantially related to exempt purpose',
      'Only investment income',
      'Only donations'
    ],
    correctAnswer: 1,
    explanation: 'UBTI (Section 512): three requirements: trade or business, regularly carried on, not substantially related to exempt purpose. Exceptions: volunteer labor, convenience, passive (dividends, interest, rent). Taxed at normal rates.',
    reference: 'IRC Section 512',
  },
  {
    id: 'tcp-wc-196',
    section: 'TCP',
    courseId: 'cpa',
    blueprintArea: 'TCP-I',
    topicId: 'tcp-individual',
    topic: 'Individual Tax Compliance',
    subtopic: 'Gambling Losses',
    difficulty: 'medium',
    skillLevel: 'Application',
    question: 'Gambling losses are deductible:',
    options: [
      'Without limit',
      'To the extent of gambling winnings, claimed as itemized deduction',
      'As above-the-line deduction',
      'Not deductible'
    ],
    correctAnswer: 1,
    explanation: 'Gambling losses: itemized deduction limited to gambling winnings. Professional gamblers report on Schedule C (business). Must keep records of wins and losses. Winnings taxable as "other income."',
    reference: 'IRC Section 165(d)',
  },
  {
    id: 'tcp-wc-197',
    section: 'TCP',
    courseId: 'cpa',
    blueprintArea: 'TCP-III',
    topicId: 'tcp-planning',
    topic: 'Tax Planning',
    subtopic: 'Donor Advised Fund',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'A donor advised fund (DAF) allows donors to:',
    options: [
      'Retain control of assets',
      'Make irrevocable contribution, receive immediate deduction, and recommend grants to charities over time',
      'Get income from fund',
      'Reclaim contributions'
    ],
    correctAnswer: 1,
    explanation: 'DAF: contribute to sponsoring charity (irrevocable). Immediate deduction at contribution. Investment grows tax-free. Recommend (not control) grants. Useful for bunching deductions or appreciated asset donations.',
    reference: 'DAF Planning',
  },
  {
    id: 'tcp-wc-198',
    section: 'TCP',
    courseId: 'cpa',
    blueprintArea: 'TCP-IV',
    topicId: 'tcp-representation',
    topic: 'Tax Representation',
    subtopic: 'Closing Agreements',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'An IRS closing agreement (Form 906):',
    options: [
      'Can be reopened anytime',
      'Is a final, binding agreement between IRS and taxpayer resolving tax matters that cannot be reopened',
      'Only covers interest',
      'Is simply advisory'
    ],
    correctAnswer: 1,
    explanation: 'Closing agreement (Section 7121): final, conclusive determination. Cannot be reopened except for fraud, malfeasance, or misrepresentation. Used to resolve specific issues or prospective transactions. Signed by authorized officials.',
    reference: 'IRC Section 7121',
  },
];
