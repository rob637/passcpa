// World-Class Questions Batch 41 - Exam Quality MCQs
// 25 questions across all CPA exam sections

import { Question } from '../../../types';

export const WORLD_CLASS_BATCH_41: Question[] = [
  // FAR (4 questions)
  {
    id: 'far-wc-199',
    section: 'FAR',
    courseId: 'cpa',
    blueprintArea: 'FAR-II',
    topicId: 'far-impairment',
    topic: 'Impairment',
    subtopic: 'Indefinite-Lived Intangibles',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'Indefinite-lived intangible assets (excluding goodwill) are tested for impairment:',
    options: [
      'At least annually, or more frequently if triggering events occur, comparing fair value to carrying amount',
      'Only at acquisition',
      'Only when sold',
      'Never',
    ],
    correctAnswer: 0,
    explanation: 'ASC 350: indefinite-lived intangibles tested annually (or more if triggers). Qualitative assessment option. If quantitative, compare FV to carrying amount. Impairment = excess of carrying over FV. No reversal.',
    reference: 'ASC 350-30-35',
  },
  {
    id: 'far-wc-200',
    section: 'FAR',
    courseId: 'cpa',
    blueprintArea: 'FAR-I',
    topicId: 'far-inventory',
    topic: 'Inventory',
    subtopic: 'Consignment',
    difficulty: 'medium',
    skillLevel: 'Application',
    question: 'Goods held on consignment are reported in the inventory of:',
    options: [
      'Both parties',
      'Neither party',
      'The consignor (owner of the goods) until sold by consignee to third party',
      'The consignee',
    ],
    correctAnswer: 2,
    explanation: 'Consignment: consignor retains ownership until sale. Inventory stays on consignor\'s books. Consignee holds as agent. Revenue recognized by consignor when consignee sells to customer. Shipping = FOB shipping point.',
    reference: 'Consignment Accounting',
  },
  {
    id: 'far-wc-201',
    section: 'FAR',
    courseId: 'cpa',
    blueprintArea: 'FAR-III',
    topicId: 'far-gaap',
    topic: 'GAAP Concepts',
    subtopic: 'Going Concern',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'Management\'s responsibility for going concern evaluation extends to events:',
    options: [
      '6 months only',
      '2 years',
      'At least one year from financial statement issuance date (or available to be issued)',
      '3 months from balance sheet date',
    ],
    correctAnswer: 2,
    explanation: 'ASC 205-40: management evaluates going concern for 12 months from F/S issuance (or available to issue for non-SEC). Consider conditions and events. Substantial doubt = likely unable to meet obligations. Disclosures required.',
    reference: 'ASC 205-40',
  },
  {
    id: 'far-wc-202',
    section: 'FAR',
    courseId: 'cpa',
    blueprintArea: 'FAR-IV',
    topicId: 'far-government',
    topic: 'Government Accounting',
    subtopic: 'Proprietary Fund Types',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'Proprietary funds include:',
    options: [
      'Only special revenue funds',
      'Only pension trust funds',
      'Enterprise funds (services to public) and internal service funds (services to other departments)',
      'Only general fund',
    ],
    correctAnswer: 2,
    explanation: 'Proprietary funds: business-type activities. Enterprise: provide goods/services to external users (utilities, parking). Internal service: provide goods/services to other govt departments (motor pool, printing). Full accrual basis.',
    reference: 'GASB 34',
  },

  // AUD (4 questions)
  {
    id: 'aud-wc-199',
    courseId: 'cpa',
    section: 'AUD',
    blueprintArea: 'AUD-IV',
    topic: 'Reporting',
    subtopic: 'Review Engagement',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'A CPA performs a review engagement for a non-public company under SSARS. During inquiry, the CFO mentions a $2M pending lawsuit not disclosed in the financial statements. The CFO refuses to add disclosure. What should the CPA do?',
    options: [
      'Issue an unmodified review report because inquiries revealed no other issues',
      'Modify the review report to disclose the departure from GAAP, including the effects if determinable',
      'Withdraw from the engagement without issuing a report',
      'Convert the engagement to a compilation to avoid the disclosure requirement',
    ],
    correctAnswer: 1,
    explanation: 'Under AR-C 90, when a CPA becomes aware of a material departure from GAAP in a review engagement, the CPA should first try to resolve it with management. If management refuses, the CPA must modify the review report to disclose the departure, its effects (if known), and the reasons for the modification. Withdrawal is an option but not the first step.',
    reference: 'AR-C 90',
  },
  {
    id: 'aud-wc-200',
    section: 'AUD',
    courseId: 'cpa',
    blueprintArea: 'AUD-II',
    topicId: 'aud-control-risk',
    topic: 'Control Risk',
    subtopic: 'Tests of Controls',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'An auditor performs tests of controls when:',
    options: [
      'Only for IT controls',
      'Never',
      'Only for cash handling',
      'Design and implementation of controls is satisfactory and auditor intends to rely on controls to reduce substantive procedures',
    ],
    correctAnswer: 3,
    explanation: 'Tests of controls: required if (1) planning to rely on operating effectiveness, or (2) substantive alone insufficient (highly automated controls). Must first evaluate design and implementation. Test method: inquiry, observation, reperformance, inspection.',
    reference: 'AU-C 330',
  },
  {
    id: 'aud-wc-201',
    section: 'AUD',
    courseId: 'cpa',
    blueprintArea: 'AUD-III',
    topicId: 'aud-analytical',
    topic: 'Analytical Procedures',
    subtopic: 'Expectation Precision',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'The precision of an expectation in analytical procedures is affected by:',
    options: [
      'Only materiality',
      'Only the procedure type',
      'Only sample size',
      'Reliability of data, level of disaggregation, and sophistication of the model used to develop expectation',
    ],
    correctAnswer: 3,
    explanation: 'Analytical procedure precision: data reliability (internal vs external, audited vs unaudited), disaggregation level (segment vs total), model sophistication (regression vs simple trend). More precise = more persuasive evidence.',
    reference: 'AU-C 520',
  },
  {
    id: 'aud-wc-202',
    section: 'AUD',
    courseId: 'cpa',
    blueprintArea: 'AUD-I',
    topicId: 'aud-accept',
    topic: 'Engagement Acceptance',
    subtopic: 'Change in Engagement',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'When a client requests a change from audit to compilation, the auditor should consider:',
    options: [
      'Always accept',
      'Automatically decline',
      'Only fee implications',
      'The reason for request, whether reasonable, and implications for scope limitation',
    ],
    correctAnswer: 3,
    explanation: 'Engagement change (AU-C 210): evaluate reason. Reasonable: circumstances changed, misunderstanding about service. Unreasonable: avoid scope limitation, obtain lower assurance. If unreasonable, continue original or withdraw.',
    reference: 'AU-C 210',
  },

  // REG (4 questions)
  {
    id: 'reg-wc-199',
    section: 'REG',
    courseId: 'cpa',
    blueprintArea: 'REG-III',
    topicId: 'reg-partnership',
    topic: 'Partnership Taxation',
    subtopic: 'Distribution of Marketable Securities',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'Distribution of marketable securities by a partnership to a partner is generally treated as:',
    options: [
      'Sale of securities',
      'Capital contribution',
      'Distribution of money (can trigger gain if FMV exceeds basis)',
      'Like any property distribution',
    ],
    correctAnswer: 2,
    explanation: 'Section 731(c): marketable securities = money for gain purposes. Gain recognized to extent FMV of securities exceeds partner\'s outside basis (before reduction for distribution). Exceptions exist for certain partnerships.',
    reference: 'IRC Section 731(c)',
  },
  {
    id: 'reg-wc-200',
    courseId: 'cpa',
    section: 'REG',
    blueprintArea: 'REG-II',
    topic: 'Individual Taxation',
    subtopic: 'AMT Preference Items',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'Which of the following is an AMT preference item or adjustment that increases alternative minimum taxable income (AMTI)?',
    options: [
      'Tax-exempt interest from private activity bonds issued after August 7, 1986',
      'State income tax refunds included in gross income under the tax benefit rule',
      'Qualified dividends taxed at preferential rates',
      'Long-term capital gains from the sale of qualified small business stock',
    ],
    correctAnswer: 0,
    explanation: 'Interest on private activity bonds (other than those issued in 2009-2010 and certain qualified bonds) is a tax preference item that must be added to regular taxable income when computing AMTI. This is one of the remaining AMT preference items under IRC §57(a)(5). Other common adjustments include the SALT deduction add-back, incentive stock option exercises, and depreciation timing differences.',
    reference: 'IRC Section 57',
  },
  {
    id: 'reg-wc-201',
    section: 'REG',
    courseId: 'cpa',
    blueprintArea: 'REG-I',
    topicId: 'reg-fiduciary',
    topic: 'Fiduciary Duties',
    subtopic: 'Duty of Loyalty',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'A fiduciary\'s duty of loyalty requires:',
    options: [
      'Acting in beneficiary\'s best interest, avoiding self-dealing and conflicts of interest',
      'Only following instructions',
      'Only protecting assets',
      'Only honesty',
    ],
    correctAnswer: 0,
    explanation: 'Duty of loyalty: undivided allegiance to beneficiary. No self-dealing, usurping opportunities, conflicts of interest. Must disclose material facts. Applies to trustees, directors, agents, partners. Stricter than duty of care.',
    reference: 'Fiduciary Duty',
  },
  {
    id: 'reg-wc-202',
    section: 'REG',
    courseId: 'cpa',
    blueprintArea: 'REG-IV',
    topicId: 'reg-like-kind',
    topic: 'Property Transactions',
    subtopic: 'Reverse Like-Kind Exchange',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'In a reverse like-kind exchange:',
    options: [
      'No deadlines apply',
      'Replacement property is acquired before relinquished property is transferred, using a qualified exchange accommodation arrangement',
      'Boot is never involved',
      'Only old property transfers',
    ],
    correctAnswer: 1,
    explanation: 'Reverse exchange: acquire replacement first. Use QEAA (qualified exchange accommodation arrangement). EAT (exchange accommodation titleholder) holds property. Same 45/180-day rules. More complex structuring than forward exchange.',
    reference: 'Rev. Proc. 2000-37',
  },

  // BAR (5 questions)
  {
    id: 'bar-wc-237',
    section: 'BAR',
    courseId: 'cpa',
    blueprintArea: 'BAR-I',
    topicId: 'bar-analysis',
    topic: 'Financial Statement Analysis',
    subtopic: 'Quality of Revenue',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'Indicators of revenue quality issues include:',
    options: [
      'Strong cash conversion',
      'Diverse customer base',
      'Bill-and-hold arrangements, significant returns, channel stuffing, round-dollar transactions',
      'Long-term contracts',
    ],
    correctAnswer: 2,
    explanation: 'Revenue quality concerns: aggressive recognition (bill-and-hold, channel stuffing), high returns/allowances, barter transactions, related party sales, significant estimates, unusual timing patterns, round-dollar sales.',
    reference: 'Revenue Quality',
  },
  {
    id: 'bar-wc-238',
    section: 'BAR',
    courseId: 'cpa',
    blueprintArea: 'BAR-II',
    topicId: 'bar-valuation',
    topic: 'Valuation',
    subtopic: 'EV/Sales Multiple',
    difficulty: 'medium',
    skillLevel: 'Application',
    question: 'The EV/Sales multiple is most useful when:',
    options: [
      'Valuing companies with negative earnings where earnings-based multiples are not meaningful',
      'Company is highly profitable',
      'Company has stable margins',
      'Only for retail companies',
    ],
    correctAnswer: 0,
    explanation: 'EV/Sales: normalizes for capital structure, useful for loss-making companies. Disadvantages: ignores profitability, different cost structures distort comparisons. Use with margin analysis or for early-stage/turnaround.',
    reference: 'Revenue Multiples',
  },
  {
    id: 'bar-wc-239',
    section: 'BAR',
    courseId: 'cpa',
    blueprintArea: 'BAR-III',
    topicId: 'bar-technical',
    topic: 'Technical Accounting',
    subtopic: 'Customer Concentration',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'Disclosure of major customer concentration is required when:',
    options: [
      '10% or more of revenue is from a single customer, government entity, or under a single contract',
      'Any customer exists',
      '50% of revenue',
      'Only for public companies',
    ],
    correctAnswer: 0,
    explanation: 'ASC 280-10-50: disclose major customer existence and segment(s) reporting revenue from customer. 10% threshold. Don\'t have to name customer. Includes government as a whole. Concentration risk factor.',
    reference: 'ASC 280-10-50',
  },
  {
    id: 'bar-wc-240',
    section: 'BAR',
    courseId: 'cpa',
    blueprintArea: 'BAR-III',
    topicId: 'bar-cost',
    topic: 'Cost Accounting',
    subtopic: 'Process Costing FIFO vs Weighted Average',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'FIFO process costing differs from weighted average in that:',
    options: [
      'Only ending inventory differs',
      'FIFO separates beginning WIP costs and current costs, computing equivalent units differently',
      'Both methods give same results',
      'Only direct materials differ'
    ],
    correctAnswer: 1,
    explanation: 'FIFO: EU excludes beginning WIP work already done. Unit cost = current period costs / EU for current period. Separates layers. Weighted average: blends beginning WIP + current costs, EU includes all work. FIFO more precise for cost trends.',
    reference: 'Process Costing',
  },
  {
    id: 'bar-wc-241',
    section: 'BAR',
    courseId: 'cpa',
    blueprintArea: 'BAR-I',
    topicId: 'bar-analysis',
    topic: 'Financial Statement Analysis',
    subtopic: 'Statement of Cash Flows Analysis',
    difficulty: 'medium',
    skillLevel: 'Application',
    question: 'A sustainable business typically shows positive cash flow from:',
    options: [
      'Financing activities',
      'Operating activities, with investing in growth and appropriate financing',
      'Investing activities',
      'All activities equally'
    ],
    correctAnswer: 1,
    explanation: 'Healthy pattern: positive CFO (core operations generate cash), negative CFI (investing in growth), CFI varies with strategy (debt/equity raises, dividends, buybacks). Sustained negative CFO = concern. Analyze across periods.',
    reference: 'Cash Flow Analysis',
  },

  // ISC (4 questions)
  {
    id: 'isc-wc-199',
    section: 'ISC',
    courseId: 'cpa',
    blueprintArea: 'ISC-I',
    topicId: 'isc-governance',
    topic: 'IT Governance',
    subtopic: 'IT Value Delivery',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'IT value delivery ensures:',
    options: [
      'Only cost reduction',
      'Only technology updates',
      'Only on-time projects',
      'IT investments generate expected business benefits through effective delivery and measuring outcomes',
    ],
    correctAnswer: 3,
    explanation: 'Value delivery: deliver promised benefits on time, budget. Track value realization. Benefits management: identify, plan, execute, review. Link IT investments to business outcomes. Part of Val IT framework.',
    reference: 'IT Value Delivery',
  },
  {
    id: 'isc-wc-200',
    section: 'ISC',
    courseId: 'cpa',
    blueprintArea: 'ISC-II',
    topicId: 'isc-security',
    topic: 'Security Controls',
    subtopic: 'API Security',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'API security controls should include:',
    options: [
      'Only access control',
      'Only encryption',
      'Only authentication',
      'Authentication, authorization, input validation, rate limiting, encryption, and logging',
    ],
    correctAnswer: 3,
    explanation: 'API security: authentication (OAuth, API keys), authorization (scope, permissions), input validation, rate limiting (prevent abuse), TLS encryption, logging/monitoring, versioning, API gateway controls.',
    reference: 'API Security',
  },
  {
    id: 'isc-wc-201',
    section: 'ISC',
    courseId: 'cpa',
    blueprintArea: 'ISC-III',
    topicId: 'isc-systems',
    topic: 'Information Systems',
    subtopic: 'Master Data Management',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'Master Data Management (MDM) provides:',
    options: [
      'Only reporting',
      'Only archiving',
      'Only backup',
      'Single source of truth for critical business data across the enterprise ensuring consistency and quality',
    ],
    correctAnswer: 3,
    explanation: 'MDM: manage core data (customer, product, employee, vendor). Single authoritative source. Data quality, standardization, governance. Hub models: registry, consolidation, coexistence. Critical for analytics, compliance.',
    reference: 'Master Data Management',
  },
  {
    id: 'isc-wc-202',
    section: 'ISC',
    courseId: 'cpa',
    blueprintArea: 'ISC-III',
    topicId: 'isc-audit',
    topic: 'IT Audit',
    subtopic: 'Audit Universe and Planning',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'The IT audit universe should include:',
    options: [
      'Only financial systems',
      'Only security',
      'Only compliance',
      'All auditable IT entities including applications, infrastructure, processes, vendors, and projects',
    ],
    correctAnswer: 3,
    explanation: 'Audit universe: comprehensive inventory of auditable items. Applications (critical, ERP), infrastructure (network, cloud), processes (change, incident), vendors/third parties, projects, data centers. Basis for risk-based audit planning.',
    reference: 'IT Audit Planning',
  },

  // TCP (4 questions)
  {
    id: 'tcp-wc-199',
    section: 'TCP',
    courseId: 'cpa',
    blueprintArea: 'TCP-II',
    topicId: 'tcp-entity',
    topic: 'Entity Tax Compliance',
    subtopic: 'Estimated Tax for Corporations',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'Large corporations must pay estimated tax based on:',
    options: [
      'Average of two years',
      'Prior year tax',
      'Any amount chosen',
      'Current year tax because prior year safe harbor does not apply',
    ],
    correctAnswer: 3,
    explanation: 'Large corporation: taxable income ≥ $1M in any of 3 preceding years. Cannot use prior year safe harbor for installments 2-4. First installment may use prior year, but must catch up. Must estimate current year liability.',
    reference: 'IRC Section 6655',
  },
  {
    id: 'tcp-wc-200',
    section: 'TCP',
    courseId: 'cpa',
    blueprintArea: 'TCP-I',
    topicId: 'tcp-individual',
    topic: 'Individual Tax Compliance',
    subtopic: 'Form 8949 Categories',
    difficulty: 'medium',
    skillLevel: 'Application',
    question: 'Form 8949 is used to report:',
    options: [
      'Only dividends',
      'Only interest income',
      'Only wages',
      'Sales and exchanges of capital assets, categorized by whether basis was reported to IRS',
    ],
    correctAnswer: 3,
    explanation: 'Form 8949: capital gains/losses detail. Categories: (A) short-term, 1099-B with basis; (B) short-term, 1099-B without basis; (C) short-term, no 1099-B. Same D/E/F for long-term. Totals transfer to Schedule D.',
    reference: 'Form 8949 Instructions',
  },
  {
    id: 'tcp-wc-201',
    courseId: 'cpa',
    section: 'TCP',
    blueprintArea: 'TCP-III',
    topic: 'Tax Planning',
    subtopic: 'Qualified Small Business Stock',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'A taxpayer converted a rental property (adjusted basis $300,000, FMV $450,000) to personal use for 2 years, then sold it for $400,000. What are the tax consequences?',
    options: [
    '$100,000 gain is recognized — basis remains $300,000 regardless of the conversion to personal use',
    '$0 — the §121 exclusion applies after converting to personal use',
    '$150,000 gain — based on FMV at conversion',
    '$100,000 loss — FMV dropped from $450,000 to $400,000',
    ],
    correctAnswer: 0,
    explanation: 'When rental property is converted to personal use, the basis remains the lower of adjusted basis ($300,000) or FMV at conversion ($450,000) — here $300,000. Upon sale: gain = $400,000 − $300,000 = $100,000. The §121 exclusion may partially apply if the taxpayer lived there for 2 of the last 5 years, but the gain must be allocated between qualified and nonqualified use periods under IRC §121(b)(5). The rental period is nonqualified use, so a portion of the gain may not be excludable.',
    reference: 'IRC Section 1202',
  },
  {
    id: 'tcp-wc-202',
    section: 'TCP',
    courseId: 'cpa',
    blueprintArea: 'TCP-IV',
    topicId: 'tcp-representation',
    topic: 'Tax Representation',
    subtopic: 'Tax Court Jurisdiction',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'The US Tax Court has jurisdiction over:',
    options: [
      'Only refund claims',
      'Only criminal tax cases',
      'Only estate tax',
      'Deficiency cases where taxpayer disputes IRS assessment before paying, plus other specified actions',
    ],
    correctAnswer: 3,
    explanation: 'Tax Court: deficiency jurisdiction (dispute before paying). Also: partnership actions, declaratory judgments (exempt status, gift valuation), interest abatement, collection due process. No jury. National court, tries cases nationwide.',
    reference: 'IRC Section 7442',
  },
];
