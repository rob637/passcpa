// World-Class Questions Batch 8 - Exam Quality MCQs
// 25 questions across all CPA exam sections

import { Question } from '../../../types';

export const WORLD_CLASS_BATCH_8: Question[] = [
  // FAR (4 questions)
  {
    id: 'far-wc-067',
    section: 'FAR',
    courseId: 'cpa',
    blueprintArea: 'FAR-II',
    topicId: 'far-inventory',
    topic: 'Inventory',
    subtopic: 'Lower of Cost or NRV',
    difficulty: 'medium',
    skillLevel: 'Application',
    question: 'A company has inventory with a cost of $50,000, replacement cost of $42,000, selling price of $55,000, normal profit margin of $8,000, and costs to complete and sell of $7,000. Under GAAP, what is the inventory value?',
    options: [
      '$47,000',
      '$48,000',
      '$50,000',
      '$42,000',
    ],
    correctAnswer: 1,
    explanation: 'Under ASC 330, inventory is valued at lower of cost or net realizable value (NRV). NRV = Selling price - Costs to complete and sell = $55,000 - $7,000 = $48,000. Compare: Cost ($50,000) vs NRV ($48,000). Inventory value = $48,000 (lower amount).',
    reference: 'ASC 330-10-35',
  },
  {
    id: 'far-wc-068',
    section: 'FAR',
    courseId: 'cpa',
    blueprintArea: 'FAR-II',
    topicId: 'far-ppe',
    topic: 'Property, Plant and Equipment',
    subtopic: 'Asset Retirement Obligations',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'A company installs equipment with a legal obligation to remove it in 10 years at an estimated cost of $500,000. The credit-adjusted risk-free rate is 6%. PV factor for 10 years at 6% is 0.5584. What is the initial asset retirement obligation?',
    options: [
      '$220,800',
      '$279,200',
      '$300,000',
      '$500,000',
    ],
    correctAnswer: 1,
    explanation: 'Under ASC 410, ARO is recorded at present value of the future retirement cost. ARO = $500,000 × 0.5584 = $279,200. This amount is also added to the asset cost and depreciated. Each period, accretion expense increases the ARO liability toward the $500,000 settlement amount.',
    reference: 'ASC 410-20-25',
  },
  {
    id: 'far-wc-069',
    section: 'FAR',
    courseId: 'cpa',
    blueprintArea: 'FAR-III',
    topicId: 'far-consolidations',
    topic: 'Consolidations',
    subtopic: 'Intercompany Transactions',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'Parent sells inventory to Subsidiary for $80,000 (cost $60,000). At year-end, Subsidiary has 25% of this inventory remaining. What is the unrealized intercompany profit to be eliminated in consolidation?',
    options: [
      '$0 because the sale was downstream',
      '$5,000',
      '$15,000',
      '$20,000',
    ],
    correctAnswer: 1,
    explanation: 'Total intercompany profit = $80,000 - $60,000 = $20,000. Inventory remaining (unsold to outsiders) = 25%. Unrealized profit = $20,000 × 25% = $5,000. This amount is eliminated in consolidation. The 75% sold to third parties represents realized profit.',
    reference: 'ASC 810-10-45',
  },
  {
    id: 'far-wc-070',
    section: 'FAR',
    courseId: 'cpa',
    blueprintArea: 'FAR-V',
    topicId: 'far-nfp',
    topic: 'Not-for-Profit',
    subtopic: 'Conditional vs Unconditional Promises',
    difficulty: 'medium',
    skillLevel: 'Application',
    question: 'A foundation promises to give a university $1,000,000 if the university raises matching funds within 2 years. At the promise date, the university has not yet raised matching funds. How should the university record this?',
    options: [
      'A conditional contribution disclosed in notes only',
      'Deferred revenue of $1,000,000',
      'Contribution revenue of $500,000 (50% probability)',
      'Contribution revenue of $1,000,000',
    ],
    correctAnswer: 0,
    explanation: 'This is a conditional promise because it has a barrier (raising matching funds) and right of return. Conditional contributions are not recognized until conditions are substantially met. They are disclosed in the notes. Recognition occurs when the matching funds are raised.',
    reference: 'ASC 958-605-25',
  },

  // AUD (4 questions)
  {
    id: 'aud-wc-067',
    section: 'AUD',
    courseId: 'cpa',
    blueprintArea: 'AUD-III',
    topicId: 'aud-procedures',
    topic: 'Audit Procedures',
    subtopic: 'Revenue Testing',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'An auditor is testing for overstatement of revenue. The most effective procedure is to:',
    options: [
      'Confirm accounts receivable balances',
      'Perform analytical procedures on gross margin',
      'Select recorded sales and vouch to shipping documents',
      'Select shipping documents and trace to sales records',
    ],
    correctAnswer: 2,
    explanation: 'Testing for overstatement (existence/occurrence) starts with recorded amounts and vouches to supporting evidence. Select from sales records → vouch to shipping documents proves recorded sales actually occurred. Starting from shipping documents tests completeness (understatement), not existence.',
    reference: 'AU-C 500.A2',
  },
  {
    id: 'aud-wc-068',
    section: 'AUD',
    courseId: 'cpa',
    blueprintArea: 'AUD-II',
    topicId: 'aud-planning',
    topic: 'Audit Planning',
    subtopic: 'Engagement Letters',
    difficulty: 'easy',
    skillLevel: 'Remembering and Understanding',
    question: 'The primary purpose of an engagement letter for an audit is to:',
    options: [
      'Document the audit plan',
      'Satisfy legal requirements for documentation',
      'Define the audit fee arrangement',
      'Establish a mutual understanding of the engagement terms',
    ],
    correctAnswer: 3,
    explanation: 'The engagement letter establishes and documents the understanding between auditor and management regarding audit objectives, scope, responsibilities, and other terms. While fees may be included, the primary purpose is clarifying responsibilities and expectations.',
    reference: 'AU-C 210.06',
  },
  {
    id: 'aud-wc-069',
    section: 'AUD',
    courseId: 'cpa',
    blueprintArea: 'AUD-VI',
    topicId: 'aud-other',
    topic: 'Other Services',
    subtopic: 'Pro Forma Financial Information',
    difficulty: 'medium',
    skillLevel: 'Application',
    question: 'When reporting on pro forma financial information, the practitioner should:',
    options: [
      'Provide negative assurance on all pro forma amounts',
      'Express an opinion on the pro forma adjustments',
      'Audit all historical financial statements included',
      'Report whether the pro forma adjustments are properly applied',
    ],
    correctAnswer: 3,
    explanation: 'Under AT-C 310, the practitioner reports on whether: (1) management\'s assumptions provide a reasonable basis for the pro forma information, (2) the pro forma adjustments reflect proper application of those assumptions, and (3) the pro forma column reflects proper application of adjustments.',
    reference: 'AT-C 310.20',
  },
  {
    id: 'aud-wc-070',
    section: 'AUD',
    courseId: 'cpa',
    blueprintArea: 'AUD-I',
    topicId: 'aud-ethics',
    topic: 'Professional Responsibilities',
    subtopic: 'Due Professional Care',
    difficulty: 'medium',
    skillLevel: 'Application',
    question: 'Due professional care in an audit requires the auditor to:',
    options: [
      'Accept responsibility for management\'s assertions',
      'Guarantee detection of all fraud',
      'Obtain absolute assurance about financial statement accuracy',
      'Exercise the skill expected of a reasonably competent auditor',
    ],
    correctAnswer: 3,
    explanation: 'Due professional care means exercising the skill and diligence expected of a reasonably prudent auditor. It does not guarantee fraud detection or provide absolute assurance. Auditors obtain reasonable, not absolute, assurance and are not guarantors of financial statement accuracy.',
    reference: 'AU-C 200.17',
  },

  // REG (4 questions)
  {
    id: 'reg-wc-067',
    section: 'REG',
    courseId: 'cpa',
    blueprintArea: 'REG-II',
    topicId: 'reg-individual',
    topic: 'Individual Taxation',
    subtopic: 'Roth IRA Conversions',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'A taxpayer converts $100,000 from a traditional IRA (all deductible contributions) to a Roth IRA. The taxpayer is 45 years old. What are the tax consequences?',
    options: [
      '$100,000 taxable at capital gains rates',
      'No current tax; deferred until Roth distributions',
      '$100,000 taxable income, no penalty',
      '$100,000 taxable income plus 10% early withdrawal penalty',
    ],
    correctAnswer: 2,
    explanation: 'Roth conversions are taxable as ordinary income (since the traditional IRA was funded with deductible contributions). However, the 10% early withdrawal penalty does NOT apply to conversions to Roth IRAs, even if under age 59½. Tax must be paid currently.',
    reference: 'IRC Section 408A',
  },
  {
    id: 'reg-wc-068',
    section: 'REG',
    courseId: 'cpa',
    blueprintArea: 'REG-III',
    topicId: 'reg-scorp',
    topic: 'S Corporation',
    subtopic: 'AAA Account',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'An S corporation has AAA of $50,000 and accumulated E&P (from C corp years) of $30,000. The S corp distributes $70,000 to its sole shareholder (basis $100,000). How is the distribution taxed?',
    options: [
      '$70,000 dividend',
      '$50,000 tax-free, $20,000 dividend',
      '$50,000 tax-free, $30,000 dividend (to extent of E&P)',
      '$70,000 return of basis',
    ],
    correctAnswer: 2,
    explanation: 'S corp distributions with accumulated E&P are applied: (1) Tax-free from AAA ($50,000), (2) Dividend from accumulated E&P (up to $30,000), (3) Tax-free return of basis, (4) Capital gain. Distribution: $50,000 from AAA (tax-free), $20,000 from E&P (dividend). Only $20,000 comes from E&P because distribution is $70,000 total.',
    reference: 'IRC Section 1368',
  },
  {
    id: 'reg-wc-069',
    section: 'REG',
    courseId: 'cpa',
    blueprintArea: 'REG-I',
    topicId: 'reg-business-law',
    topic: 'Business Law',
    subtopic: 'Suretyship',
    difficulty: 'medium',
    skillLevel: 'Application',
    question: 'A surety has the right of subrogation. This means the surety:',
    options: [
      'Steps into the creditor\'s position after paying the debt',
      'Is released if the creditor modifies the agreement',
      'Can demand contribution from co-sureties before payment',
      'Can require the creditor to first pursue the debtor',
    ],
    correctAnswer: 0,
    explanation: 'Subrogation allows the surety who pays the creditor to "step into the shoes" of the creditor and enforce the creditor\'s rights against the principal debtor. This includes any collateral or security the creditor held. Requiring creditor to pursue debtor first is "exhaustion."',
    reference: 'Suretyship Law',
  },
  {
    id: 'reg-wc-070',
    section: 'REG',
    courseId: 'cpa',
    blueprintArea: 'REG-IV',
    topicId: 'reg-property',
    topic: 'Property Transactions',
    subtopic: 'Section 1231',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'A sole proprietor sells business equipment for $40,000. The equipment had an original cost of $50,000 and accumulated depreciation of $30,000 (all ordinary depreciation). What is the character of the gain?',
    options: [
      '$20,000 Section 1245 ordinary income',
      '$20,000 long-term capital gain',
      '$30,000 Section 1245 ordinary income (recapture limited to gain)',
      '$20,000 Section 1231 gain',
    ],
    correctAnswer: 0,
    explanation: 'Adjusted basis = $50,000 - $30,000 = $20,000. Gain = $40,000 - $20,000 = $20,000. Section 1245 recaptures depreciation as ordinary income to extent of gain. Since gain ($20,000) < depreciation taken ($30,000), entire $20,000 gain is ordinary income under Section 1245.',
    reference: 'IRC Section 1245',
  },

  // BAR (5 questions)
  {
    id: 'bar-wc-072',
    section: 'BAR',
    courseId: 'cpa',
    blueprintArea: 'BAR-I',
    topicId: 'bar-analysis',
    topic: 'Financial Statement Analysis',
    subtopic: 'Asset Turnover',
    difficulty: 'easy',
    skillLevel: 'Remembering and Understanding',
    question: 'Net sales are $2,400,000 and average total assets are $800,000. What is the asset turnover ratio?',
    options: [
      '0.33 times',
      '2.0 times',
      '3.0 times',
      '4.0 times',
    ],
    correctAnswer: 2,
    explanation: 'Asset turnover = Net sales / Average total assets = $2,400,000 / $800,000 = 3.0 times. This efficiency ratio measures how effectively assets generate revenue. Higher turnover indicates more efficient asset utilization.',
    reference: 'Financial Ratio Analysis',
  },
  {
    id: 'bar-wc-073',
    section: 'BAR',
    courseId: 'cpa',
    blueprintArea: 'BAR-II',
    topicId: 'bar-valuation',
    topic: 'Valuation',
    subtopic: 'Payback Period',
    difficulty: 'easy',
    skillLevel: 'Remembering and Understanding',
    question: 'A project requires an initial investment of $200,000 and generates annual cash flows of $50,000. What is the payback period?',
    options: [
      '4 years',
      '2 years',
      '3 years',
      '5 years',
    ],
    correctAnswer: 0,
    explanation: 'Payback period = Initial investment / Annual cash flow = $200,000 / $50,000 = 4 years. This simple metric measures how long it takes to recover the initial investment but ignores time value of money and cash flows after payback.',
    reference: 'Capital Budgeting Analysis',
  },
  {
    id: 'bar-wc-074',
    section: 'BAR',
    courseId: 'cpa',
    blueprintArea: 'BAR-III',
    topicId: 'bar-technical',
    topic: 'Technical Accounting',
    subtopic: 'Goodwill Impairment',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'A reporting unit has a carrying amount of $500,000 (including $100,000 goodwill) and a fair value of $420,000. What is the goodwill impairment loss?',
    options: [
      '$0',
      '$80,000',
      '$100,000',
      '$180,000'
    ],
    correctAnswer: 1,
    explanation: 'Under ASC 350 (post-2017), goodwill impairment = Carrying amount - Fair value, limited to goodwill balance. Impairment = $500,000 - $420,000 = $80,000. Since $80,000 < goodwill balance ($100,000), the impairment loss is $80,000.',
    reference: 'ASC 350-20-35',
  },
  {
    id: 'bar-wc-075',
    section: 'BAR',
    courseId: 'cpa',
    blueprintArea: 'BAR-I',
    topicId: 'bar-analysis',
    topic: 'Financial Statement Analysis',
    subtopic: 'Operating Cycle',
    difficulty: 'medium',
    skillLevel: 'Application',
    question: 'A company has days inventory outstanding of 45 days and days sales outstanding of 30 days. What is the operating cycle?',
    options: [
      '15 days',
      '45 days',
      '75 days',
      '135 days'
    ],
    correctAnswer: 2,
    explanation: 'Operating cycle = Days inventory outstanding + Days sales outstanding = 45 + 30 = 75 days. This measures the time from purchasing inventory to collecting cash from customers. Shorter operating cycles indicate more efficient working capital management.',
    reference: 'Financial Ratio Analysis',
  },
  {
    id: 'bar-wc-076',
    section: 'BAR',
    courseId: 'cpa',
    blueprintArea: 'BAR-IV',
    topicId: 'bar-cost',
    topic: 'Cost Accounting',
    subtopic: 'Break-Even Analysis',
    difficulty: 'medium',
    skillLevel: 'Application',
    question: 'Fixed costs are $120,000, unit selling price is $40, and unit variable cost is $25. How many units must be sold to break even?',
    options: [
      '4,800 units',
      '8,000 units',
      '3,000 units',
      '12,000 units',
    ],
    correctAnswer: 1,
    explanation: 'Contribution margin per unit = $40 - $25 = $15. Break-even units = Fixed costs / CM per unit = $120,000 / $15 = 8,000 units. This is the volume where total revenue equals total costs (zero profit).',
    reference: 'Cost-Volume-Profit Analysis',
  },

  // ISC (4 questions)
  {
    id: 'isc-wc-067',
    section: 'ISC',
    courseId: 'cpa',
    blueprintArea: 'ISC-II',
    topicId: 'isc-security',
    topic: 'Security Controls',
    subtopic: 'Incident Response',
    difficulty: 'medium',
    skillLevel: 'Application',
    question: 'The FIRST step in incident response when a security breach is detected is:',
    options: [
      'Post-incident review',
      'Recovery and restoration',
      'Identification and containment',
      'Eradication of the threat',
    ],
    correctAnswer: 2,
    explanation: 'Incident response phases: (1) Preparation, (2) Identification/Detection, (3) Containment, (4) Eradication, (5) Recovery, (6) Lessons learned. When a breach is detected, first identify the scope and contain the damage before attempting to remove threats or restore systems.',
    reference: 'NIST SP 800-61',
  },
  {
    id: 'isc-wc-068',
    section: 'ISC',
    courseId: 'cpa',
    blueprintArea: 'ISC-I',
    topicId: 'isc-governance',
    topic: 'IT Governance',
    subtopic: 'Compliance',
    difficulty: 'medium',
    skillLevel: 'Application',
    question: 'SOX Section 404 requires:',
    options: [
      'Disclosure of all material contracts',
      'Management assessment and auditor attestation on internal control over financial reporting',
      'Quarterly review of financial statements',
      'Annual financial statement audit by external auditors',
    ],
    correctAnswer: 1,
    explanation: 'SOX 404 requires management to annually assess and report on the effectiveness of internal control over financial reporting (ICFR). For larger companies, the external auditor must attest to (audit) management\'s assessment. This is separate from the financial statement audit.',
    reference: 'Sarbanes-Oxley Act Section 404',
  },
  {
    id: 'isc-wc-069',
    section: 'ISC',
    courseId: 'cpa',
    blueprintArea: 'ISC-V',
    topicId: 'isc-data',
    topic: 'Data Management',
    subtopic: 'Big Data',
    difficulty: 'easy',
    skillLevel: 'Remembering and Understanding',
    question: 'The "3 Vs" of big data are commonly described as:',
    options: [
      'Volume, Velocity, Variety',
      'Visualization, Variation, Verification',
      'Variables, Vectors, Values',
      'Validation, Verification, Value',
    ],
    correctAnswer: 0,
    explanation: 'The 3 Vs of big data: Volume (large amounts), Velocity (fast generation/processing), Variety (structured, unstructured, semi-structured). Additional Vs include Veracity (data quality) and Value (business usefulness).',
    reference: 'Big Data Concepts',
  },
  {
    id: 'isc-wc-070',
    section: 'ISC',
    courseId: 'cpa',
    blueprintArea: 'ISC-IV',
    topicId: 'isc-audit',
    topic: 'IT Audit',
    subtopic: 'Change Management',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'When reviewing IT change management controls, an auditor would be MOST concerned if:',
    options: [
      'All changes are logged and tracked',
      'Emergency changes bypass normal procedures with after-the-fact documentation',
      'Developers can migrate their own code changes to production',
      'Changes require management approval before implementation',
    ],
    correctAnswer: 2,
    explanation: 'Developers having ability to migrate their own changes to production is a critical segregation of duties violation. This creates opportunity for unauthorized changes without independent review. Emergency change procedures (with proper documentation and review) are an acceptable control.',
    reference: 'Change Management Controls',
  },

  // TCP (4 questions)
  {
    id: 'tcp-wc-067',
    section: 'TCP',
    courseId: 'cpa',
    blueprintArea: 'TCP-I',
    topicId: 'tcp-individual',
    topic: 'Individual Tax Compliance',
    subtopic: 'Health Savings Accounts',
    difficulty: 'medium',
    skillLevel: 'Application',
    question: 'Which of the following is required to be eligible to contribute to a Health Savings Account (HSA)?',
    options: [
      'Having Medicare Part A coverage',
      'Being self-employed',
      'Coverage under any health insurance plan',
      'Coverage under a high-deductible health plan (HDHP)',
    ],
    correctAnswer: 3,
    explanation: 'HSA eligibility requires: (1) Coverage under a qualifying HDHP, (2) No other health coverage (with some exceptions), (3) Not enrolled in Medicare, (4) Not claimed as a dependent. HDHPs have minimum deductible and maximum out-of-pocket limits set annually.',
    reference: 'IRC Section 223',
  },
  {
    id: 'tcp-wc-068',
    section: 'TCP',
    courseId: 'cpa',
    blueprintArea: 'TCP-II',
    topicId: 'tcp-entity',
    topic: 'Entity Tax Compliance',
    subtopic: 'LLC Taxation',
    difficulty: 'medium',
    skillLevel: 'Application',
    question: 'A single-member LLC does not elect corporate treatment. How is it taxed for federal income tax purposes?',
    options: [
      'As a disregarded entity (Schedule C for sole proprietor)',
      'As an S corporation',
      'As a partnership',
      'As a C corporation',
    ],
    correctAnswer: 0,
    explanation: 'By default, a single-member LLC is a "disregarded entity" for federal tax purposes. The owner reports all income and expenses on their individual return (Schedule C for sole proprietors). The LLC can elect to be treated as a corporation if desired.',
    reference: 'IRC Section 7701',
  },
  {
    id: 'tcp-wc-069',
    section: 'TCP',
    courseId: 'cpa',
    blueprintArea: 'TCP-III',
    topicId: 'tcp-planning',
    topic: 'Tax Planning',
    subtopic: 'Tax Loss Harvesting',
    difficulty: 'medium',
    skillLevel: 'Application',
    question: 'An investor sells a stock at a $10,000 loss and immediately purchases a call option on the same stock. Under the wash sale rules:',
    options: [
      'Only 50% of the loss is deductible',
      'Loss is allowed if the option expires worthless',
      'Loss is fully deductible because options are not substantially identical',
      'Loss is disallowed because the call option is substantially identical',
    ],
    correctAnswer: 3,
    explanation: 'A call option on the same stock is considered "substantially identical" for wash sale purposes. The loss is disallowed if the option is purchased within 30 days before or after the sale. The disallowed loss is added to the option\'s basis.',
    reference: 'IRC Section 1091',
  },
  {
    id: 'tcp-wc-070',
    courseId: 'cpa',
    section: 'TCP',
    blueprintArea: 'TCP-I',
    topic: 'Individual Tax Compliance',
    subtopic: 'Alimony',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'A self-employed taxpayer has a home office that is 300 sq ft, used exclusively and regularly for business. Total home expenses are $18,000 (mortgage interest, taxes, insurance, utilities, depreciation). Under the simplified method, what is the home office deduction?',
    options: [
      '$1,500 — $5 per square foot, maximum 300 sq ft',
      '$5,400 — proportional share of actual expenses',
      '$3,000 — $10 per square foot',
      '$18,000 — all home expenses are deductible',
    ],
    correctAnswer: 0,
    explanation: 'The simplified method for the home office deduction allows $5 per square foot, up to a maximum of 300 square feet (maximum deduction of $1,500). The taxpayer can alternatively use the regular method, calculating the actual percentage of home used for business (300 sq ft ÷ total sq ft) and applying that to actual expenses. The simplified method avoids complex calculations and depreciation recapture but often yields a lower deduction.',
    reference: 'IRC Section 71 (repealed for post-2018 agreements)',
  },
];
