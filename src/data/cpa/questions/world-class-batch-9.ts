// World-Class Questions Batch 9 - Exam Quality MCQs
// 25 questions across all CPA exam sections

import { Question } from '../../../types';

export const WORLD_CLASS_BATCH_9: Question[] = [
  // FAR (4 questions)
  {
    id: 'far-wc-071',
    section: 'FAR',
    courseId: 'cpa',
    blueprintArea: 'FAR-I',
    topicId: 'far-concepts',
    topic: 'Conceptual Framework',
    subtopic: 'Measurement Bases',
    difficulty: 'medium',
    skillLevel: 'Application',
    question: 'Under GAAP, which measurement attribute is used for trading securities?',
    options: [
      'Current replacement cost',
      'Net realizable value',
      'Fair value',
      'Historical cost',
    ],
    correctAnswer: 2,
    explanation: 'Trading securities are measured at fair value with unrealized gains and losses recognized in income. This differs from debt securities held-to-maturity (amortized cost) and provides decision-relevant information for actively traded portfolios.',
    reference: 'ASC 320-10-35',
  },
  {
    id: 'far-wc-072',
    section: 'FAR',
    courseId: 'cpa',
    blueprintArea: 'FAR-II',
    topicId: 'far-current-liabilities',
    topic: 'Current Liabilities',
    subtopic: 'Compensated Absences',
    difficulty: 'medium',
    skillLevel: 'Application',
    question: 'An employer must accrue a liability for compensated absences (vacation pay) when all of the following conditions are met EXCEPT:',
    options: [
      'Employee has submitted a formal request for time off',
      'Payment is probable',
      'Rights to compensation vest or accumulate',
      'Services have already been rendered',
    ],
    correctAnswer: 0,
    explanation: 'ASC 710 requires accrual when: (1) services already rendered, (2) rights vest or accumulate, (3) payment is probable, and (4) amount can be reasonably estimated. A formal request for time off is NOT required for accrual.',
    reference: 'ASC 710-10-25',
  },
  {
    id: 'far-wc-073',
    section: 'FAR',
    courseId: 'cpa',
    blueprintArea: 'FAR-IV',
    topicId: 'far-government',
    topic: 'Government Accounting',
    subtopic: 'Fund Accounting',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'A city\'s electric utility is accounted for in which type of fund?',
    options: [
      'Enterprise Fund',
      'Capital Projects Fund',
      'Special Revenue Fund',
      'General Fund',
    ],
    correctAnswer: 0,
    explanation: 'Enterprise funds account for activities that provide goods or services to the public on a user-charge basis, similar to private businesses. Utilities (electric, water, sewer) are classic examples. These are proprietary funds using full accrual accounting.',
    reference: 'GASB Codification 1300',
  },
  {
    id: 'far-wc-074',
    section: 'FAR',
    courseId: 'cpa',
    blueprintArea: 'FAR-III',
    topicId: 'far-derivatives',
    topic: 'Derivatives',
    subtopic: 'Hedge Effectiveness',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'For a cash flow hedge to qualify for special accounting, the hedging relationship must be:',
    options: [
      'At least 80% effective at inception only',
      'Documented after hedge gains or losses are known',
      'Expected to be highly effective',
      'Perfectly effective at offsetting cash flow changes',
    ],
    correctAnswer: 2,
    explanation: 'Under ASC 815, hedge accounting requires prospective assessment that the hedge will be "highly effective." Documentation must be established at inception (before the fact). Perfect effectiveness is not required, but the relationship must meet effectiveness criteria.',
    reference: 'ASC 815-20-25',
  },

  // AUD (4 questions)
  {
    id: 'aud-wc-071',
    section: 'AUD',
    courseId: 'cpa',
    blueprintArea: 'AUD-IV',
    topicId: 'aud-evaluation',
    topic: 'Evaluating Results',
    subtopic: 'Subsequent Events',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'A Type II subsequent event that provides evidence of conditions arising after year-end should be:',
    options: [
      'Used to adjust the financial statements',
      'Ignored because it arose after the balance sheet date',
      'Reported only in the auditor\'s report',
      'Disclosed in the notes without adjustment',
    ],
    correctAnswer: 3,
    explanation: 'Type II subsequent events arise after year-end and do not require adjustment. If material, they should be disclosed in the notes. Type I events provide evidence of conditions existing at year-end and DO require adjustment. The auditor evaluates both types.',
    reference: 'AU-C 560.09',
  },
  {
    id: 'aud-wc-072',
    section: 'AUD',
    courseId: 'cpa',
    blueprintArea: 'AUD-III',
    topicId: 'aud-procedures',
    topic: 'Audit Procedures',
    subtopic: 'Management Representations',
    difficulty: 'medium',
    skillLevel: 'Application',
    question: 'The primary purpose of obtaining written management representations is to:',
    options: [
      'Replace substantive testing procedures',
      'Provide evidence that can substitute for other evidence',
      'Satisfy legal requirements for documentation',
      'Confirm management\'s responsibility and responses to inquiries',
    ],
    correctAnswer: 3,
    explanation: 'Written representations confirm management\'s responsibility for the financial statements and acknowledge their oral responses to audit inquiries. They complement other audit evidence but do not replace substantive tests. Representations alone are not sufficient audit evidence.',
    reference: 'AU-C 580.02',
  },
  {
    id: 'aud-wc-073',
    section: 'AUD',
    courseId: 'cpa',
    blueprintArea: 'AUD-V',
    topicId: 'aud-reports',
    topic: 'Audit Reports',
    subtopic: 'Key Audit Matters',
    difficulty: 'medium',
    skillLevel: 'Application',
    question: 'Key audit matters (KAMs) in an auditor\'s report for a public company are:',
    options: [
      'Matters that caused the auditor to have substantial doubt about going concern',
      'Exceptions that resulted in a qualified opinion',
      'All significant deficiencies identified',
      'Matters communicated to those charged with governance that required significant auditor attention',
    ],
    correctAnswer: 3,
    explanation: 'KAMs are selected from matters communicated to those charged with governance that required significant auditor attention during the current period audit. They include areas of higher assessed risk, significant management judgment, or significant audit judgment.',
    reference: 'AS 3101.11',
  },
  {
    id: 'aud-wc-074',
    section: 'AUD',
    courseId: 'cpa',
    blueprintArea: 'AUD-II',
    topicId: 'aud-risk',
    topic: 'Risk Assessment',
    subtopic: 'Fraud Risk Factors',
    difficulty: 'medium',
    skillLevel: 'Application',
    question: 'Which of the following represents a fraud risk factor related to opportunity?',
    options: [
      'Management\'s rationalization of aggressive accounting',
      'Management compensation heavily tied to aggressive targets',
      'High employee turnover in key positions',
      'Inadequate monitoring of internal controls',
    ],
    correctAnswer: 3,
    explanation: 'The fraud triangle includes incentive/pressure, opportunity, and rationalization. Inadequate monitoring of controls represents opportunity—it allows fraud to occur undetected. Compensation tied to targets is incentive; rationalization involves justifying unethical behavior.',
    reference: 'AU-C 240.A26',
  },

  // REG (4 questions)
  {
    id: 'reg-wc-071',
    section: 'REG',
    courseId: 'cpa',
    blueprintArea: 'REG-II',
    topicId: 'reg-individual',
    topic: 'Individual Taxation',
    subtopic: 'Passive Activity Losses',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'A taxpayer actively participates in a rental real estate activity. They have $30,000 of rental losses and AGI of $120,000 (before the rental loss). How much of the rental loss can be deducted?',
    options: [
      '$30,000',
      '$15,000',
      '$20,000',
      '$0',
    ],
    correctAnswer: 1,
    explanation: 'Active participants in rental real estate can deduct up to $25,000 of losses against non-passive income, phased out by 50% of AGI over $100,000. Phase-out = ($120,000 - $100,000) × 50% = $10,000. Remaining allowance = $25,000 - $10,000 = $15,000. Since the taxpayer has $30,000 in losses, they can only deduct $15,000 (the remaining allowance).',
    reference: 'IRC Section 469(i)',
  },
  {
    id: 'reg-wc-072',
    section: 'REG',
    courseId: 'cpa',
    blueprintArea: 'REG-I',
    topicId: 'reg-business-law',
    topic: 'Business Law',
    subtopic: 'Agency',
    difficulty: 'easy',
    skillLevel: 'Remembering and Understanding',
    question: 'An agency relationship requires which of the following?',
    options: [
      'A specific duration',
      'Compensation to the agent',
      'Consent of both principal and agent',
      'A written contract',
    ],
    correctAnswer: 2,
    explanation: 'Agency requires mutual consent—the principal authorizes the agent to act, and the agent agrees. No written contract is required (except for certain situations under the statute of frauds). Agency can be gratuitous (no compensation) and indefinite in duration.',
    reference: 'Agency Law Principles',
  },
  {
    id: 'reg-wc-073',
    section: 'REG',
    courseId: 'cpa',
    blueprintArea: 'REG-V',
    topicId: 'reg-ethics',
    topic: 'Ethics',
    subtopic: 'Circular 230',
    difficulty: 'medium',
    skillLevel: 'Application',
    question: 'Under Circular 230, a practitioner who discovers an error on a previously filed return must:',
    options: [
      'Advise the client of the error and consequences of not correcting it',
      'Notify the IRS directly',
      'Withdraw from the engagement immediately',
      'File an amended return without client authorization',
    ],
    correctAnswer: 0,
    explanation: 'Circular 230 requires practitioners to promptly advise clients of errors, omissions, or noncompliance discovered on prior returns. The practitioner must inform of consequences but cannot file an amendment without client consent. No duty to notify IRS directly.',
    reference: 'Circular 230 Section 10.21',
  },
  {
    id: 'reg-wc-074',
    section: 'REG',
    courseId: 'cpa',
    blueprintArea: 'REG-III',
    topicId: 'reg-partnership',
    topic: 'Partnership Taxation',
    subtopic: 'Liquidating Distributions',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'A partner receives a liquidating distribution of $50,000 cash when their outside basis is $35,000. What is the tax consequence?',
    options: [
      '$15,000 capital gain recognized',
      '$15,000 ordinary income recognized',
      '$35,000 capital gain recognized',
      'No gain or loss recognized',
    ],
    correctAnswer: 0,
    explanation: 'In a liquidating distribution, gain is recognized if cash received exceeds outside basis. Gain = $50,000 - $35,000 = $15,000. This gain is capital gain (from partnership interest). Loss is only recognized in liquidation if only cash, unrealized receivables, or inventory is distributed.',
    reference: 'IRC Section 731',
  },

  // BAR (5 questions)
  {
    id: 'bar-wc-077',
    section: 'BAR',
    courseId: 'cpa',
    blueprintArea: 'BAR-II',
    topicId: 'bar-valuation',
    topic: 'Valuation',
    subtopic: 'Internal Rate of Return',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'A project requires a $100,000 investment and returns $130,000 in one year. What is the IRR?',
    options: [
      '23%',
      '30%',
      '13%',
      '130%',
    ],
    correctAnswer: 1,
    explanation: 'IRR is the rate where NPV = 0. For a single-period project: $100,000 = $130,000/(1+r). Solving: (1+r) = 1.30, so r = 30%. IRR measures the effective return on the investment. Projects exceeding the required return should be accepted.',
    reference: 'Capital Budgeting Analysis',
  },
  {
    id: 'bar-wc-078',
    courseId: 'cpa',
    section: 'BAR',
    blueprintArea: 'BAR-III',
    topic: 'Technical Accounting',
    subtopic: 'Fair Value Hierarchy',
    difficulty: 'medium',
    skillLevel: 'Application',
    question: 'Quorum Corp. values a derivative instrument using a pricing model with interest rate curves derived from broker quotes in over-the-counter markets and credit risk adjustments based on observable credit spreads. What ASC 820 fair value level applies?',
    options: [
      'Level 1 — exchange-traded prices',
      'Level 2 — observable inputs used in a pricing model',
      'Level 3 — entity-specific cash flow assumptions',
      'Derivatives are exempt from fair value hierarchy classification',
    ],
    correctAnswer: 1,
    explanation: 'Under ASC 820, Level 2 inputs include interest rate curves and credit spreads that are observable in active markets (even if derived from OTC broker quotes). A pricing model using these observable inputs produces a Level 2 fair value measurement. Level 1 requires exchange-traded quoted prices for the identical instrument. Level 3 applies only when significant inputs are unobservable.',
    reference: 'ASC 820-10-35',
  },
  {
    id: 'bar-wc-079',
    section: 'BAR',
    courseId: 'cpa',
    blueprintArea: 'BAR-IV',
    topicId: 'bar-cost',
    topic: 'Cost Accounting',
    subtopic: 'Activity-Based Costing',
    difficulty: 'medium',
    skillLevel: 'Application',
    question: 'In activity-based costing, the cost driver for setup costs would most likely be:',
    options: [
      'Direct labor hours',
      'Number of setups',
      'Machine hours',
      'Units produced',
    ],
    correctAnswer: 1,
    explanation: 'ABC assigns overhead based on activities that consume resources. Setup costs are driven by the number of setups, not production volume. Traditional costing might use labor or machine hours, but ABC uses cause-and-effect relationships.',
    reference: 'Activity-Based Costing Principles',
  },
  {
    id: 'bar-wc-080',
    section: 'BAR',
    courseId: 'cpa',
    blueprintArea: 'BAR-I',
    topicId: 'bar-analysis',
    topic: 'Financial Statement Analysis',
    subtopic: 'DuPont Analysis',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'Using DuPont analysis, which combination of factors determines ROE?',
    options: [
      'Profit margin × Asset turnover × Equity multiplier',
      'Net income × Total assets × Total equity',
      'Profit margin × Total revenue × Debt ratio',
      'Operating income × Interest expense × Tax rate',
    ],
    correctAnswer: 0,
    explanation: 'DuPont formula: ROE = (Net Income/Sales) × (Sales/Assets) × (Assets/Equity) = Profit Margin × Asset Turnover × Equity Multiplier. This disaggregates ROE into profitability, efficiency, and leverage components.',
    reference: 'DuPont Analysis',
  },
  {
    id: 'bar-wc-081',
    section: 'BAR',
    courseId: 'cpa',
    blueprintArea: 'BAR-II',
    topicId: 'bar-risk',
    topic: 'Risk Management',
    subtopic: 'Hedging',
    difficulty: 'medium',
    skillLevel: 'Application',
    question: 'A U.S. company expecting to receive euros in 90 days can hedge currency risk by:',
    options: [
      'Buying euro put options',
      'Buying euro call options',
      'Selling euro forward contracts',
      'Buying euro forward contracts',
    ],
    correctAnswer: 2,
    explanation: 'The company will receive euros and convert to USD. Risk is the euro depreciating. Selling euros forward locks in the exchange rate. Alternatively, buying euro put options provides downside protection while allowing upside participation.',
    reference: 'Foreign Currency Hedging',
  },

  // ISC (4 questions)
  {
    id: 'isc-wc-071',
    section: 'ISC',
    courseId: 'cpa',
    blueprintArea: 'ISC-III',
    topicId: 'isc-systems',
    topic: 'Information Systems',
    subtopic: 'Database Normalization',
    difficulty: 'medium',
    skillLevel: 'Application',
    question: 'Third normal form (3NF) requires eliminating:',
    options: [
      'Transitive dependencies',
      'Partial dependencies',
      'Multi-valued dependencies',
      'Repeating groups',
    ],
    correctAnswer: 0,
    explanation: 'Normalization reduces data redundancy. 1NF: eliminate repeating groups. 2NF: eliminate partial dependencies. 3NF: eliminate transitive dependencies (non-key attributes depending on other non-key attributes). BCNF addresses remaining anomalies.',
    reference: 'Database Normalization',
  },
  {
    id: 'isc-wc-072',
    section: 'ISC',
    courseId: 'cpa',
    blueprintArea: 'ISC-II',
    topicId: 'isc-security',
    topic: 'Security Controls',
    subtopic: 'Network Security',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'A demilitarized zone (DMZ) in network architecture is BEST described as:',
    options: [
      'A backup system for disaster recovery',
      'A network segment between internal and external firewalls',
      'An isolated network for development testing',
      'An encrypted tunnel for remote access',
    ],
    correctAnswer: 1,
    explanation: 'A DMZ is a perimeter network segment that sits between the internal network and the internet, protected by firewalls on both sides. It hosts public-facing services (web servers, email) while isolating them from internal resources.',
    reference: 'Network Security Architecture',
  },
  {
    id: 'isc-wc-073',
    section: 'ISC',
    courseId: 'cpa',
    blueprintArea: 'ISC-IV',
    topicId: 'isc-audit',
    topic: 'IT Audit',
    subtopic: 'General Controls',
    difficulty: 'medium',
    skillLevel: 'Application',
    question: 'IT general controls (ITGCs) apply to:',
    options: [
      'All systems and applications within the IT environment',
      'Only financial reporting applications',
      'Manual processes performed outside IT systems',
      'Only specific transactions',
    ],
    correctAnswer: 0,
    explanation: 'ITGCs are pervasive controls that apply broadly to all systems: access security, change management, operations, and computer operations. Unlike application controls that address specific transactions, ITGCs create the foundation for reliable processing.',
    reference: 'COBIT Framework',
  },
  {
    {
      id: 'isc-wc-074',
      courseId: 'cpa',
      section: 'ISC',
      blueprintArea: 'ISC-V',
      topic: 'Data Analytics',
      subtopic: 'Audit Data Analytics',
      difficulty: 'medium',
      skillLevel: 'Application',
      question: 'An organization\'s IT department uses a single shared administrator account (\'admin\') to manage all servers, network devices, and database systems. The password is known by 8 IT staff members and has not been changed in 2 years. When a security incident occurs, the organization cannot determine which individual performed the actions. What control deficiency exists?',
      options: [
        'Shared administrator accounts are efficient and reduce administrative overhead',
        'Shared accounts eliminate individual accountability — without unique administrator accounts, the organization cannot attribute actions to specific individuals, cannot enforce least privilege, cannot revoke access when staff leave, and cannot produce reliable audit trails',
        'Shared accounts are acceptable if the password is complex',
        'Administrative accountability is not required for IT systems',
      ],
      correctAnswer: 1,
      explanation: 'Individual accountability is a fundamental security control principle. Shared administrator accounts: (1) prevent attribution of actions (who did what), (2) make it impossible to enforce least privilege (all 8 people have the same access), (3) create a credential exposure risk (8 people know the password, which hasn\'t been rotated), (4) complicate access revocation when staff leave, and (5) undermine audit trail reliability.',
      reference: 'Audit Data Analytics',
    },
  // TCP (4 questions)
  {
    id: 'tcp-wc-071',
    section: 'TCP',
    courseId: 'cpa',
    blueprintArea: 'TCP-II',
    topicId: 'tcp-entity',
    topic: 'Entity Tax Compliance',
    subtopic: 'Form 1120-S',
    difficulty: 'medium',
    skillLevel: 'Application',
    question: 'S corporation Form 1120-S is due:',
    options: [
      'Same date as shareholder individual returns',
      'March 15 (or 15th day of 3rd month after year-end)',
      'September 15 (extended due date)',
      'April 15 (or 15th day of 4th month after year-end)',
    ],
    correctAnswer: 1,
    explanation: 'Form 1120-S is due the 15th day of the 3rd month after year-end (March 15 for calendar year). This allows shareholders to receive K-1s before their individual return due date. A 6-month extension is available (to September 15 for calendar year).',
    reference: 'IRC Section 6072',
  },
  {
    id: 'tcp-wc-072',
    section: 'TCP',
    courseId: 'cpa',
    blueprintArea: 'TCP-III',
    topicId: 'tcp-planning',
    topic: 'Tax Planning',
    subtopic: 'Entity Selection',
    difficulty: 'hard',
    skillLevel: 'Analysis',
    question: 'A key tax advantage of operating as an S corporation versus a partnership is:',
    options: [
      'Ability to deduct losses against other income',
      'Avoiding self-employment tax on all income',
      'Lower tax rates on ordinary income',
      'Avoiding self-employment tax on distributions (not salary)',
    ],
    correctAnswer: 3,
    explanation: 'S corporation shareholders who work in the business pay self-employment tax on salary only, not on distributions. Partnership general partners pay self-employment tax on their entire distributive share. This can provide significant FICA savings.',
    reference: 'IRC Section 1402',
  },
  {
    id: 'tcp-wc-073',
    section: 'TCP',
    courseId: 'cpa',
    blueprintArea: 'TCP-I',
    topicId: 'tcp-individual',
    topic: 'Individual Tax Compliance',
    subtopic: 'Estimated Tax Payments',
    difficulty: 'easy',
    skillLevel: 'Remembering and Understanding',
    question: 'Individual estimated tax payments are due on all of the following dates EXCEPT:',
    options: [
      'April 15',
      'January 15 of the following year',
      'August 15',
      'June 15',
    ],
    correctAnswer: 2,
    explanation: 'Estimated tax due dates: April 15, June 15, September 15, and January 15 of the following year. Note the irregular spacing—there is no August 15 payment date. The Q3 payment is in September, not August.',
    reference: 'IRC Section 6654',
  },
  {
    id: 'tcp-wc-074',
    section: 'TCP',
    courseId: 'cpa',
    blueprintArea: 'TCP-IV',
    topicId: 'tcp-representation',
    topic: 'Tax Representation',
    subtopic: 'Power of Attorney',
    difficulty: 'medium',
    skillLevel: 'Application',
    question: 'Form 2848, Power of Attorney, authorizes a representative to:',
    options: [
      'Sign the taxpayer\'s return',
      'Bind the taxpayer to settlement agreements without consent',
      'Only receive copies of IRS notices',
      'Receive confidential tax information and represent before the IRS',
    ],
    correctAnswer: 3,
    explanation: 'Form 2848 authorizes representation before IRS and receipt of confidential information. It does NOT authorize signing returns (requires separate authorization). Form 8821 only authorizes information receipt, not representation.',
    reference: 'IRS Form 2848 Instructions',
  },
];
