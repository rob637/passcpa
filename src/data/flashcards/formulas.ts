// Formula Flashcards - Critical calculations for CPA exam
// Each card includes the formula, when to use it, and a worked example

import { Flashcard } from './types';

// ==========================================
// FAR FORMULAS
// ==========================================
export const FAR_FORMULAS: Flashcard[] = [
  // Ratios
  {
    id: 'far-form-001',
    section: 'FAR',
    type: 'formula',
    topic: 'Financial Ratios',
    blueprintArea: 'FAR-I',
    front: 'CURRENT RATIO formula',
    back: 'Measures short-term liquidity - ability to pay current obligations.',
    formula: 'Current Ratio = Current Assets ÷ Current Liabilities',
    example: 'CA = $500,000, CL = $250,000 → 500,000 ÷ 250,000 = 2.0 (good liquidity)',
    difficulty: 'easy',
    tags: ['ratios', 'liquidity'],
  },
  {
    id: 'far-form-002',
    section: 'FAR',
    type: 'formula',
    topic: 'Financial Ratios',
    blueprintArea: 'FAR-I',
    front: 'QUICK RATIO (Acid Test) formula',
    back: 'More stringent liquidity test - excludes inventory (least liquid current asset).',
    formula: 'Quick Ratio = (Cash + Marketable Securities + Net Receivables) ÷ Current Liabilities',
    example: 'Cash $100K + Securities $50K + AR $150K = $300K ÷ CL $200K = 1.5',
    difficulty: 'easy',
    tags: ['ratios', 'liquidity'],
  },
  {
    id: 'far-form-003',
    section: 'FAR',
    type: 'formula',
    topic: 'Financial Ratios',
    blueprintArea: 'FAR-I',
    front: 'DAYS SALES OUTSTANDING (DSO) formula',
    back: 'Average number of days to collect receivables. Lower is better.',
    formula: 'DSO = (Average Accounts Receivable ÷ Net Credit Sales) × 365',
    example: 'Avg AR $200K, Sales $2.4M → ($200K ÷ $2.4M) × 365 = 30.4 days',
    difficulty: 'medium',
    tags: ['ratios', 'activity'],
  },
  {
    id: 'far-form-004',
    section: 'FAR',
    type: 'formula',
    topic: 'Financial Ratios',
    blueprintArea: 'FAR-I',
    front: 'INVENTORY TURNOVER formula',
    back: 'How many times inventory is sold and replaced during the period.',
    formula: 'Inventory Turnover = Cost of Goods Sold ÷ Average Inventory',
    example: 'COGS $800K, Avg Inventory $200K → 800K ÷ 200K = 4.0 times per year',
    difficulty: 'easy',
    tags: ['ratios', 'activity'],
  },
  {
    id: 'far-form-005',
    section: 'FAR',
    type: 'formula',
    topic: 'Financial Ratios',
    blueprintArea: 'FAR-I',
    front: 'DEBT-TO-EQUITY RATIO formula',
    back: 'Measures financial leverage - proportion of debt financing vs. equity.',
    formula: 'Debt-to-Equity = Total Liabilities ÷ Total Stockholders\' Equity',
    example: 'Liabilities $600K, Equity $400K → 600K ÷ 400K = 1.5 (more debt than equity)',
    difficulty: 'easy',
    tags: ['ratios', 'leverage'],
  },
  {
    id: 'far-form-006',
    section: 'FAR',
    type: 'formula',
    topic: 'Financial Ratios',
    blueprintArea: 'FAR-I',
    front: 'RETURN ON EQUITY (ROE) formula',
    back: 'Profitability measure - return generated on shareholders\' investment.',
    formula: 'ROE = Net Income ÷ Average Stockholders\' Equity',
    example: 'Net Income $120K, Avg Equity $800K → 120K ÷ 800K = 15%',
    difficulty: 'easy',
    tags: ['ratios', 'profitability'],
  },
  
  // EPS
  {
    id: 'far-form-007',
    section: 'FAR',
    type: 'formula',
    topic: 'Earnings Per Share',
    blueprintArea: 'FAR-II',
    front: 'BASIC EPS formula',
    back: 'Earnings available to common shareholders divided by weighted-average shares.',
    formula: 'Basic EPS = (Net Income - Preferred Dividends) ÷ Weighted-Average Common Shares Outstanding',
    example: 'NI $500K - Pref Div $50K = $450K ÷ 100K shares = $4.50 per share',
    difficulty: 'medium',
    tags: ['EPS', 'per share'],
  },
  {
    id: 'far-form-008',
    section: 'FAR',
    type: 'formula',
    topic: 'Earnings Per Share',
    blueprintArea: 'FAR-II',
    front: 'TREASURY STOCK METHOD (Options)',
    back: 'Calculate incremental shares from dilutive stock options for diluted EPS.',
    formula: 'Incremental Shares = Options Outstanding - (Options × Exercise Price ÷ Average Market Price)',
    example: '10,000 options at $20 exercise, market $25 → 10,000 - (10,000 × $20/$25) = 2,000 incremental shares',
    difficulty: 'hard',
    tags: ['EPS', 'diluted', 'options'],
  },
  
  // Depreciation
  {
    id: 'far-form-009',
    section: 'FAR',
    type: 'formula',
    topic: 'Depreciation',
    blueprintArea: 'FAR-II',
    front: 'STRAIGHT-LINE DEPRECIATION formula',
    back: 'Equal depreciation expense each year over useful life.',
    formula: 'Annual Depreciation = (Cost - Salvage Value) ÷ Useful Life',
    example: 'Cost $50K - Salvage $5K = $45K ÷ 5 years = $9,000/year',
    difficulty: 'easy',
    tags: ['depreciation', 'PPE'],
  },
  {
    id: 'far-form-010',
    section: 'FAR',
    type: 'formula',
    topic: 'Depreciation',
    blueprintArea: 'FAR-II',
    front: 'DOUBLE-DECLINING BALANCE formula',
    back: 'Accelerated depreciation - higher expense in early years. Ignore salvage initially.',
    formula: 'Annual Depreciation = Book Value × (2 ÷ Useful Life)',
    example: 'Cost $50K, 5 years → Year 1: $50K × 40% = $20K; Year 2: $30K × 40% = $12K',
    difficulty: 'medium',
    tags: ['depreciation', 'accelerated'],
  },
  {
    id: 'far-form-011',
    section: 'FAR',
    type: 'formula',
    topic: 'Depreciation',
    blueprintArea: 'FAR-II',
    front: 'UNITS OF PRODUCTION depreciation formula',
    back: 'Depreciation based on actual usage rather than time.',
    formula: 'Depreciation = ((Cost - Salvage) ÷ Total Estimated Units) × Units Produced This Period',
    example: '($50K - $5K) ÷ 100,000 units = $0.45/unit × 22,000 units = $9,900',
    difficulty: 'medium',
    tags: ['depreciation', 'activity-based'],
  },
  
  // Leases
  {
    id: 'far-form-012',
    section: 'FAR',
    type: 'formula',
    topic: 'Leases',
    blueprintArea: 'FAR-III',
    front: 'LEASE LIABILITY (Present Value) calculation',
    back: 'PV of future lease payments using incremental borrowing rate.',
    formula: 'Lease Liability = Σ (Payment × PV Factor) = Payment × PV Annuity Factor (for equal payments)',
    example: '$10K/year × 4 years at 6% → $10K × 3.4651 = $34,651 lease liability',
    difficulty: 'medium',
    tags: ['leases', 'present value'],
  },
  
  // Bonds
  {
    id: 'far-form-013',
    section: 'FAR',
    type: 'formula',
    topic: 'Bonds',
    blueprintArea: 'FAR-II',
    front: 'BOND ISSUE PRICE calculation',
    back: 'PV of principal + PV of interest payments, discounted at market rate.',
    formula: 'Bond Price = (Face × PVF single sum) + (Interest Payment × PVF annuity)',
    example: '$100K bond, 5% coupon, 6% market, 5 years: PV principal + PV interest = $95,788 (discount)',
    difficulty: 'hard',
    tags: ['bonds', 'present value'],
  },
  {
    id: 'far-form-014',
    section: 'FAR',
    type: 'formula',
    topic: 'Bonds',
    blueprintArea: 'FAR-II',
    front: 'EFFECTIVE INTEREST METHOD (amortization)',
    back: 'Interest expense based on carrying amount × market rate.',
    formula: 'Interest Expense = Carrying Amount × Market Rate | Amortization = Interest Expense - Cash Paid',
    example: 'CV $95,788 × 6% = $5,747 expense - $5,000 cash = $747 discount amortization',
    difficulty: 'hard',
    tags: ['bonds', 'amortization'],
  },
];

// ==========================================
// AUD FORMULAS
// ==========================================
export const AUD_FORMULAS: Flashcard[] = [
  {
    id: 'aud-form-001',
    section: 'AUD',
    type: 'formula',
    topic: 'Audit Risk',
    blueprintArea: 'AUD-II',
    front: 'AUDIT RISK MODEL formula',
    back: 'Planned audit risk as function of inherent, control, and detection risk.',
    formula: 'Audit Risk (AR) = Inherent Risk (IR) × Control Risk (CR) × Detection Risk (DR)',
    example: 'If AR = 5%, IR = 100%, CR = 50%, then DR = 5% ÷ (1.0 × 0.5) = 10%',
    difficulty: 'medium',
    tags: ['audit risk', 'risk model'],
    reference: 'AU-C 200',
  },
  {
    id: 'aud-form-002',
    section: 'AUD',
    type: 'formula',
    topic: 'Audit Risk',
    blueprintArea: 'AUD-II',
    front: 'DETECTION RISK calculation',
    back: 'Solve for detection risk to determine extent of testing needed.',
    formula: 'Detection Risk = Audit Risk ÷ (Inherent Risk × Control Risk)',
    example: 'Higher IR/CR → Lower DR needed → More extensive testing required',
    difficulty: 'medium',
    tags: ['detection risk', 'testing'],
  },
  {
    id: 'aud-form-003',
    section: 'AUD',
    type: 'formula',
    topic: 'Materiality',
    blueprintArea: 'AUD-II',
    front: 'OVERALL MATERIALITY calculation',
    back: 'Common benchmarks for planning materiality.',
    formula: 'Materiality = Benchmark × Percentage\n• Net Income: 3-5%\n• Revenue: 0.5-1%\n• Total Assets: 0.5-1%\n• Equity: 1-2%',
    example: 'Net Income $2M × 5% = $100,000 overall materiality',
    difficulty: 'easy',
    tags: ['materiality', 'planning'],
    reference: 'AU-C 320',
  },
  {
    id: 'aud-form-004',
    section: 'AUD',
    type: 'formula',
    topic: 'Materiality',
    blueprintArea: 'AUD-II',
    front: 'PERFORMANCE MATERIALITY calculation',
    back: 'Amount set below overall materiality to reduce risk of aggregate misstatements.',
    formula: 'Performance Materiality = Overall Materiality × 50-75%',
    example: 'Overall materiality $100K × 75% = $75,000 performance materiality',
    difficulty: 'easy',
    tags: ['materiality', 'performance'],
    reference: 'AU-C 320',
  },
  {
    id: 'aud-form-005',
    section: 'AUD',
    type: 'formula',
    topic: 'Sampling',
    blueprintArea: 'AUD-IV',
    front: 'SAMPLE SIZE factors',
    back: 'Factors affecting sample size in substantive testing.',
    formula: 'Sample Size increases when:\n• Tolerable misstatement DECREASES\n• Risk of material misstatement INCREASES\n• Expected misstatement INCREASES\n• Population size INCREASES (slightly)',
    example: 'Higher risk → need more evidence → larger sample size',
    difficulty: 'medium',
    tags: ['sampling', 'audit procedures'],
    reference: 'AU-C 530',
  },
];

// ==========================================
// REG FORMULAS
// ==========================================
export const REG_FORMULAS: Flashcard[] = [
  // Individual Tax
  {
    id: 'reg-form-001',
    section: 'REG',
    type: 'formula',
    topic: 'Individual Tax',
    blueprintArea: 'REG-III',
    front: 'TAXABLE INCOME formula (Individual)',
    back: 'Step-by-step calculation from gross income to taxable income.',
    formula: 'Taxable Income = Gross Income - Above-the-Line Deductions = AGI - (Standard OR Itemized Deduction) - QBI Deduction',
    example: '$150K gross - $5K above-line = $145K AGI - $27.7K std ded = $117.3K taxable',
    difficulty: 'medium',
    tags: ['individual tax', 'taxable income'],
  },
  {
    id: 'reg-form-002',
    section: 'REG',
    type: 'formula',
    topic: 'Individual Tax',
    blueprintArea: 'REG-III',
    front: 'SELF-EMPLOYMENT TAX calculation',
    back: 'Social Security and Medicare tax on self-employment income.',
    formula: 'SE Tax = Net SE Income × 92.35% × 15.3%\n(Above-the-line deduction = SE Tax × 50%)',
    example: '$100K SE income × 0.9235 × 0.153 = $14,130 SE tax. Deduction = $7,065',
    difficulty: 'hard',
    tags: ['self-employment', 'payroll tax'],
    reference: 'IRC Section 1401',
  },
  {
    id: 'reg-form-003',
    section: 'REG',
    type: 'formula',
    topic: 'Capital Gains',
    blueprintArea: 'REG-III',
    front: 'CAPITAL GAIN/LOSS calculation',
    back: 'Determine gain or loss on asset sale.',
    formula: 'Gain/Loss = Amount Realized - Adjusted Basis\nAmount Realized = Cash + FMV property received + Liabilities relieved',
    example: 'Sell stock: $15K cash received - $10K basis = $5K capital gain',
    difficulty: 'easy',
    tags: ['capital gains', 'basis'],
  },
  {
    id: 'reg-form-004',
    section: 'REG',
    type: 'formula',
    topic: 'Depreciation',
    blueprintArea: 'REG-IV',
    front: 'SECTION 179 EXPENSE rules',
    back: 'Immediate expensing of business property up to annual limit.',
    formula: 'Section 179 Limit (2025): $1,220,000\nPhase-out begins at: $3,050,000\nDollar-for-dollar reduction above threshold',
    example: '$3.1M purchases → $1.22M - ($3.1M - $3.05M) = $1.17M allowed',
    difficulty: 'medium',
    tags: ['depreciation', 'section 179'],
    reference: 'IRC Section 179',
  },
  {
    id: 'reg-form-005',
    section: 'REG',
    type: 'formula',
    topic: 'Business Entities',
    blueprintArea: 'REG-IV',
    front: 'PARTNERSHIP BASIS calculation',
    back: 'Track partner\'s tax basis in partnership interest.',
    formula: 'Beginning Basis\n+ Share of Income\n+ Additional Contributions\n- Distributions Received\n- Share of Losses\n= Ending Basis (cannot go below zero)',
    example: '$50K start + $20K income + $0 contrib - $10K distrib - $5K loss = $55K basis',
    difficulty: 'medium',
    tags: ['partnership', 'basis'],
    reference: 'IRC Section 705',
  },
  {
    id: 'reg-form-006',
    section: 'REG',
    type: 'formula',
    topic: 'Business Entities',
    blueprintArea: 'REG-IV',
    front: 'S CORP SHAREHOLDER BASIS calculation',
    back: 'Track shareholder\'s tax basis in S corporation stock.',
    formula: 'Beginning Stock Basis\n+ Share of Income (incl. tax-exempt)\n+ Additional Contributions\n- Distributions (up to basis)\n- Share of Losses\n- Non-deductible expenses\n= Ending Stock Basis',
    example: 'Key difference from partnership: debt does NOT increase S corp basis',
    difficulty: 'hard',
    tags: ['S corp', 'basis'],
    reference: 'IRC Section 1367',
  },
];

// ==========================================
// BAR FORMULAS
// ==========================================
export const BAR_FORMULAS: Flashcard[] = [
  // Cost-Volume-Profit
  {
    id: 'bar-form-001',
    section: 'BAR',
    type: 'formula',
    topic: 'CVP Analysis',
    blueprintArea: 'BAR-I',
    front: 'BREAKEVEN POINT formulas',
    back: 'Calculate units or dollars needed to cover all costs (zero profit).',
    formula: 'Breakeven Units = Fixed Costs ÷ CM per Unit\nBreakeven Dollars = Fixed Costs ÷ CM Ratio\nCM Ratio = CM ÷ Sales Price',
    example: 'FC $100K, CM $25/unit → 100K ÷ 25 = 4,000 units to break even',
    difficulty: 'easy',
    tags: ['CVP', 'breakeven'],
  },
  {
    id: 'bar-form-002',
    section: 'BAR',
    type: 'formula',
    topic: 'CVP Analysis',
    blueprintArea: 'BAR-I',
    front: 'TARGET PROFIT formula',
    back: 'Calculate units needed to achieve a specific profit target.',
    formula: 'Units for Target Profit = (Fixed Costs + Target Profit) ÷ CM per Unit',
    example: 'FC $100K + Target $50K = $150K ÷ $25 CM = 6,000 units needed',
    difficulty: 'medium',
    tags: ['CVP', 'target profit'],
  },
  {
    id: 'bar-form-003',
    section: 'BAR',
    type: 'formula',
    topic: 'CVP Analysis',
    blueprintArea: 'BAR-I',
    front: 'MARGIN OF SAFETY formula',
    back: 'Cushion above breakeven - how much sales can drop before losing money.',
    formula: 'Margin of Safety = Actual Sales - Breakeven Sales\nMOS % = (Actual - Breakeven) ÷ Actual',
    example: 'Actual $500K, BE $400K → MOS = $100K or 20%',
    difficulty: 'easy',
    tags: ['CVP', 'margin of safety'],
  },
  
  // Variance Analysis
  {
    id: 'bar-form-004',
    section: 'BAR',
    type: 'formula',
    topic: 'Variance Analysis',
    blueprintArea: 'BAR-I',
    front: 'MATERIALS PRICE VARIANCE formula',
    back: 'Difference due to paying more/less than standard price.',
    formula: 'MPV = (Actual Price - Standard Price) × Actual Quantity\nFavorable if negative (paid less)',
    example: '($4.75 - $5.00) × 2,100 lbs = -$525 Favorable',
    difficulty: 'medium',
    tags: ['variances', 'materials'],
  },
  {
    id: 'bar-form-005',
    section: 'BAR',
    type: 'formula',
    topic: 'Variance Analysis',
    blueprintArea: 'BAR-I',
    front: 'MATERIALS QUANTITY VARIANCE formula',
    back: 'Difference due to using more/less materials than standard.',
    formula: 'MQV = (Actual Quantity - Standard Quantity) × Standard Price\nFavorable if negative (used less)',
    example: '(2,100 - 2,000 lbs) × $5.00 = $500 Unfavorable',
    difficulty: 'medium',
    tags: ['variances', 'materials'],
  },
  {
    id: 'bar-form-006',
    section: 'BAR',
    type: 'formula',
    topic: 'Variance Analysis',
    blueprintArea: 'BAR-I',
    front: 'LABOR RATE VARIANCE formula',
    back: 'Difference due to paying workers more/less than standard rate.',
    formula: 'LRV = (Actual Rate - Standard Rate) × Actual Hours\nFavorable if negative',
    example: '($21 - $20) × 520 hours = $520 Unfavorable',
    difficulty: 'medium',
    tags: ['variances', 'labor'],
  },
  {
    id: 'bar-form-007',
    section: 'BAR',
    type: 'formula',
    topic: 'Variance Analysis',
    blueprintArea: 'BAR-I',
    front: 'LABOR EFFICIENCY VARIANCE formula',
    back: 'Difference due to workers taking more/less time than standard.',
    formula: 'LEV = (Actual Hours - Standard Hours) × Standard Rate\nFavorable if negative',
    example: '(520 - 500 hours) × $20 = $400 Unfavorable',
    difficulty: 'medium',
    tags: ['variances', 'labor'],
  },
  
  // Financial Analysis
  {
    id: 'bar-form-008',
    section: 'BAR',
    type: 'formula',
    topic: 'Financial Analysis',
    blueprintArea: 'BAR-III',
    front: 'WEIGHTED AVERAGE COST OF CAPITAL (WACC)',
    back: 'Blended cost of all capital sources (debt + equity).',
    formula: 'WACC = (E/V × Re) + (D/V × Rd × (1-T))\nE = Equity value, D = Debt value, V = E+D\nRe = Cost of equity, Rd = Cost of debt, T = Tax rate',
    example: '60% equity @ 12% + 40% debt @ 6% × (1-25%) = 7.2% + 1.8% = 9% WACC',
    difficulty: 'hard',
    tags: ['WACC', 'cost of capital'],
  },
  {
    id: 'bar-form-009',
    section: 'BAR',
    type: 'formula',
    topic: 'Financial Analysis',
    blueprintArea: 'BAR-III',
    front: 'CAPM (Cost of Equity) formula',
    back: 'Calculate required return on equity using market risk premium.',
    formula: 'Re = Rf + β(Rm - Rf)\nRf = Risk-free rate, β = Beta, Rm = Market return\n(Rm - Rf) = Market risk premium',
    example: 'Rf 3% + β 1.2 × (10% - 3%) = 3% + 8.4% = 11.4% cost of equity',
    difficulty: 'hard',
    tags: ['CAPM', 'cost of equity'],
  },
  {
    id: 'bar-form-010',
    section: 'BAR',
    type: 'formula',
    topic: 'Financial Analysis',
    blueprintArea: 'BAR-III',
    front: 'NET PRESENT VALUE (NPV) formula',
    back: 'Present value of future cash flows minus initial investment.',
    formula: 'NPV = Σ [CFt ÷ (1+r)^t] - Initial Investment\nAccept if NPV > 0',
    example: 'Year 1-5 CFs of $30K @ 10%, Initial $100K → NPV = $113,724 - $100K = $13,724 (Accept)',
    difficulty: 'medium',
    tags: ['NPV', 'capital budgeting'],
  },
];

// ==========================================
// TCP FORMULAS  
// ==========================================
export const TCP_FORMULAS: Flashcard[] = [
  {
    id: 'tcp-form-001',
    section: 'TCP',
    type: 'formula',
    topic: 'Corporate Tax',
    blueprintArea: 'TCP-II',
    front: 'CORPORATE TAXABLE INCOME calculation',
    back: 'C Corporation taxable income before applying 21% rate.',
    formula: 'Gross Income\n- Ordinary Deductions\n- Special Deductions (DRD)\n= Taxable Income × 21% = Tax',
    example: '$1M income - $700K deductions - $26K DRD = $274K × 21% = $57,540 tax',
    difficulty: 'medium',
    tags: ['C corp', 'taxable income'],
  },
  {
    id: 'tcp-form-002',
    section: 'TCP',
    type: 'formula',
    topic: 'Corporate Tax',
    blueprintArea: 'TCP-II',
    front: 'DIVIDENDS RECEIVED DEDUCTION (DRD)',
    back: 'Deduction for dividends received from domestic corporations.',
    formula: 'Ownership %    →  DRD %\n< 20%          →  50%\n20% to < 80%   →  65%\n≥ 80%          →  100%',
    example: '25% ownership, $40K dividends → $40K × 65% = $26,000 DRD',
    difficulty: 'medium',
    tags: ['DRD', 'corporate'],
    reference: 'IRC Section 243',
  },
  {
    id: 'tcp-form-003',
    section: 'TCP',
    type: 'formula',
    topic: 'Corporate Tax',
    blueprintArea: 'TCP-II',
    front: 'CHARITABLE CONTRIBUTION LIMIT (Corporate)',
    back: 'Corporate charitable deduction limited to percentage of taxable income.',
    formula: 'Limit = 10% × Taxable Income (before DRD and charitable deduction)\nExcess carries forward 5 years',
    example: 'TI before adjustments $500K → Max charitable = $50K. Gave $75K → $50K current, $25K carryforward',
    difficulty: 'medium',
    tags: ['charitable', 'corporate'],
    reference: 'IRC Section 170',
  },
  {
    id: 'tcp-form-004',
    section: 'TCP',
    type: 'formula',
    topic: 'Pass-Through',
    blueprintArea: 'TCP-I',
    front: 'QUALIFIED BUSINESS INCOME (QBI) Deduction',
    back: 'Section 199A deduction for pass-through income.',
    formula: 'QBI Deduction = Lesser of:\n(1) 20% × QBI, or\n(2) 20% × (Taxable Income - Net Capital Gain)\n\nSubject to W-2/Property limits above threshold',
    example: '$200K QBI × 20% = $40K deduction (if under income threshold)',
    difficulty: 'hard',
    tags: ['QBI', '199A', 'pass-through'],
    reference: 'IRC Section 199A',
  },
  {
    id: 'tcp-form-005',
    section: 'TCP',
    type: 'formula',
    topic: 'Estate Tax',
    blueprintArea: 'TCP-IV',
    front: 'ESTATE TAX calculation',
    back: 'Federal estate tax on transfers at death.',
    formula: 'Gross Estate\n- Deductions (debts, expenses, marital, charitable)\n= Taxable Estate\n+ Adjusted Taxable Gifts\n= Tentative Tax Base × Rate (40%)\n- Unified Credit ($5.49M equivalent)',
    example: '$15M estate - $8M marital = $7M taxable - $5.49M exemption = $1.51M × 40% = $604K tax',
    difficulty: 'hard',
    tags: ['estate tax', 'transfer tax'],
    reference: 'IRC Section 2001',
  },
];

// ==========================================
// ISC FORMULAS
// ==========================================
export const ISC_FORMULAS: Flashcard[] = [
  {
    id: 'isc-form-001',
    section: 'ISC',
    type: 'formula',
    topic: 'Data Analytics',
    blueprintArea: 'ISC-III',
    front: 'BENFORD\'S LAW distribution',
    back: 'Expected frequency of leading digits in naturally occurring datasets.',
    formula: 'P(d) = log₁₀(1 + 1/d)\nDigit 1: 30.1%  Digit 6: 6.7%\nDigit 2: 17.6%  Digit 7: 5.8%\nDigit 3: 12.5%  Digit 8: 5.1%\nDigit 4: 9.7%   Digit 9: 4.6%\nDigit 5: 7.9%',
    example: 'If invoices show 15% starting with 9 (expected 4.6%), investigate for fraud.',
    difficulty: 'medium',
    tags: ['data analytics', 'Benford'],
  },
  {
    id: 'isc-form-002',
    section: 'ISC',
    type: 'formula',
    topic: 'Risk Assessment',
    blueprintArea: 'ISC-I',
    front: 'RISK CALCULATION formula',
    back: 'Basic risk assessment calculation.',
    formula: 'Risk = Likelihood × Impact\nRisk Score = Probability (1-5) × Severity (1-5)',
    example: 'Data breach: Likelihood 3, Impact 5 → Risk Score = 15 (High)',
    difficulty: 'easy',
    tags: ['risk assessment', 'cybersecurity'],
  },
  {
    id: 'isc-form-003',
    section: 'ISC',
    type: 'formula',
    topic: 'IT Audit',
    blueprintArea: 'ISC-II',
    front: 'RECOVERY METRICS (RPO/RTO)',
    back: 'Key disaster recovery measurements.',
    formula: 'RPO (Recovery Point Objective) = Maximum acceptable data loss (time)\nRTO (Recovery Time Objective) = Maximum acceptable downtime',
    example: 'RPO 4 hours: backups every 4 hours. RTO 2 hours: systems must restore in 2 hours.',
    difficulty: 'medium',
    tags: ['disaster recovery', 'business continuity'],
  },
];

// Combined formulas
export const ALL_FORMULAS: Flashcard[] = [
  ...FAR_FORMULAS,
  ...AUD_FORMULAS,
  ...REG_FORMULAS,
  ...BAR_FORMULAS,
  ...TCP_FORMULAS,
  ...ISC_FORMULAS,
];

export default ALL_FORMULAS;
