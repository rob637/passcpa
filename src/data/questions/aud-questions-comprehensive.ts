// AUD - Auditing and Attestation Comprehensive Questions
// 2026 CPA Exam Blueprint Compliant
// World-Class expansion - Final batch

import { Question } from '../../types';

export const AUD_QUESTIONS_COMPREHENSIVE: Question[] = [
  {
    id: 'aud-comp-001',
    section: 'AUD',
    topicId: 'aud-ethics',
    topic: 'Professional Ethics',
    subtopic: 'Independence Threats',
    difficulty: 'hard',
    blueprintArea: 'AUD-I',
    skillLevel: 'Analysis',
    question: 'A self-review threat to independence arises when:',
    options: [
      'The auditor has a financial interest',
      'The auditor evaluates results of their own previous services',
      'The client pressures the auditor',
      'A family member is employed by the client',
    ],
    correctAnswer: 1,
    explanation: 'Self-review threat: auditor won\'t appropriately evaluate results of their own previous judgment (e.g., prepared F/S now auditing). Other threats: self-interest, advocacy, familiarity, intimidation. Safeguards or withdrawal required.',
    reference: 'AICPA Code - Conceptual Framework',
  },
  {
    id: 'aud-comp-002',
    section: 'AUD',
    topicId: 'aud-planning',
    topic: 'Engagement Planning',
    subtopic: 'Group Audits',
    difficulty: 'hard',
    blueprintArea: 'AUD-II',
    skillLevel: 'Analysis',
    question: 'The group engagement partner is responsible for:',
    options: [
      'Only parent company audit',
      'Direction, supervision, performance, and overall audit opinion including work of component auditors',
      'Component auditor work only',
      'Consolidation only',
    ],
    correctAnswer: 1,
    explanation: 'Group engagement partner: overall responsibility for audit direction, supervision, performance. Must evaluate component auditor competence, communicate requirements, review work. Cannot divide responsibility for group opinion.',
    reference: 'AU-C 600',
  },
  {
    id: 'aud-comp-003',
    section: 'AUD',
    topicId: 'aud-risk',
    topic: 'Risk Assessment',
    subtopic: 'Significant Risks',
    difficulty: 'hard',
    blueprintArea: 'AUD-II',
    skillLevel: 'Analysis',
    question: 'Significant risks require the auditor to:',
    options: [
      'No special procedures',
      'Obtain an understanding of controls and perform substantive procedures specifically responsive to the risk',
      'Rely entirely on inquiry',
      'Issue a qualified opinion',
    ],
    correctAnswer: 1,
    explanation: 'Significant risks (material misstatement requiring special audit consideration): (1) understand related controls, (2) perform substantive procedures specifically responsive, (3) if testing controls, test in current period, (4) cannot use analytics alone.',
    reference: 'AU-C 330.15',
  },
  {
    id: 'aud-comp-004',
    section: 'AUD',
    topicId: 'aud-evidence',
    topic: 'Audit Evidence',
    subtopic: 'External Confirmations',
    difficulty: 'hard',
    blueprintArea: 'AUD-III',
    skillLevel: 'Analysis',
    question: 'When a confirmation request goes unanswered, the auditor should:',
    options: [
      'Accept client records',
      'Perform alternative procedures or evaluate the effect of unable to obtain evidence',
      'Issue a disclaimer',
      'Ignore the item',
    ],
    correctAnswer: 1,
    explanation: 'Non-response: send follow-up requests. If no response: perform alternative procedures (examine subsequent receipts, shipping documents, sales contracts). If unable to perform alternatives, evaluate impact on opinion.',
    reference: 'AU-C 505.12',
  },
  {
    id: 'aud-comp-005',
    section: 'AUD',
    topicId: 'aud-procedures',
    topic: 'Substantive Procedures',
    subtopic: 'Substantive Analytics',
    difficulty: 'hard',
    blueprintArea: 'AUD-III',
    skillLevel: 'Analysis',
    question: 'For substantive analytical procedures to be effective, the auditor must:',
    options: [
      'Use any available data',
      'Develop an independent expectation with precision sufficient to identify material misstatement',
      'Compare to prior year only',
      'Use unaudited data',
    ],
    correctAnswer: 1,
    explanation: 'Substantive analytics: (1) develop independent expectation using reliable data, (2) determine acceptable difference (threshold), (3) compare recorded amount to expectation, (4) investigate significant differences. Precision depends on risk.',
    reference: 'AU-C 520.A5',
  },
  {
    id: 'aud-comp-006',
    section: 'AUD',
    topicId: 'aud-controls',
    topic: 'Internal Control',
    subtopic: 'Control Deficiencies',
    difficulty: 'hard',
    blueprintArea: 'AUD-IV',
    skillLevel: 'Analysis',
    question: 'A material weakness exists when:',
    options: [
      'Any control deficiency exists',
      'A deficiency or combination of deficiencies creates reasonable possibility that a material misstatement would not be prevented or detected timely',
      'Management overrides controls',
      'Controls are not documented',
    ],
    correctAnswer: 1,
    explanation: 'Material weakness: reasonable possibility (more than remote) that material misstatement not prevented/detected timely. Significant deficiency: less severe but important enough to merit attention. Both require communication to governance.',
    reference: 'AU-C 265.07',
  },
  {
    id: 'aud-comp-007',
    section: 'AUD',
    topicId: 'aud-controls',
    topic: 'Tests of Controls',
    subtopic: 'Sample Size',
    difficulty: 'hard',
    blueprintArea: 'AUD-IV',
    skillLevel: 'Analysis',
    question: 'When testing controls, sample size is influenced by:',
    options: [
      'Account balance only',
      'Tolerable rate of deviation, expected population deviation rate, and required confidence level',
      'Time available',
      'Client preference',
    ],
    correctAnswer: 1,
    explanation: 'Control testing sample size factors: (1) lower tolerable deviation rate = larger sample, (2) higher expected deviation rate = larger sample, (3) higher confidence (lower risk of assessing control risk too low) = larger sample.',
    reference: 'AU-C 530.A11',
  },
  {
    id: 'aud-comp-008',
    section: 'AUD',
    topicId: 'aud-reports',
    topic: 'Audit Reports',
    subtopic: 'Emphasis of Matter',
    difficulty: 'hard',
    blueprintArea: 'AUD-V',
    skillLevel: 'Analysis',
    question: 'An Emphasis of Matter paragraph is added when:',
    options: [
      'There is a misstatement',
      'A matter is appropriately presented but fundamental to users\' understanding of the F/S',
      'The opinion is modified',
      'A scope limitation exists',
    ],
    correctAnswer: 1,
    explanation: 'Emphasis of Matter: matter appropriately presented/disclosed but fundamental to users (e.g., subsequent event, significant uncertainty, major catastrophe). Does not modify opinion. Placed after Opinion section.',
    reference: 'AU-C 706',
  },
  {
    id: 'aud-comp-009',
    section: 'AUD',
    topicId: 'aud-reports',
    topic: 'Audit Reports',
    subtopic: 'Going Concern',
    difficulty: 'hard',
    blueprintArea: 'AUD-V',
    skillLevel: 'Analysis',
    question: 'When substantial doubt about going concern is not alleviated by management\'s plans:',
    options: [
      'Issue adverse opinion',
      'Include explanatory paragraph if adequately disclosed; qualified or adverse if inadequate disclosure',
      'Disclaim opinion',
      'Issue standard report',
    ],
    correctAnswer: 1,
    explanation: 'Going concern with substantial doubt: if adequately disclosed, unmodified opinion with explanatory paragraph (Emphasis of Matter or separate section). If inadequate disclosure: qualified or adverse opinion.',
    reference: 'AU-C 570',
  },
  {
    id: 'aud-comp-010',
    section: 'AUD',
    topicId: 'aud-reports',
    topic: 'Review Engagements',
    subtopic: 'Review Report',
    difficulty: 'hard',
    blueprintArea: 'AUD-V',
    skillLevel: 'Application',
    question: 'A review report provides:',
    options: [
      'Reasonable assurance',
      'Limited assurance in the form of negative assurance that nothing came to attention indicating material modification needed',
      'No assurance',
      'Absolute assurance',
    ],
    correctAnswer: 1,
    explanation: 'Review: limited assurance. Conclusion: "not aware of any material modifications needed." Based on inquiry and analytical procedures - no tests of controls, substantive tests, or confirmations typically.',
    reference: 'AR-C 90',
  },
  {
    id: 'aud-comp-011',
    section: 'AUD',
    topicId: 'aud-estimates',
    topic: 'Auditing Estimates',
    subtopic: 'Methods',
    difficulty: 'hard',
    blueprintArea: 'AUD-III',
    skillLevel: 'Analysis',
    question: 'Methods to audit accounting estimates include:',
    options: [
      'Only inquiry',
      'Testing management\'s process, developing independent estimate, and reviewing subsequent events',
      'Confirming with third parties only',
      'Observing physical count',
    ],
    correctAnswer: 1,
    explanation: 'Estimate audit approaches: (1) test how management made estimate (data, assumptions, method), (2) develop independent point estimate or range, (3) review subsequent events/transactions for evidence. May use combination.',
    reference: 'AU-C 540.13',
  },
  {
    id: 'aud-comp-012',
    section: 'AUD',
    topicId: 'aud-sampling',
    topic: 'Sampling',
    subtopic: 'Monetary Unit Sampling',
    difficulty: 'hard',
    blueprintArea: 'AUD-III',
    skillLevel: 'Analysis',
    question: 'Monetary unit sampling (MUS) is most effective for testing:',
    options: [
      'Understatements',
      'Overstatements in populations where few misstatements are expected',
      'All account types equally',
      'Zero balance accounts',
    ],
    correctAnswer: 1,
    explanation: 'MUS (probability proportional to size): larger items more likely selected. Best for overstatement testing, low expected misstatement. Limitations: not good for understatement, zero/negative balances, stratification not needed (built-in).',
    reference: 'AU-C 530.A13',
  },
  {
    id: 'aud-comp-013',
    section: 'AUD',
    topicId: 'aud-it',
    topic: 'IT Considerations',
    subtopic: 'IT General Controls',
    difficulty: 'hard',
    blueprintArea: 'AUD-IV',
    skillLevel: 'Analysis',
    question: 'IT general controls affect:',
    options: [
      'Only specific applications',
      'All applications that depend on IT by supporting application controls and data integrity',
      'Only financial reporting',
      'Physical security only',
    ],
    correctAnswer: 1,
    explanation: 'ITGCs: pervasive controls affecting all applications. Categories: program development, program changes, access security, computer operations. Weakness in ITGCs undermines reliance on application controls throughout organization.',
    reference: 'AU-C 315.A51',
  },
  {
    id: 'aud-comp-014',
    section: 'AUD',
    topicId: 'aud-quality',
    topic: 'Quality Management',
    subtopic: 'Engagement Quality Review',
    difficulty: 'hard',
    blueprintArea: 'AUD-I',
    skillLevel: 'Analysis',
    question: 'An engagement quality reviewer evaluates:',
    options: [
      'Only the final report',
      'Significant judgments, conclusions, and whether engagement performed in accordance with standards',
      'Staff performance reviews',
      'Marketing materials',
    ],
    correctAnswer: 1,
    explanation: 'EQR (required for certain engagements): evaluate significant judgments, conclusions reached, appropriateness of opinion, documentation of significant matters, engagement team qualifications, consultation quality.',
    reference: 'SQMS No. 2',
  },
  {
    id: 'aud-comp-015',
    section: 'AUD',
    topicId: 'aud-reports',
    topic: 'Special Reports',
    subtopic: 'Letters for Underwriters',
    difficulty: 'hard',
    blueprintArea: 'AUD-V',
    skillLevel: 'Analysis',
    question: 'A comfort letter to underwriters typically includes:',
    options: [
      'An audit opinion',
      'Independence confirmation, adherence to SEC requirements, and negative assurance on unaudited information',
      'Tax advice',
      'Valuation of securities',
    ],
    correctAnswer: 1,
    explanation: 'Comfort letter contents: auditor independence, compliance with SEC requirements, negative assurance on changes since latest F/S, agreed-upon procedures on specific items. Due diligence requirement for underwriters.',
    reference: 'AU-C 920',
  },
  {
    id: 'aud-comp-016',
    section: 'AUD',
    topicId: 'aud-communications',
    topic: 'Communications',
    subtopic: 'Deficiency Communication',
    difficulty: 'hard',
    blueprintArea: 'AUD-V',
    skillLevel: 'Application',
    question: 'Significant deficiencies and material weaknesses must be communicated:',
    options: [
      'Orally only',
      'In writing to those charged with governance within 60 days of report release',
      'Only to management',
      'To the SEC only',
    ],
    correctAnswer: 1,
    explanation: 'Written communication of significant deficiencies and material weaknesses to governance within 60 days of report release. May communicate lesser deficiencies. Must communicate even if previously communicated and not corrected.',
    reference: 'AU-C 265.12',
  },
  {
    id: 'aud-comp-017',
    section: 'AUD',
    topicId: 'aud-assertions',
    topic: 'Revenue Testing',
    subtopic: 'Completeness',
    difficulty: 'hard',
    blueprintArea: 'AUD-III',
    skillLevel: 'Analysis',
    question: 'To test completeness of revenue, the auditor should:',
    options: [
      'Vouch from ledger to shipping documents',
      'Trace from shipping documents to sales journal and ledger',
      'Confirm all sales',
      'Review credit memos',
    ],
    correctAnswer: 1,
    explanation: 'Completeness: trace FROM source documents TO records. Start with population of shipments/services provided and verify recorded. Vouch (from records to source) tests existence/occurrence. Direction of testing is critical.',
    reference: 'AU-C 500 - Assertion Testing',
  },
  {
    id: 'aud-comp-018',
    section: 'AUD',
    topicId: 'aud-inventory',
    topic: 'Inventory',
    subtopic: 'Observation Timing',
    difficulty: 'hard',
    blueprintArea: 'AUD-III',
    skillLevel: 'Analysis',
    question: 'If the auditor is unable to attend the physical inventory count:',
    options: [
      'Accept client\'s count',
      'Perform alternative procedures such as test counts on another date and roll forward/back',
      'Disclaim opinion',
      'Ignore inventory',
    ],
    correctAnswer: 1,
    explanation: 'Unable to attend count: perform alternative procedures (count at another date, roll forward/back using records, review perpetual records, test intervening transactions). If impracticable, modify opinion.',
    reference: 'AU-C 501.07',
  },
  {
    id: 'aud-comp-019',
    section: 'AUD',
    topicId: 'aud-fraud',
    topic: 'Fraud',
    subtopic: 'Fraud Triangle',
    difficulty: 'medium',
    blueprintArea: 'AUD-II',
    skillLevel: 'Application',
    question: 'The fraud triangle consists of:',
    options: [
      'Management, employees, and auditors',
      'Pressure/incentive, opportunity, and rationalization/attitude',
      'Assets, liabilities, and equity',
      'Planning, fieldwork, and reporting',
    ],
    correctAnswer: 1,
    explanation: 'Fraud triangle (risk factors): (1) Pressure/incentive (financial problems, bonus targets), (2) Opportunity (weak controls, override ability), (3) Rationalization/attitude (ethical climate, management character).',
    reference: 'AU-C 240.A1',
  },
  {
    id: 'aud-comp-020',
    section: 'AUD',
    topicId: 'aud-documentation',
    topic: 'Documentation',
    subtopic: 'Experienced Auditor Standard',
    difficulty: 'hard',
    blueprintArea: 'AUD-III',
    skillLevel: 'Application',
    question: 'Audit documentation should be sufficient for:',
    options: [
      'Any reader to understand',
      'An experienced auditor with no prior connection to understand work performed and conclusions',
      'Client management only',
      'Regulatory filing only',
    ],
    correctAnswer: 1,
    explanation: 'Documentation standard: sufficient for experienced auditor (with no prior engagement connection) to understand nature, timing, extent of procedures, results, and basis for conclusions. Document significant matters.',
    reference: 'AU-C 230.08',
  },
  {
    id: 'aud-comp-021',
    section: 'AUD',
    topicId: 'aud-related',
    topic: 'Related Parties',
    subtopic: 'Audit Procedures',
    difficulty: 'hard',
    blueprintArea: 'AUD-III',
    skillLevel: 'Analysis',
    question: 'For related party transactions, the auditor should evaluate whether:',
    options: [
      'Only if they are disclosed',
      'They are properly identified, accounted for, and disclosed, and whether business purpose exists',
      'Prices are at market',
      'Management approved them',
    ],
    correctAnswer: 1,
    explanation: 'Related party procedures: (1) identify all related parties, (2) evaluate accounting treatment and disclosure, (3) consider business rationale (fraud indicator if lacking), (4) verify authorization, (5) obtain representations.',
    reference: 'AU-C 550',
  },
  {
    id: 'aud-comp-022',
    section: 'AUD',
    topicId: 'aud-subsequent',
    topic: 'Subsequent Events',
    subtopic: 'Dual Dating',
    difficulty: 'hard',
    blueprintArea: 'AUD-III',
    skillLevel: 'Analysis',
    question: 'Dual dating of the audit report is used when:',
    options: [
      'Two auditors sign',
      'A subsequent event is disclosed but the auditor limits responsibility to that specific event after original date',
      'The report is amended',
      'Two years are presented',
    ],
    correctAnswer: 1,
    explanation: 'Dual dating: "Date, except for Note X which is [later date]." Limits responsibility for subsequent events procedures to specific disclosed item after original report date. Alternative: extend all procedures to later date.',
    reference: 'AU-C 560.14',
  },
  {
    id: 'aud-comp-023',
    section: 'AUD',
    topicId: 'aud-special',
    topic: 'Compilation Engagements',
    subtopic: 'Requirements',
    difficulty: 'medium',
    blueprintArea: 'AUD-V',
    skillLevel: 'Application',
    question: 'In a compilation engagement, the accountant:',
    options: [
      'Expresses an opinion',
      'Assists management in presenting financial information without providing assurance',
      'Performs inquiry and analytics',
      'Tests internal controls',
    ],
    correctAnswer: 1,
    explanation: 'Compilation: present financial information based on management\'s representations. No assurance provided. Must understand client\'s business and accounting principles used. Report states "no assurance provided."',
    reference: 'AR-C 80',
  },
  {
    id: 'aud-comp-024',
    section: 'AUD',
    topicId: 'aud-attestation',
    topic: 'Attestation',
    subtopic: 'SOC 1 Reports',
    difficulty: 'hard',
    blueprintArea: 'AUD-V',
    skillLevel: 'Analysis',
    question: 'A SOC 1 Type 2 report provides:',
    options: [
      'Opinion on controls at a point in time',
      'Opinion on description, design, and operating effectiveness of controls over a period',
      'Review-level assurance only',
      'No assurance on operating effectiveness',
    ],
    correctAnswer: 1,
    explanation: 'SOC 1 Type 2: opinion on (1) fair presentation of system description, (2) suitable design, (3) operating effectiveness over period (vs. Type 1 = point in time, no operating effectiveness). For user auditor reliance.',
    reference: 'AT-C 320',
  },
  {
    id: 'aud-comp-025',
    section: 'AUD',
    topicId: 'aud-ethics',
    topic: 'Professional Ethics',
    subtopic: 'Non-Attest Services',
    difficulty: 'hard',
    blueprintArea: 'AUD-I',
    skillLevel: 'Evaluation',
    question: 'When providing non-attest services to an attest client, independence is maintained by:',
    options: [
      'Providing any service',
      'Ensuring management takes responsibility, establishing understanding, and not performing management functions',
      'Charging higher fees',
      'Using different staff',
    ],
    correctAnswer: 1,
    explanation: 'Non-attest services safeguards: (1) management takes responsibility for results, (2) written understanding of services, (3) accountant doesn\'t perform management functions or make management decisions. Some services prohibited (audit of own work).',
    reference: 'AICPA Code ET ยง1.295',
  },
];
