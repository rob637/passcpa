// TCP - Tax Compliance and Planning Questions
// 2026 CPA Exam Blueprint Compliant
// Discipline section replacing parts of legacy BEC

import { Question } from '../../types';

export const TCP_QUESTIONS: Question[] = [
  // ==========================================
  // AREA I: Individual Tax (30-40%)
  // ==========================================

  {
    id: 'tcp-ind-001',
    section: 'TCP',
    topicId: 'tcp-individual',
    topic: 'Individual Taxation',
    subtopic: 'Filing Status',
    difficulty: 'medium',
    question: 'For 2025, a taxpayer\'s spouse died in 2024. The taxpayer has a dependent child living at home. What is the most advantageous filing status?',
    options: [
      'Single',
      'Married Filing Jointly',
      'Head of Household',
      'Qualifying Surviving Spouse',
    ],
    correctAnswer: 3,
    explanation: 'Qualifying Surviving Spouse status is available for 2 years after spouse\'s death if taxpayer maintains a home for a dependent child. It provides the same tax brackets and standard deduction as MFJ.',
    reference: 'IRC §2(a)',
    blueprintArea: 'TCP-I',
    skillLevel: 'Application',
  },
  {
    id: 'tcp-ind-002',
    section: 'TCP',
    topicId: 'tcp-individual',
    topic: 'Individual Taxation',
    subtopic: 'Gross Income Inclusions',
    difficulty: 'easy',
    question: 'Which of the following is included in gross income?',
    options: [
      'Life insurance proceeds paid by reason of death',
      'Municipal bond interest',
      'Unemployment compensation',
      'Gifts received',
    ],
    correctAnswer: 2,
    explanation: 'Unemployment compensation is fully taxable as ordinary income. Life insurance death benefits, municipal bond interest, and gifts are excluded from gross income under IRC §101, §103, and §102.',
    reference: 'IRC §85',
    blueprintArea: 'TCP-I',
    skillLevel: 'Remembering and Understanding',
  },
  {
    id: 'tcp-ind-003',
    section: 'TCP',
    topicId: 'tcp-individual',
    topic: 'Individual Taxation',
    subtopic: 'Above-the-Line Deductions',
    difficulty: 'medium',
    question: 'Self-employed individuals may deduct 100% of health insurance premiums as:',
    options: [
      'An itemized deduction',
      'An above-the-line deduction (for AGI)',
      'A business expense on Schedule C',
      'A credit against tax liability',
    ],
    correctAnswer: 1,
    explanation: 'Self-employed health insurance is deducted "for AGI" on Schedule 1, Line 17. It cannot exceed net self-employment income. This is more beneficial than itemized deductions since it reduces AGI.',
    reference: 'IRC §162(l)',
    blueprintArea: 'TCP-I',
    skillLevel: 'Remembering and Understanding',
  },
  {
    id: 'tcp-ind-004',
    section: 'TCP',
    topicId: 'tcp-individual',
    topic: 'Individual Taxation',
    subtopic: 'Itemized Deductions',
    difficulty: 'hard',
    question: 'For 2025, a taxpayer paid $15,000 in state income taxes and $8,000 in property taxes. What is the maximum deductible amount?',
    options: [
      '$23,000',
      '$15,000',
      '$10,000',
      '$8,000',
    ],
    correctAnswer: 2,
    explanation: 'The SALT (State and Local Tax) deduction is capped at $10,000 ($5,000 MFS). This includes state/local income taxes (or sales taxes), property taxes, and personal property taxes combined.',
    reference: 'IRC §164(b)(6)',
    blueprintArea: 'TCP-I',
    skillLevel: 'Application',
  },
  {
    id: 'tcp-ind-005',
    section: 'TCP',
    topicId: 'tcp-individual',
    topic: 'Individual Taxation',
    subtopic: 'Capital Gains',
    difficulty: 'medium',
    question: 'Long-term capital gains receive preferential tax rates. An asset must be held for MORE than:',
    options: [
      '6 months',
      '1 year',
      '18 months',
      '2 years',
    ],
    correctAnswer: 1,
    explanation: 'Long-term capital gains require a holding period of MORE than one year (not "one year or more"). Assets held one year or less produce short-term gains taxed at ordinary rates.',
    reference: 'IRC §1222',
    blueprintArea: 'TCP-I',
    skillLevel: 'Remembering and Understanding',
  },
  {
    id: 'tcp-ind-006',
    section: 'TCP',
    topicId: 'tcp-retirement',
    topic: 'Retirement Planning',
    subtopic: 'Traditional vs Roth IRA',
    difficulty: 'medium',
    question: 'A key difference between Traditional and Roth IRAs is that Roth IRA:',
    options: [
      'Contributions are tax-deductible',
      'Qualified distributions are tax-free',
      'Has lower contribution limits',
      'Requires minimum distributions at age 73',
    ],
    correctAnswer: 1,
    explanation: 'Roth IRA contributions are NOT deductible (after-tax), but qualified distributions are tax-free. Traditional IRA contributions may be deductible, but distributions are taxable. Roth IRAs have no RMDs during owner\'s lifetime.',
    reference: 'IRC §408A',
    blueprintArea: 'TCP-I',
    skillLevel: 'Remembering and Understanding',
  },

  // ==========================================
  // AREA II: Entity Tax Compliance (30-40%)
  // ==========================================

  {
    id: 'tcp-ent-001',
    section: 'TCP',
    topicId: 'tcp-entity',
    topic: 'Entity Selection',
    subtopic: 'Entity Comparison',
    difficulty: 'hard',
    question: 'Which entity type provides limited liability AND avoids double taxation at the entity level?',
    options: [
      'C Corporation',
      'General Partnership',
      'S Corporation',
      'Sole Proprietorship',
    ],
    correctAnswer: 2,
    explanation: 'S Corporations provide limited liability (corporate form) while passing income through to shareholders (avoiding entity-level tax). C Corps have double taxation; partnerships/sole props lack liability protection.',
    reference: 'IRC §1361-1379',
    blueprintArea: 'TCP-II',
    skillLevel: 'Analysis',
  },
  {
    id: 'tcp-ent-002',
    section: 'TCP',
    topicId: 'tcp-entity',
    topic: 'S Corporations',
    subtopic: 'S Corp Eligibility',
    difficulty: 'medium',
    question: 'To qualify for S corporation status, a corporation must meet all requirements EXCEPT:',
    options: [
      'Have only one class of stock',
      'Have no more than 100 shareholders',
      'Have only U.S. citizen or resident shareholders',
      'Have taxable income under $10 million',
    ],
    correctAnswer: 3,
    explanation: 'S Corp requirements: domestic corporation, ≤100 shareholders (family members count as one), only eligible shareholders (individuals, estates, certain trusts - not corporations), one class of stock. No income limit.',
    reference: 'IRC §1361(b)',
    blueprintArea: 'TCP-II',
    skillLevel: 'Remembering and Understanding',
  },
  {
    id: 'tcp-ent-003',
    section: 'TCP',
    topicId: 'tcp-entity',
    topic: 'S Corporations',
    subtopic: 'Shareholder Basis',
    difficulty: 'hard',
    question: 'An S corporation shareholder\'s basis is increased by:',
    options: [
      'Distributions received',
      'The shareholder\'s share of separately stated income',
      'The shareholder\'s share of nondeductible expenses',
      'Liabilities of the corporation',
    ],
    correctAnswer: 1,
    explanation: 'S Corp basis increases: income (ordinary and separately stated), additional contributions. Decreases: distributions, losses, nondeductible expenses. Unlike partnerships, S Corp shareholders do not get basis for entity debt.',
    reference: 'IRC §1367',
    blueprintArea: 'TCP-II',
    skillLevel: 'Application',
  },
  {
    id: 'tcp-ent-004',
    section: 'TCP',
    topicId: 'tcp-corp',
    topic: 'C Corporations',
    subtopic: 'Dividends Received Deduction',
    difficulty: 'hard',
    question: 'A C corporation owns 25% of another domestic C corporation\'s stock and receives $100,000 in dividends. What is the dividends received deduction?',
    options: [
      '$50,000',
      '$65,000',
      '$100,000',
      '$0',
    ],
    correctAnswer: 1,
    explanation: 'DRD is 50% for <20% ownership, 65% for 20-79% ownership, 100% for 80%+ ownership (affiliates). At 25% ownership: $100,000 × 65% = $65,000 DRD.',
    reference: 'IRC §243',
    blueprintArea: 'TCP-II',
    skillLevel: 'Application',
  },

  // ==========================================
  // AREA III: Property Transactions (12-17%)
  // ==========================================

  {
    id: 'tcp-prop-001',
    section: 'TCP',
    topicId: 'tcp-property',
    topic: 'Property Transactions',
    subtopic: 'Basis of Property',
    difficulty: 'medium',
    question: 'What is the basis of property received as a gift when the FMV at gift date is GREATER than donor\'s basis?',
    options: [
      'FMV at date of gift',
      'Donor\'s adjusted basis (carryover basis)',
      'Zero',
      'FMV at date the donee sells the property',
    ],
    correctAnswer: 1,
    explanation: 'When gifted property FMV ≥ donor\'s basis, the donee takes carryover basis (donor\'s adjusted basis). If FMV < donor\'s basis, there\'s a dual basis: carryover for gain, FMV for loss.',
    reference: 'IRC §1015',
    blueprintArea: 'TCP-III',
    skillLevel: 'Application',
  },
  {
    id: 'tcp-prop-002',
    section: 'TCP',
    topicId: 'tcp-property',
    topic: 'Property Transactions',
    subtopic: 'Like-Kind Exchanges',
    difficulty: 'hard',
    question: 'Under IRC §1031, like-kind exchange treatment applies to exchanges of:',
    options: [
      'Inventory held for sale',
      'Partnership interests',
      'Real property held for investment',
      'Stock and securities',
    ],
    correctAnswer: 2,
    explanation: 'Post-2017, §1031 applies ONLY to real property held for productive use in trade/business or investment. Personal property, inventory, stock, partnership interests, and property held primarily for sale are excluded.',
    reference: 'IRC §1031(a)',
    blueprintArea: 'TCP-III',
    skillLevel: 'Remembering and Understanding',
  },
  {
    id: 'tcp-prop-003',
    section: 'TCP',
    topicId: 'tcp-property',
    topic: 'Property Transactions',
    subtopic: 'Section 1231 Property',
    difficulty: 'hard',
    question: 'Net Section 1231 gains are treated as:',
    options: [
      'Ordinary income',
      'Long-term capital gains',
      'Short-term capital gains',
      'Tax-exempt income',
    ],
    correctAnswer: 1,
    explanation: 'Net §1231 gains are treated as long-term capital gains (favorable rates). Net §1231 losses are ordinary losses (fully deductible against ordinary income). This "best of both worlds" treatment makes §1231 property attractive.',
    reference: 'IRC §1231',
    blueprintArea: 'TCP-III',
    skillLevel: 'Remembering and Understanding',
  },
  {
    id: 'tcp-prop-004',
    section: 'TCP',
    topicId: 'tcp-property',
    topic: 'Property Transactions',
    subtopic: 'Depreciation Recapture',
    difficulty: 'hard',
    question: 'When §1245 property is sold at a gain, depreciation recapture requires:',
    options: [
      'All gain to be treated as capital gain',
      'Gain up to depreciation taken to be treated as ordinary income',
      'No tax because depreciation already reduced income',
      'Gain to be deferred under §1031',
    ],
    correctAnswer: 1,
    explanation: '§1245 recapture requires gain to be recognized as ordinary income to the extent of depreciation previously taken. Any gain exceeding depreciation is §1231 gain (potentially capital). §1250 has different rules for real property.',
    reference: 'IRC §1245',
    blueprintArea: 'TCP-III',
    skillLevel: 'Application',
  },

  // ==========================================
  // AREA IV: Partnership Taxation (8-13%)
  // ==========================================

  {
    id: 'tcp-pship-001',
    section: 'TCP',
    topicId: 'tcp-partnership',
    topic: 'Partnership Taxation',
    subtopic: 'Formation',
    difficulty: 'medium',
    question: 'A partner contributes property with a basis of $30,000 and FMV of $50,000 to a partnership for a 25% interest. What is the partner\'s basis in the partnership interest?',
    options: [
      '$50,000',
      '$30,000',
      '$12,500',
      '$20,000',
    ],
    correctAnswer: 1,
    explanation: 'Under §721, contribution of property to a partnership is generally tax-free. Partner\'s basis in partnership interest = adjusted basis of contributed property = $30,000 (carryover basis).',
    reference: 'IRC §722',
    blueprintArea: 'TCP-IV',
    skillLevel: 'Application',
  },
  {
    id: 'tcp-pship-002',
    section: 'TCP',
    topicId: 'tcp-partnership',
    topic: 'Partnership Taxation',
    subtopic: 'Partner Basis',
    difficulty: 'hard',
    question: 'Unlike S corporation shareholders, partners include their share of partnership liabilities in their basis because:',
    options: [
      'Partnerships have unlimited liability',
      'Partners are personally liable for partnership debts',
      'It is required by GAAP',
      'Partnership income is taxed at lower rates',
    ],
    correctAnswer: 1,
    explanation: 'Partners in general partnerships have unlimited personal liability for partnership debts. Since they\'re personally at risk, partnership liabilities increase their basis, enabling larger loss deductions.',
    reference: 'IRC §752',
    blueprintArea: 'TCP-IV',
    skillLevel: 'Analysis',
  },
  {
    id: 'tcp-pship-003',
    section: 'TCP',
    topicId: 'tcp-partnership',
    topic: 'Partnership Taxation',
    subtopic: 'Distributions',
    difficulty: 'hard',
    question: 'A partner with a $40,000 basis receives a current (non-liquidating) distribution of $25,000 cash and property with a $20,000 basis. What is the partner\'s remaining basis?',
    options: [
      '$0',
      '$15,000',
      '-$5,000',
      '$40,000',
    ],
    correctAnswer: 1,
    explanation: 'Current distributions: Cash reduces basis first (but not below zero). Remaining basis to allocate = $40,000 - $25,000 = $15,000. Property takes carryover basis limited to remaining basis. Partner\'s ending basis = $15,000.',
    reference: 'IRC §733',
    blueprintArea: 'TCP-IV',
    skillLevel: 'Application',
  },

  // ==========================================
  // AREA V: C and S Corporation Taxation (8-13%)
  // ==========================================

  {
    id: 'tcp-corp-001',
    section: 'TCP',
    topicId: 'tcp-ccorp',
    topic: 'C Corporation Taxation',
    subtopic: 'Corporate Formation',
    difficulty: 'medium',
    question: 'Under IRC §351, no gain or loss is recognized on transfer of property to a corporation if transferors:',
    options: [
      'Receive only stock in exchange',
      'Control the corporation immediately after the exchange',
      'Transfer property worth at least $100,000',
      'File a special election with the IRS',
    ],
    correctAnswer: 1,
    explanation: '§351 nonrecognition requires: (1) property transferred for stock, (2) transferors control corporation (80% voting + 80% each class) immediately after exchange. Services don\'t count; boot triggers gain recognition.',
    reference: 'IRC §351',
    blueprintArea: 'TCP-V',
    skillLevel: 'Remembering and Understanding',
  },
  {
    id: 'tcp-corp-002',
    section: 'TCP',
    topicId: 'tcp-ccorp',
    topic: 'C Corporation Taxation',
    subtopic: 'Accumulated Earnings Tax',
    difficulty: 'hard',
    question: 'The accumulated earnings tax applies to C corporations that:',
    options: [
      'Have accumulated earnings exceeding $250,000',
      'Accumulate earnings beyond reasonable business needs to avoid shareholder tax',
      'Fail to pay dividends for 3 consecutive years',
      'Have more than 100 shareholders',
    ],
    correctAnswer: 1,
    explanation: 'The accumulated earnings tax (currently 20%) penalizes corporations that accumulate earnings beyond reasonable business needs to help shareholders avoid dividend taxes. The $250,000 is just a safe harbor, not a trigger.',
    reference: 'IRC §531-537',
    blueprintArea: 'TCP-V',
    skillLevel: 'Application',
  },
  {
    id: 'tcp-corp-003',
    section: 'TCP',
    topicId: 'tcp-scorp',
    topic: 'S Corporation Taxation',
    subtopic: 'Built-in Gains Tax',
    difficulty: 'hard',
    question: 'The built-in gains tax applies to S corporations that:',
    options: [
      'Were always S corporations since formation',
      'Converted from C corporation status with appreciated assets',
      'Have losses exceeding basis',
      'Make distributions to shareholders',
    ],
    correctAnswer: 1,
    explanation: 'Built-in gains tax applies when a C corp converts to S corp and sells appreciated assets within 5 years. The tax (21% corporate rate) applies to the lesser of recognized gain or built-in gain at conversion.',
    reference: 'IRC §1374',
    blueprintArea: 'TCP-V',
    skillLevel: 'Application',
  },

  // ==========================================
  // Tax Planning Questions
  // ==========================================

  {
    id: 'tcp-plan-001',
    section: 'TCP',
    topicId: 'tcp-planning',
    topic: 'Tax Planning',
    subtopic: 'Timing Strategies',
    difficulty: 'medium',
    question: 'A cash-basis taxpayer expecting higher income next year should generally:',
    options: [
      'Accelerate income and defer deductions',
      'Defer income and accelerate deductions',
      'Do nothing—timing doesn\'t matter',
      'Convert to accrual basis',
    ],
    correctAnswer: 1,
    explanation: 'Basic tax planning: defer income to years with higher brackets, accelerate deductions to years with higher brackets. If next year\'s income will be higher, push income forward and pull deductions into this year.',
    reference: 'Tax Planning Fundamentals',
    blueprintArea: 'TCP-I',
    skillLevel: 'Analysis',
  },
  {
    id: 'tcp-plan-002',
    section: 'TCP',
    topicId: 'tcp-planning',
    topic: 'Tax Planning',
    subtopic: 'QBI Deduction',
    difficulty: 'hard',
    question: 'The Section 199A Qualified Business Income (QBI) deduction is available to:',
    options: [
      'All business entities',
      'Only sole proprietorships',
      'Only C corporations',
      'Pass-through entities and sole proprietors, subject to limitations',
    ],
    correctAnswer: 3,
    explanation: '§199A provides up to 20% deduction on QBI from pass-through businesses (partnerships, S corps, sole proprietorships). Subject to W-2 wage/property limits and Specified Service Trade limitations at higher incomes.',
    reference: 'IRC §199A',
    blueprintArea: 'TCP-I',
    skillLevel: 'Application',
  },
];

export default TCP_QUESTIONS;
